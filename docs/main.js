!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.scores=e||[new i(8,a.Strength),new i(8,a.Dexterity),new i(8,a.Constitution),new i(8,a.Intelligence),new i(8,a.Wisdom),new i(8,a.Charisma)]}static Empty(){return new r([new i(0,a.Strength),new i(0,a.Dexterity),new i(0,a.Constitution),new i(0,a.Intelligence),new i(0,a.Wisdom),new i(0,a.Charisma)])}map(e){return this.scores.map(e)}reduce(e,t){return this.scores.reduce(e,t)}modifier(e){return this.scores.find(t=>t.kind==e).modifier}value(e){return this.scores.find(t=>t.kind==e).value}diff(e){return Object.getOwnPropertyNames(a).map(t=>[t,e.value(t)-this.value(t)])}clone(){return r.fromJson(this)}set(e,t){let n=this.scores.findIndex(t=>t.kind==e);n<0||(this.scores[n].value=t)}add(e){return new r([new i(this.scores[0].value+e.scores[0].value,this.scores[0].kind),new i(this.scores[1].value+e.scores[1].value,this.scores[1].kind),new i(this.scores[2].value+e.scores[2].value,this.scores[2].kind),new i(this.scores[3].value+e.scores[3].value,this.scores[3].kind),new i(this.scores[4].value+e.scores[4].value,this.scores[4].kind),new i(this.scores[5].value+e.scores[5].value,this.scores[5].kind)])}totalCost(){return this.scores.reduce((e,t)=>e+t.cost(),0)}static fromJson(e){return new r(e.scores.map(i.fromJson))}}t.AbilityScores=r;class i{constructor(e,t){this.value=e,this.kind=t}get modifier(){return Math.floor((this.value-10)/2)}cost(){return this.value<14?this.value-8:2*(this.value-13)+5}static fromJson(e){return new i(e.value,e.kind)}}var a;t.AbilityScore=i,function(e){e.Strength="Strength",e.Dexterity="Dexterity",e.Constitution="Constitution",e.Intelligence="Intelligence",e.Wisdom="Wisdom",e.Charisma="Charisma"}(a=t.AbilityKind||(t.AbilityKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(3),a=n(6),s=n(4),o=n(7),l=n(5),c=n(9);class u{constructor(e=u.nextName(),t=new r.AbilityScores,n=new a.Race,i,s=new o.Background(o.BackgroundKind.Criminal),c=w.ChaoticGood(),h=0,p=new k,f=160,m="grey",g=0,v=null,y=null,b=new l.Skills,C=[new E],S=new x,T=[d.Common],A=0,_=0,D=[],P=[]){this.name=e,this.abilityScores=t,this.race=n,this.characterClass=i,this.background=s,this.alignment=c,this.experience=h,this.height=p,this.weight=f,this.eyeColor=m,this.inspiration=g,this.armor=v,this.shield=y,this.skills=b,this.weapons=C,this.wealth=S,this.languages=T,this.damage=A,this.tempHp=_,this.magicItems=D,this.expendables=P,this.background.skills.map(e=>{this.skills.set(e,!0)})}get proficiencyBonus(){return this.characterClass.proficiencyBonus()}get proficiency(){let e=this.characterClass.armorProfs.map(e=>`${e} Armor`);return e.push(...this.characterClass.weaponProfs.map(e=>f[e.replace(/\s/g,"")]?e:`${e} Weapons`)),e.push(...this.characterClass.miscProfs),this.background.toolProficiencies.forEach(t=>{Array.isArray(t)||e.push(t)}),this.background.languages.length>0&&(0==this.background.languages.filter(e=>null!=e).length?e.push(`${this.background.languages.length} languages of your choice`):e.push(...this.background.languages)),e}static nextName(){let e="Carl";return u.counter>0&&(e+=` ${u.counter}`),u.counter++,e}get saves(){let e=this.abilityScores.map(e=>{let t=new r.AbilityScore(e.value,e.kind),n=this.race.abilityModifiers.find(e=>e[0]==t.kind);n&&(t.value+=n[1]);let i=this.characterClass.bonusAbilityScores.find(e=>e[0]==t.kind);return i&&(t.value+=i[1]),t}),t=this.characterClass.savingThrows;return e.map(e=>{let n=t.indexOf(e.kind)>-1,r=n?e.modifier+this.proficiencyBonus:e.modifier;return new C(e.kind,n,r)})}get rawSkills(){let e=this.modifiedAbilityScores().reduce((e,t)=>(e[t.kind]=t.modifier,e),{});return this.skills.map(t=>{let n=e[t.modifier],r=0,i=t.enabled||this.characterClass.selectedSkills.indexOf(t.kind)>-1;i?r=this.characterClass.expertise.includes(t.kind)?2*this.proficiencyBonus:this.proficiencyBonus:this.characterClass.name===s.ClassKind.Bard&&this.level>1&&(r=Math.floor(this.proficiencyBonus/2));let a=n+r;return[t.kind,a,i]})}modifiedAbilityScores(){return this.abilityScores.map(e=>{let t=0,n=this.race.abilityModifiers.find(t=>t[0]==e.kind);n&&(t+=n[1]);let i=this.characterClass.bonusAbilityScores.find(t=>t[0]==e.kind);return i&&(t+=i[1]),new r.AbilityScore(t+e.value,e.kind)})}get passiveWisdom(){return this.abilityScores.modifier(r.AbilityKind.Wisdom)+this.proficiencyBonus}get initiative(){return this.modifiedAbilityScores().find(e=>e.kind===r.AbilityKind.Dexterity).modifier}armorClass(){let e=this.modifiedAbilityScores().find(e=>e.kind===r.AbilityKind.Dexterity).modifier,t=0;return this.armor?(t=this.armor.bonus,this.armor.dexLimit&&this.armor.dexLimit<e&&(e=this.armor.dexLimit)):this.characterClass.name==s.ClassKind.Barbarian&&(t=this.abilityScores.modifier(r.AbilityKind.Constitution)),this.shield&&(t+=this.shield.bonus),10+t+e}get level(){let e=i.Data.levelForExp(this.experience);return this.characterClass.level!=e&&(this.characterClass.level=e),e}addExperience(e){this.experience+=e}get expToNextLevel(){switch(this.level){case 1:return 300-this.experience;case 2:return 900-this.experience;case 3:return 2700-this.experience;case 4:return 6500-this.experience;case 5:return 14e3-this.experience;case 6:return 23e3-this.experience;case 7:return 34e3-this.experience;case 8:return 48e3-this.experience;case 9:return 64e3-this.experience;case 10:return 85e3-this.experience;case 11:return 1e5-this.experience;case 12:return 12e4-this.experience;case 13:return 14e4-this.experience;case 14:return 165e3-this.experience;case 15:return 195e3-this.experience;case 16:return 225e3-this.experience;case 17:return 265e3-this.experience;case 18:return 305e3-this.experience;case 19:return 355e3-this.experience}}hitPoints(){let e=this.abilityScores.modifier(r.AbilityKind.Constitution),t=this.characterClass.hitDie+e,n=i.Data.averageHpFor(this.characterClass.name);for(let r=0;r<this.level;r++)t+=n+e;return t}currentHealth(){return this.hitPoints()+this.tempHp-this.damage}get speed(){return this.characterClass.name==s.ClassKind.Barbarian&&this.level>4?this.race.speed+10:this.race.speed}abilityScoreModNeeded(){return i.Data.getAbilityScoreBonusCountFor(this.characterClass.name,this.level)-this.characterClass.bonusAbilityCount()}skillsModNeeded(){return this.characterClass.numberOfSkills-this.characterClass.selectedSkills.length}availableSkillsToAdd(){return this.characterClass.unselectedAvailableSkills().filter(e=>!this.background.skills.includes(e))}static fromJson(e){let t=new u(e.name,r.AbilityScores.fromJson(e.abilityScores),a.Race.fromJson(e.race),s.Class.fromJson(e.characterClass),o.Background.fromJson(e.background),w.fromJson(e.alignment),e.experience,k.fromJson(e.height),e.weight,e.eyeColor,e.inspiration,S.fromJson(e.armor),S.fromJson(e.shield),l.Skills.fromJson(e.skills),e.weapons.map(E.fromJson),x.fromJson(e.wealth),e.languages,e.damage,e.tempHp,e.magicItems.map(T.fromJson),e.expendables.map(A.fromJson));return e.id&&(t.id=e.id),t}}var d,h,p,f,m,g,v,y,b;u.counter=0,t.Character=u,function(e){e.Common="Common",e.Dwarvish="Dwarvish",e.Elvish="Elvish",e.Halfling="Halfling",e.Draconic="Draconic",e.Gnomish="Gnomish",e.Orc="Orc",e.Infernal="Infernal"}(d=t.NormalLanguage||(t.NormalLanguage={})),function(e){e.ThievesCant="Thieves' Cant",e.Druidic="Druidic"}(t.ClassLanguage||(t.ClassLanguage={})),function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(t.CharacterSize||(t.CharacterSize={}));class w{constructor(e,t){this.major=e,this.minor=t}toString(){return this.major==h.Neutral&&this.minor==p.Neutral?"True Neutral":`${this.major} ${this.minor}`}static LawfulGood(){return new w(h.Lawful,p.Good)}static LawfulNeutral(){return new w(h.Lawful,p.Neutral)}static LawfulEvil(){return new w(h.Lawful,p.Evil)}static NeutralGood(){return new w(h.Neutral,p.Good)}static TrueNeutral(){return new w(h.Neutral,p.Neutral)}static NeutralEvil(){return new w(h.Neutral,p.Evil)}static ChaoticGood(){return new w(h.Chaotic,p.Good)}static ChaoticNeutral(){return new w(h.Chaotic,p.Neutral)}static ChaoticEvil(){return new w(h.Chaotic,p.Evil)}static fromJson(e){return new w(e.major,e.minor)}}t.Alignment=w,function(e){e.Lawful="Lawful",e.Neutral="Neutral",e.Chaotic="Chaotic"}(h=t.AlignmentMajor||(t.AlignmentMajor={})),function(e){e.Good="Good",e.Neutral="Neutral",e.Evil="Evil"}(p=t.AlignmentMinor||(t.AlignmentMinor={}));class k{constructor(e=5,t=9){this.feet=e,this.inches=t}toString(){return`${this.feet}' ${this.inches}"`}static fromJson(e){return new k(e.feet,e.inches)}}t.Height=k;class C{constructor(e,t,n){this.kind=e,this.enabled=t,this.value=n}static fromJson(e){return new C(e.kind,e.enabled,e.value)}}t.Save=C;class S{constructor(e,t,n,r){this.name=e,this.kind=t,this.bonus=n,this.dexLimit=r}static fromJson(e){return e?new S(e.name,e.kind,e.bonus,e.dexLimit):null}}t.Armor=S,function(e){e.Padded="Padded",e.Leather="Leather",e.StuddedLeather="StuddedLeather"}(t.LightArmor||(t.LightArmor={})),function(e){e.Hide="Hide",e.ChainShirt="ChainShirt",e.ScaleMail="ScaleMail",e.BreastPlate="BreastPlate",e.HalfPlate="HalfPlate"}(t.MediumArmor||(t.MediumArmor={})),function(e){e.RingMail="RingMail",e.ChainMail="ChainMail",e.Splint="Splint",e.Plate="Plate"}(t.HeavyArmor||(t.HeavyArmor={})),function(e){e.Light="Light",e.Medium="Medium",e.Heavy="Heavy",e.Shield="Shield"}(t.ArmorWeight||(t.ArmorWeight={}));class E{constructor(e="Daggar",t=m.Melee,n=g.Simple,r=v.Piercing,i=y.Light,a=b.One,s=[1,4],o=new c.Range(5),l=1,u=new c.Range(20,60),d=!1,h=!0,p=""){this.name=e,this.weaponType=t,this.kind=n,this.damageKind=r,this.weight=i,this.handedness=a,this.hitDie=s,this.range=o,this.carryWeight=l,this.thrown=u,this.isRanged=d,this.isFinesse=h,this.notes=p}miscString(){let e=`${this.damageKind.substr(0,1)}`;return this.handedness&&(e+=`/${this.handedness.substr(0,1)}`),this.weight&&(e+=`/${this.weight.substr(0,1).toLocaleLowerCase()}`),this.isRanged&&(e+="/R"),this.thrown&&(e+="/T"),this.isFinesse&&(e+="/F"),e+="/"+this.range.metaString()}static fromJson(e){return new E(e.name,e.weaponType,e.kind,e.damageKind,e.weight,e.handedness,e.hitDie,c.Range.fromJson(e.range),e.carryWeight,c.Range.fromJson(e.thrown),e.isRanged,e.isFinesse,e.notes)}}t.Weapon=E,function(e){e.Battleaxe="Battleaxe",e.HandAxe="Hand Axe",e.ThrowingHammer="Throwing Hammer",e.WarHammer="War Hammer",e.LongSword="Long Sword",e.ShortSword="Short Sword",e.ShortBow="Short Bow",e.LongBow="Long Bow",e.Rapier="Rapier",e.HandCrossbow="Hand Crossbow",e.Club="Club",e.Dagger="Dagger",e.Dart="Dart",e.Javelin="Javelin",e.Mace="Mace",e.QuarterStaff="Quarter Staff",e.Scimitar="Scimitar",e.Sickle="Sickle",e.Sling="Sling",e.LightCrossbow="LightCrossbow",e.Spear="Spear"}(f=t.StdWeaponName||(t.StdWeaponName={})),function(e){e.Melee="Melee",e.Range="Range"}(m=t.WeaponType||(t.WeaponType={})),function(e){e.Simple="Simple",e.Martial="Martial",e.Natural="Natural"}(g=t.WeaponKind||(t.WeaponKind={})),function(e){e.Piercing="Piercing",e.Slashing="Slashing",e.Bludgeoning="Bludgeoning",e.Acid="Acid",e.Fire="Fire",e.Lightening="Lightening",e.Cold="Cold",e.Poison="Poison"}(v=t.WeaponDamageKind||(t.WeaponDamageKind={})),function(e){e.Light="Light",e.Heavy="Heavy"}(y=t.WeaponWeight||(t.WeaponWeight={})),function(e){e.One="One",e.Two="Two",e.Versatile="Versatile"}(b=t.WeaponHandedness||(t.WeaponHandedness={}));class x{constructor(e=0,t=0,n=0,r=0,i=0){this.copper=e,this.silver=t,this.electrum=n,this.gold=r,this.platinum=i,this.balance()}balance(){this.roundUp(),this.roundDown()}clone(){return x.fromJson(this)}add(e){return new x(this.copper+e.copper,this.silver+e.silver,this.electrum+e.electrum,this.gold+e.gold,this.platinum+e.platinum)}mul(e){return new x(this.copper*e,this.silver*e,this.electrum*e,this.gold*e,this.platinum*e)}roundUp(){for(;this.copper>99;)this.copper-=100,this.silver++;for(;this.silver>99;)this.silver-=100,this.electrum++;for(;this.electrum>99;)this.electrum-=100,this.gold++;for(;this.gold>99;)this.gold-=100,this.platinum+=1}roundDown(){for(;this.copper<0;)this.silver--,this.copper+=100;for(;this.silver<0;)this.electrum--,this.silver+=100;for(;this.electrum<0;)this.gold--,this.electrum+=100;for(;this.gold<0;)this.platinum--,this.gold+=100}static fromJson(e){return new x(e.copper||0,e.silver||0,e.electrum||0,e.gold||0,e.platinum||0)}}t.Wealth=x;class T{constructor(e,t){this.name=e,this.buf=t}static fromJson(e){return new T(e.name,e.buf)}}t.MagicItem=T;class A{constructor(e,t,n){this.quantity=e,this.name=t,this.desc=n}static fromJson(e){return new A(e.quantity,e.name,e.desc)}}t.ExpendableItem=A},function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),a=n(6),s=n(4),o=n(7),l=n(14),c=n(15),u=n(11);t.Data=class{constructor(){this.db=new f}getCharacters(){return r(this,void 0,void 0,function*(){return this.db.ready||(yield this.db.init()),yield this.db.allCharacters()})}addCharacter(e){return r(this,void 0,void 0,function*(){yield this.db.addCharacter(e)})}saveCharacter(e){return r(this,void 0,void 0,function*(){return this.db.saveCharacter(e)})}saveCharacters(e){return r(this,void 0,void 0,function*(){return this.db.ready||(yield this.db.init()),yield this.db.saveCharacters(e)})}getSpellsForClass(e){return r(this,void 0,void 0,function*(){return this.db.spellsForClass(e)})}getClassDetails(e,t){return r(this,void 0,void 0,function*(){return this.db.getClassDetails(e,t)})}static getAllClasses(){return Object.getOwnPropertyNames(s.ClassKind).map(e=>s.ClassKind[e])}static getAllRaces(){return Object.getOwnPropertyNames(a.RaceKind).map(e=>a.RaceKind[e])}static subRaceFor(e){switch(e){case a.RaceKind.Elf:return Object.getOwnPropertyNames(a.Elf).map(e=>a.Elf[e]);case a.RaceKind.Dwarf:return Object.getOwnPropertyNames(a.Dwarf).map(e=>a.Dwarf[e]);case a.RaceKind.Gnome:return Object.getOwnPropertyNames(a.Gnome).map(e=>a.Gnome[e]);case a.RaceKind.Halfling:return Object.getOwnPropertyNames(a.Halfling).map(e=>a.Halfling[e]);case a.RaceKind.Dragonborn:return Object.getOwnPropertyNames(a.Dragon).map(e=>a.Dragon[e]);default:return null}}static getAllBackground(){return[o.Background.Acolyte(),o.Background.Charlatan(),o.Background.Criminal(),o.Background.Entertainer(),o.Background.FolkHero(),o.Background.GuildArtisan(),o.Background.Hermit(),o.Background.Noble(),o.Background.Outlander(),o.Background.Sage(),o.Background.Sailor(),o.Background.Soldier(),o.Background.Urchin()]}static levelForExp(e){return e<300?1:e<900?2:e<2700?3:e<6500?4:e<14e3?5:e<23e3?6:e<34e3?7:e<48e3?8:e<64e3?9:e<85e3?10:e<1e5?11:e<12e4?12:e<14e4?13:e<165e3?14:e<195e3?15:e<225e3?16:e<265e3?17:e<305e3?18:e<355e3?19:20}static proficiencyBonusFor(e){return e<5?2:e<9?3:e<13?4:e<17?5:6}static averageHpFor(e){switch(e){case s.ClassKind.Barbarian:return 7;case s.ClassKind.Fighter:case s.ClassKind.Paladin:case s.ClassKind.Ranger:return 6;case s.ClassKind.Bard:case s.ClassKind.Cleric:case s.ClassKind.Druid:case s.ClassKind.Rogue:case s.ClassKind.Warlock:return 5;case s.ClassKind.Sorcerer:case s.ClassKind.Wizard:return 4}}static startingWealthFor(e){let t=10,n=0;switch(e){case s.ClassKind.Barbarian:case s.ClassKind.Druid:n=2;break;case s.ClassKind.Sorcerer:n=3;break;case s.ClassKind.Rogue:case s.ClassKind.Warlock:case s.ClassKind.Wizard:n=4;break;default:n=5;case s.ClassKind.Monk:t=1}let r=0;for(var a=0;a<n;a++)r+=Math.floor(4*Math.random())+1;return new i.Wealth(0,0,0,r*t,0)}static getAbilityScoreBonusCountFor(e,t){let n=0;return t>3&&(n+=2),t>7&&(n+=2),t>11&&(n+=2),t>15&&(n+=2),t>18&&(n+=2),e===s.ClassKind.Rogue&&t>9&&(n+=2),e===s.ClassKind.Fighter&&(t>5&&(n+=2),t>13&&(n+=2)),n}};class d{constructor(e,t,n,r,i,a,s){this.classKind=e,this.level=t,this.name=n,this.shortDesc=r,this.longDesc=i,this.options=a,s&&(this.id=s)}static fromJson(e){let t=new d(e.classKind,e.level,e.name,e.shortDesc,e.longDesc);return e.options&&(t.options=e.options.map(e=>h.fromJson(e,e.features))),e.id&&(t.id=e.id),t}toString(){return`${this.name} - ${this.shortDesc}`}}t.ClassFeature=d;class h{constructor(e,t,n,r,i){this.name=e,this.shortDesc=t,this.longDesc=n,this.features=r,i&&(this.id=i)}static fromJson(e,t){let n=new h(e.name,e.shortDesc,e.longDesc);return t&&(n.features=t.map(d.fromJson)),e.id&&(n.id=e.id),n}}function p(e){let t="";return t+=e[0].toLocaleUpperCase(),t+=e.substr(1)}t.ClassFeatureOption=h;class f extends c.default{constructor(){super("DnDCharacterManager"),this.ready=!1,window.db=this,this.version(1).stores({seeds:"++id",characters:"++id,name",bardSpells:"++id,name",clericSpells:"++id,name",druidSpells:"++id,name",paladinSpells:"++id,name",rangerSpells:"++id,name",rogueSpells:"++id,name",sorcererSpells:"++id,name",warlockSpells:"++id,name",wizardSpells:"++id,name"}),this.version(2).stores({seeds:"++id",characters:"++id,name",spells:"++id,name,*classKinds",classFeatures:"++id,classKind,level,optionId",classFeatureOptions:"++id,featId"}).upgrade(e=>{console.info("upgrading to v2"),this.upgradeToTwo(e).then(()=>{console.info("update complete")})})}upgradeToTwo(e){return r(this,void 0,void 0,function*(){for(let t in e.tables){let n=t.indexOf("Spells");if(n>-1){let r=p(t.substring(0,n)),i=yield e.table(t).toArray();for(let t of i){let n=yield e.table("spells").where("name").equals(t.name).first();n?(n.classKinds.push(r),yield e.table("spells").put(n)):(delete t.id,t.classKinds=[r],yield e.table("spells").add(t))}}}})}init(){return r(this,void 0,void 0,function*(){console.info("checking for seeds");let e=yield this.seeds.orderBy("id").reverse().first();e?console.info("last seeded version",e.version||1,"at",e.when):(console.info("no seeds... seeding"),yield this.seed()),this.ready=!0})}seed(){return r(this,void 0,void 0,function*(){try{let e=yield Promise.resolve().then(()=>n(12));yield e.seed(this)}catch(e){throw console.error("error seeding",e),e}})}allCharacters(){return r(this,void 0,void 0,function*(){return(yield this.characters.toArray()).map(i.Character.fromJson)})}addCharacter(e){return r(this,void 0,void 0,function*(){try{yield this.characters.add(e)}catch(t){console.error("failed to add character",t,e)}})}saveCharacter(e){return r(this,void 0,void 0,function*(){try{let t=i.Character.fromJson(yield this.characters.get(e.id));if(t.level<e.level){for(let n=0;n<e.level-t.level;n++){let r=yield this.getSingleLevelFeatures(e.characterClass.name,t.level+n+1);e.characterClass.classDetails.features.push(...r)}e.characterClass._level=e.level,e.characterClass.classDetails.level=e.level}yield this.characters.put(e)}catch(e){console.error(e)}return e})}saveCharacters(e){return r(this,void 0,void 0,function*(){try{yield this.characters.bulkPut(e)}catch(t){throw console.error("Failed to save characters",t,e),t}})}spellsForClass(e){return r(this,void 0,void 0,function*(){try{return(yield this.spells.where("classKinds").equals(e).toArray()).map(e=>new l.Spell(e.name,e.level,e.verbalRequirement,e.somaticRequirement,e.materialRequirement,e.castingTime,e.desc,e.duration,e.range,e.save))}catch(t){throw console.error("failed to get spells for ",e,t),t}})}getClassDetails(e,t){return r(this,void 0,void 0,function*(){let n=yield this.getClassFeatures(e,t);switch(e){case s.ClassKind.Barbarian:return new u.BarbarianDetails(t,n);case s.ClassKind.Bard:return new u.BardDetails(t,n);case s.ClassKind.Cleric:return new u.ClericDetails(t,n);case s.ClassKind.Druid:return new u.DruidDetails(t,n);case s.ClassKind.Fighter:return new u.FighterDetails(t,n);case s.ClassKind.Monk:return new u.MonkDetails(t,n);case s.ClassKind.Paladin:return new u.PaladinDetails(t,n);case s.ClassKind.Ranger:return new u.RangerDetails(t,n);case s.ClassKind.Rogue:return new u.RogueDetails(t,n);case s.ClassKind.Sorcerer:return new u.SorcererDetails(t,n);case s.ClassKind.Warlock:return new u.WarlockDetails(t,n);case s.ClassKind.Wizard:return new u.WizardDetails(t,n)}})}getClassFeatures(e,t,n){return r(this,void 0,void 0,function*(){let r=yield this.classFeatures.where("classKind").equals(e).and(e=>e.level<=t&&e.optionId==n).toArray(),i=new Array(r.length);for(let n=0;n<r.length;n++){let a=r[n],s=new d(a.classKind,a.level,a.name,a.shortDesc,a.longDesc,null,a.id),o=yield this.getOptionsForClassFeature(r[n].id);if(o&&o.length>0){let n=new Array(o.length);for(let r=0;r<o.length;r++){let i=o[r],a=yield this.getClassFeatures(e,t,i.id);n[r]=new h(i.name,i.shortDesc,i.longDesc,a,i.id)}s.options=n}i[n]=s}return i})}getSingleLevelFeatures(e,t,n){return r(this,void 0,void 0,function*(){let r=yield this.classFeatures.where("classKind").equals(e).and(e=>e.level===t&&e.optionId==n).toArray(),i=new Array(r.length);for(let n=0;n<r.length;n++){let a=r[n],s=new d(a.classKind,a.level,a.name,a.shortDesc,a.longDesc,null,a.id),o=yield this.getOptionsForClassFeature(r[n].id);if(o&&o.length>0){let n=new Array(o.length);for(let r=0;r<o.length;r++){let i=o[r],a=yield this.getClassFeatures(e,t,i.id);n[r]=new h(i.name,i.shortDesc,i.longDesc,a,i.id)}s.options=n}i[n]=s}return i})}getOptionsForClassFeature(e){return r(this,void 0,void 0,function*(){return yield this.classFeatureOptions.where("featId").equals(e).toArray()})}getFeaturesForOption(e){return r(this,void 0,void 0,function*(){return yield this.classFeatures.where("optionId").equals(e).toArray()})}}t.Database=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),a=n(5),s=n(11),o=n(3);t.DEFAULT_BONUS_ABILITY_SCORES=[[r.AbilityKind.Strength,0],[r.AbilityKind.Dexterity,0],[r.AbilityKind.Constitution,0],[r.AbilityKind.Intelligence,0],[r.AbilityKind.Wisdom,0],[r.AbilityKind.Charisma,0]];class l{constructor(e,n,r,i=t.DEFAULT_BONUS_ABILITY_SCORES,a=[],s=[]){switch(this.name=e,this._level=n,this.classDetails=r,this.bonusAbilityScores=i,this.selectedSkills=a,this.expertise=s,this.numberOfPrimaryAbilities=1,this.savingThrows=[],this.weaponProfs=[],this.armorProfs=[],this.canUseShield=!1,this.features=[],this.numberOfSkills=0,this.availableSkills=[],this.miscProfs=[],e){case c.Barbarian:this.barbarianCtor(r);break;case c.Bard:this.bardCtor(r);break;case c.Cleric:this.clericCtor(r);break;case c.Druid:this.druidCtor(r);case c.Fighter:this.fighterCtor(r);break;case c.Monk:this.monkCtor(r);break;case c.Paladin:this.paladinCtor(r);break;case c.Ranger:this.rangerCtor(r);break;case c.Rogue:this.rogueCtor(r);break;case c.Sorcerer:this.sorcererCtor(r);break;case c.Warlock:this.warlockCtor(r);break;case c.Wizard:this.wizardCtor(r)}}get level(){return this._level}set level(e){this._level=e,this.classDetails.level&&(this.classDetails.level=e)}proficiencyBonus(){return o.Data.proficiencyBonusFor(this.level)}barbarianCtor(e){this.desc="A fierce warrior of primitive background who can enter a battle rage",this.classDetails=e,this.hitDie=12,this.primaryAbility=[r.AbilityKind.Strength,r.AbilityKind.Constitution],this.savingThrows=[r.AbilityKind.Strength,r.AbilityKind.Constitution],this.weaponProfs=[i.WeaponKind.Martial,i.WeaponKind.Simple],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium,i.ArmorWeight.Heavy],this.canUseShield=!0,this.numberOfSkills=2,this.availableSkills=[a.SkillKind.AnimalHandling,a.SkillKind.Athletics,a.SkillKind.Intimidation,a.SkillKind.Nature,a.SkillKind.Perception,a.SkillKind.Survival]}bardCtor(e=new s.BardDetails(this._level,null,[])){this.desc="An inspiring magician whose power echoes the music of creation",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Charisma],this.savingThrows=[r.AbilityKind.Charisma,r.AbilityKind.Dexterity],this.weaponProfs=[i.WeaponKind.Simple,i.StdWeaponName.HandCrossbow,i.StdWeaponName.LongSword,i.StdWeaponName.Rapier,i.StdWeaponName.ShortSword],this.armorProfs=[i.ArmorWeight.Light],this.numberOfSkills=3,this.availableSkills=Object.getOwnPropertyNames(a.SkillKind).map(e=>a.SkillKind[e]),this.classDetails&&this.classDetails.archetype===s.BardCollege.Valor&&this._level>2&&(this.weaponProfs.push(i.WeaponKind.Martial),this.armorProfs.push(i.ArmorWeight.Medium),this.canUseShield=!0),this.miscProfs=["Musical Instrument"],this._level>2&&this.expertise.length<2&&(this.expertise=[null,null])}clericCtor(e){this.desc="A priestly champion who wields divine magic in service of a higher power",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Wisdom],this.savingThrows=[r.AbilityKind.Wisdom,r.AbilityKind.Charisma],this.weaponProfs=[i.WeaponKind.Simple],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium],this.numberOfSkills=2,this.classDetails.archetype!==s.ClericDomain.Knowledge&&this.classDetails.archetype!==s.ClericDomain.Nature||(this.numberOfSkills+=2),this.availableSkills=[a.SkillKind.History,a.SkillKind.Insight,a.SkillKind.Medicine,a.SkillKind.Persuasion,a.SkillKind.Religion],this.canUseShield=!0}druidCtor(e){this.desc="A priest of the Old Faith, wielding lhe powers of nature-moonlight and plant growth, fire and lightning-and adopting animal forms",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Wisdom],this.savingThrows=[r.AbilityKind.Wisdom,r.AbilityKind.Intelligence],this.weaponProfs=[i.StdWeaponName.Club,i.StdWeaponName.Dagger,i.StdWeaponName.Dart,i.StdWeaponName.Javelin,i.StdWeaponName.Mace,i.StdWeaponName.QuarterStaff,i.StdWeaponName.Scimitar,i.StdWeaponName.Sickle,i.StdWeaponName.Spear],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Arcana,a.SkillKind.AnimalHandling,a.SkillKind.Insight,a.SkillKind.Medicine,a.SkillKind.Nature,a.SkillKind.Perception,a.SkillKind.Religion,a.SkillKind.Survival],this.canUseShield=!0}fighterCtor(e){this.desc="A master of martial combat, skilled with a variety of weapons and armor",this.classDetails=e,this.hitDie=10,this.primaryAbility=[r.AbilityKind.Strength,r.AbilityKind.Dexterity],this.savingThrows=[r.AbilityKind.Strength,r.AbilityKind.Dexterity],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium,i.ArmorWeight.Heavy],this.weaponProfs=[i.WeaponKind.Simple,i.WeaponKind.Martial],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Acrobatics,a.SkillKind.AnimalHandling,a.SkillKind.Athletics,a.SkillKind.History,a.SkillKind.Insight,a.SkillKind.Intimidation,a.SkillKind.Perception,a.SkillKind.Survival],this.canUseShield=!0}monkCtor(e){this.desc="An master of martial arts, harnessing the power of lhe body in pursuit of physical and spiritual perfection",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Dexterity,r.AbilityKind.Wisdom],this.numberOfPrimaryAbilities=2,this.savingThrows=[r.AbilityKind.Strength,r.AbilityKind.Dexterity],this.armorProfs=[],this.weaponProfs=[i.WeaponKind.Simple,i.StdWeaponName.ShortSword],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Acrobatics,a.SkillKind.Athletics,a.SkillKind.History,a.SkillKind.Insight,a.SkillKind.Religion,a.SkillKind.Stealth]}paladinCtor(e){this.desc="A holy warrior bound to a sacred oath",this.classDetails=e,this.hitDie=10,this.primaryAbility=[r.AbilityKind.Strength,r.AbilityKind.Charisma],this.numberOfPrimaryAbilities=2,this.savingThrows=[r.AbilityKind.Wisdom,r.AbilityKind.Charisma],this.canUseShield=!0,this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium,i.ArmorWeight.Heavy],this.weaponProfs=[i.WeaponKind.Martial,i.WeaponKind.Simple],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Athletics,a.SkillKind.Insight,a.SkillKind.Intimidation,a.SkillKind.Medicine,a.SkillKind.Persuasion,a.SkillKind.Religion]}rangerCtor(e){this.desc="A warrior who uses martial prowess and nature magic lo combat threats on lhe edges of civilization",this.classDetails=e,this.hitDie=10,this.primaryAbility=[r.AbilityKind.Dexterity,r.AbilityKind.Wisdom],this.numberOfPrimaryAbilities=2,this._level,this.savingThrows=[r.AbilityKind.Strength,r.AbilityKind.Dexterity],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium],this.canUseShield=!0,this.weaponProfs=[i.WeaponKind.Simple,i.WeaponKind.Martial],this.numberOfSkills=3,this.availableSkills=[a.SkillKind.AnimalHandling,a.SkillKind.Athletics,a.SkillKind.Insight,a.SkillKind.Investigation,a.SkillKind.Nature,a.SkillKind.Perception,a.SkillKind.Stealth,a.SkillKind.Survival]}rogueCtor(e){this.desc="A scoundrel who uses stealth and trickery to overcome obstacles and enemies",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Dexterity],this.savingThrows=[r.AbilityKind.Dexterity,r.AbilityKind.Intelligence],this.armorProfs=[i.ArmorWeight.Light,i.ArmorWeight.Medium],this.canUseShield=!0,this.weaponProfs=[i.WeaponKind.Simple,i.StdWeaponName.HandCrossbow,i.StdWeaponName.LongSword,i.StdWeaponName.Rapier,i.StdWeaponName.ShortSword],this.numberOfSkills=4,this.availableSkills=[a.SkillKind.Acrobatics,a.SkillKind.Athletics,a.SkillKind.Deception,a.SkillKind.Insight,a.SkillKind.Intimidation,a.SkillKind.Investigation,a.SkillKind.Perception,a.SkillKind.Performance,a.SkillKind.Persuasion,a.SkillKind.SleightOfHand,a.SkillKind.Stealth],this.expertise.length<2&&(this.expertise=[null,null])}sorcererCtor(e){this.desc="A spell caster who draws on inherent magic from a gift or bloodline",this.classDetails=e,this.hitDie=6,this.primaryAbility=[r.AbilityKind.Charisma],this.savingThrows=[r.AbilityKind.Constitution,r.AbilityKind.Charisma],this.weaponProfs=[i.StdWeaponName.Dagger,i.StdWeaponName.Sling,i.StdWeaponName.Dart,i.StdWeaponName.QuarterStaff,i.StdWeaponName.LightCrossbow],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Arcana,a.SkillKind.Deception,a.SkillKind.Insight,a.SkillKind.Intimidation,a.SkillKind.Persuasion,a.SkillKind.Religion]}warlockCtor(e){this.desc="A wielder of magic that is derived from a bargain with an extra-planar entity",this.classDetails=e,this.hitDie=8,this.primaryAbility=[r.AbilityKind.Charisma],this.savingThrows=[r.AbilityKind.Wisdom,r.AbilityKind.Charisma],this.armorProfs=[i.ArmorWeight.Light],this.weaponProfs=[i.WeaponKind.Simple],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Arcana,a.SkillKind.Deception,a.SkillKind.History,a.SkillKind.Intimidation,a.SkillKind.Investigation,a.SkillKind.Nature,a.SkillKind.Religion]}wizardCtor(e){this.desc="A scholarly magic-user capable of manipulating lhe structures of reality",this.classDetails=e,this.hitDie=6,this.primaryAbility=[r.AbilityKind.Intelligence],this.savingThrows=[r.AbilityKind.Intelligence,r.AbilityKind.Wisdom],this.weaponProfs=[i.StdWeaponName.Dagger,i.StdWeaponName.Dart,i.StdWeaponName.Sling,i.StdWeaponName.QuarterStaff,i.StdWeaponName.LightCrossbow],this.armorProfs=[],this.numberOfSkills=2,this.availableSkills=[a.SkillKind.Arcana,a.SkillKind.History,a.SkillKind.Insight,a.SkillKind.Investigation,a.SkillKind.Medicine,a.SkillKind.Religion]}addLevel(){this.level+=1}get isCaster(){return this.name==c.Bard||this.name==c.Cleric||this.name==c.Druid||this.name==c.Paladin&&this.level>1||this.name==c.Ranger||this.name==c.Sorcerer||this.name==c.Warlock||this.name==c.Wizard||this.name==c.Fighter&&this.classDetails.archetype==s.CombatArchetype.EldrichKnight||this.name==c.Rogue&&this.classDetails.archetype==s.RoguishArchetype.ArcaneTrickster}bonusAbilityCount(){return this.bonusAbilityScores.reduce((e,t)=>e+t[1],0)}unselectedAvailableSkills(){if(this.name===c.Cleric){if(this.classDetails.archetype===s.ClericDomain.Knowledge)return[a.SkillKind.Arcana,a.SkillKind.History,a.SkillKind.Nature,a.SkillKind.Religion].filter(e=>this.selectedSkills.includes(e));if(this.classDetails.archetype===s.ClericDomain.Nature)return[a.SkillKind.AnimalHandling,a.SkillKind.Nature,a.SkillKind.Survival].filter(e=>this.selectedSkills.includes(e))}return[]}static fromJson(e){let t=new l(null,e._level,null,e.bonusAbilityScores,e.selectedSkills||[],e.expertise||[]);switch(t.name=e.name,e.name){case c.Barbarian:t.barbarianCtor(s.BarbarianDetails.fromJson(e.classDetails));break;case c.Bard:t.bardCtor(s.BardDetails.fromJson(e.classDetails));break;case c.Cleric:t.clericCtor(s.ClericDetails.fromJson(e.classDetails));break;case c.Druid:t.druidCtor(s.DruidDetails.fromJson(e.classDetails));break;case c.Fighter:t.fighterCtor(s.FighterDetails.fromJson(e.classDetails));break;case c.Monk:t.monkCtor(s.MonkDetails.fromJson(e.classDetails));break;case c.Paladin:t.paladinCtor(s.PaladinDetails.fromJson(e.classDetails));break;case c.Ranger:t.rangerCtor(s.RangerDetails.fromJson(e.classDetails));break;case c.Rogue:t.rogueCtor(s.RogueDetails.fromJson(e.classDetails));break;case c.Sorcerer:t.sorcererCtor(s.SorcererDetails.fromJson(e.classDetails));break;case c.Warlock:t.warlockCtor(s.WarlockDetails.fromJson(e.classDetails));break;case c.Wizard:t.wizardCtor(s.WizardDetails.fromJson(e.classDetails))}return t}}var c;t.Class=l,function(e){e.Barbarian="Barbarian",e.Bard="Bard",e.Cleric="Cleric",e.Druid="Druid",e.Fighter="Fighter",e.Monk="Monk",e.Paladin="Paladin",e.Ranger="Ranger",e.Rogue="Rogue",e.Sorcerer="Sorcerer",e.Warlock="Warlock",e.Wizard="Wizard"}(c=t.ClassKind||(t.ClassKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);class i{constructor(e=[new a(s.Acrobatics,!1,r.AbilityKind.Dexterity),new a(s.AnimalHandling,!1,r.AbilityKind.Wisdom),new a(s.Athletics,!1,r.AbilityKind.Strength),new a(s.Arcana,!1,r.AbilityKind.Intelligence),new a(s.Deception,!1,r.AbilityKind.Charisma),new a(s.History,!1,r.AbilityKind.Intelligence),new a(s.Insight,!1,r.AbilityKind.Wisdom),new a(s.Intimidation,!1,r.AbilityKind.Charisma),new a(s.Investigation,!1,r.AbilityKind.Intelligence),new a(s.Medicine,!1,r.AbilityKind.Wisdom),new a(s.Nature,!1,r.AbilityKind.Intelligence),new a(s.Perception,!1,r.AbilityKind.Wisdom),new a(s.Performance,!1,r.AbilityKind.Charisma),new a(s.Persuasion,!1,r.AbilityKind.Charisma),new a(s.Religion,!1,r.AbilityKind.Intelligence),new a(s.SleightOfHand,!1,r.AbilityKind.Dexterity),new a(s.Stealth,!1,r.AbilityKind.Dexterity),new a(s.Survival,!1,r.AbilityKind.Wisdom)]){this.skills=e}isEnabled(e){if(!this.skills)return!1;let t=this.skills.filter(t=>t.kind==e);return t.length>0&&t[0].enabled}map(e){return this.skills.map(e)}set(e,t){let n=this.skills.findIndex(t=>t.kind==e);n>-1&&(this.skills[n].enabled=t)}enabledCount(){return this.skills.filter(e=>e.enabled).length}static fromJson(e){return new i(e.skills.map(a.fromJson))}}t.Skills=i;class a{constructor(e,t,n){this.kind=e,this.enabled=t,this.modifier=n}static from(e){return new a(e.kind,e.enabled,e.modifier)}get desc(){switch(this.kind){case s.Acrobatics:return`Dealing with difficult physical situations like tumbling or balancing on a ledge, modified by ${this.modifier}`;case s.AnimalHandling:return`Your ability to communicate with animals like calming your mount or interpreting your dog's needs, modified by ${this.modifier}`;case s.Arcana:return`This represents your knowledge about all things magic, modified by ${this.modifier}`;case s.Athletics:return`Physical situations that might be an olympic individual competition like long/high jump or swimming, modified by ${this.modifier}`;case s.Deception:return`Your ability to hide information from someone else, modified by ${this.modifier}`;case s.History:return`Your ability to recall important things from the past, modified by ${this.modifier}`;case s.Insight:return`Your ability to see through deception, modified by ${this.modifier}`;case s.Intimidation:return`Your ability to scare someone into doing what you want, modified by ${this.modifier}`;case s.Investigation:return`Your ability to discern the information you need from the resources in front of you, modified by ${this.modifier}`;case s.Medicine:return`Your ability to stabilize someone who's below 0 HP, modified by ${this.modifier}`;case s.Nature:return`You knowledge of the natural world, modified by ${this.modifier}`;case s.Perception:return`Your ability to notice something in your current environment, modified by ${this.modifier}`;case s.Performance:return`Your ability to entertain a crowd, modified by ${this.modifier}`;case s.Persuasion:return`Your ability to influence someone else's decision, modified by ${this.modifier}`;case s.Religion:return`Your knowledge about the gods and their worshipers, modified by ${this.modifier}`;case s.SleightOfHand:return`When you want to do something with your hands discretely enough that someone else doesn't see/feel it like card tricks or pick pocketing, modified by ${this.modifier}`;case s.Stealth:return`When you want to remain hidden, modified by ${this.modifier}`;case s.Survival:return`Anything Bear Grills would need to do to survive, modified by ${this.modifier}`;default:return""}}copy(){return a.from(this)}static fromJson(e){return new a(e.kind,e.enabled,e.modifier)}}var s;t.Skill=a,function(e){e.Acrobatics="Acrobatics",e.AnimalHandling="Animal Handling",e.Arcana="Arcana",e.Athletics="Athletics",e.Deception="Deception",e.History="History",e.Insight="Insight",e.Intimidation="Intimidation",e.Investigation="Investigation",e.Medicine="Medicine",e.Nature="Nature",e.Perception="Perception",e.Performance="Performance",e.Persuasion="Persuasion",e.Religion="Religion",e.SleightOfHand="Sleight Of Hand",e.Stealth="Stealth",e.Survival="Survival"}(s=t.SkillKind||(t.SkillKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9),a=n(0),s=n(10);class o{constructor(e=l.Human,t=null){switch(this.name=e,this.size=r.CharacterSize.Medium,this.speed=30,this.weaponProfs=[],this.toolProfs=[],this.languages=[],this.armorProfs=[],this.miscBenefits=[],this.bonusLanguages=0,this.naturalWeapons=[new r.Weapon("Left Fist",r.WeaponType.Melee,r.WeaponKind.Martial,r.WeaponDamageKind.Bludgeoning,r.WeaponWeight.Light,r.WeaponHandedness.One,[1,4]),new r.Weapon("Right Fist",r.WeaponType.Melee,r.WeaponKind.Martial,r.WeaponDamageKind.Bludgeoning,r.WeaponWeight.Light,r.WeaponHandedness.One,[1,4])],e==l.Dragonborn&&null==t&&(t=p.Black),this.checkSubRace(t),this.subRace=t,e){case l.Dwarf:this.dwarfCtor();break;case l.Elf:this.elfCtor();break;case l.Halfling:this.halflingCtor();break;case l.Human:this.humanCtor();break;case l.Dragonborn:this.dragonbornCtor();break;case l.Gnome:this.gnomeCtor();break;case l.HalfElf:this.halfElfCtor();break;case l.HalfOrc:this.halfOrcCtor();break;case l.Tiefling:this.tieflingCtor()}}dwarfCtor(){this.abilityModifiers=[[a.AbilityKind.Constitution,2]],this.subRace==c.Hill&&this.abilityModifiers.push([a.AbilityKind.Wisdom,1]),this.subRace==c.Mountain&&this.abilityModifiers.push([a.AbilityKind.Strength,2]),this.ageRange=[50,350],this.preferredAlignment=new r.Alignment(r.AlignmentMajor.Lawful,r.AlignmentMinor.Good),this.heightRange=[new r.Height(4,0),new r.Height(5,0)],this.size=r.CharacterSize.Medium,this.avgWeight=150,this.speed=25,this.darkVision=new i.Range(60),this.weaponProfs=[r.StdWeaponName.Battleaxe,r.StdWeaponName.HandAxe,r.StdWeaponName.ThrowingHammer,r.StdWeaponName.WarHammer],this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Dwarvish],this.miscBenefits=["Your speed is not reduced by wearing heavy armor","Stonecunning: +1 on Int (History) checks about Stonework"],this.subRace==c.Hill&&this.miscBenefits.push("+1 max HP at each level"),this.subRace==c.Mountain&&(this.armorProfs=[r.ArmorWeight.Light,r.ArmorWeight.Medium])}elfCtor(){this.abilityModifiers=[[a.AbilityKind.Dexterity,2]],this.subRace==u.High&&this.abilityModifiers.push([a.AbilityKind.Intelligence,1]),this.subRace==u.Wood&&this.abilityModifiers.push([a.AbilityKind.Wisdom,1]),this.subRace==u.Drow&&this.abilityModifiers.push([a.AbilityKind.Charisma,1]),this.ageRange=[100,750],this.preferredAlignment=new r.Alignment(r.AlignmentMajor.Chaotic,this.subRace==u.Drow?r.AlignmentMinor.Evil:r.AlignmentMinor.Good),this.heightRange=[new r.Height(5,0),new r.Height(6,0)],this.avgWeight=130,this.size=r.CharacterSize.Medium,this.speed=30,this.darkVision=new i.Range(60),this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Elvish],this.miscBenefits=["Keen Senses: Proficiency in perception","Fey Ancestry: Advantage against being charmed and magic cannot be put to sleep","Trance: Instead of sleeping you meditate for 4 hours"],this.subRace==u.High&&(this.weaponProfs=[r.StdWeaponName.LongBow,r.StdWeaponName.LongSword,r.StdWeaponName.ShortBow,r.StdWeaponName.ShortSword],this.miscBenefits.push("Cantrip: You know one Cantrip of your choice from lhe wizard spell list"),this.bonusLanguages=1),this.subRace==u.Wood&&(this.weaponProfs=[r.StdWeaponName.LongBow,r.StdWeaponName.LongSword,r.StdWeaponName.ShortBow,r.StdWeaponName.ShortSword],this.speed=35,this.miscBenefits.push("Mask of the Wild: You can attempt to hide even when you are only lightly obscured by foliage, heavy rain, falling snow, mist, and other natural phenomena.")),this.subRace==u.Drow&&(this.darkVision=new i.Range(120),this.miscBenefits.push("Sun Light Sensitivity: You have disadvantage on attack rolls and on Wisdom (Perception) checks that rely on sight when you, the target of your attack, or whatever you are trying to perceive is in direct sunlight"),this.miscBenefits.push("Drow Magic: You know the dancing lights Cantrip. At level 3 you can cas Faerie Fire once per day, at level 5 you can cast Darkness once per day Charisma is your spell casting ability"),this.weaponProfs=[r.StdWeaponName.ShortSword,r.StdWeaponName.Rapier,r.StdWeaponName.HandCrossbow])}halflingCtor(){this.abilityModifiers=[[a.AbilityKind.Dexterity,2]],this.heightRange=[new r.Height(2,6),new r.Height(3,6)],this.avgWeight=40,this.preferredAlignment=r.Alignment.LawfulGood(),this.speed=25,this.size=r.CharacterSize.Small,this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Halfling],this.ageRange=[20,175],this.miscBenefits=["Lucky: When you roll a 1 on an attack roll, ability check, or saving throw, you can reroll the die and must use the new roll","Brave: Vou have advantage on saving throws against being frightened","Halfling Nimbleness: You can move through the space of any creature that is of a size larger than yours"],this.subRace==d.Lightfoot&&(this.abilityModifiers.push([a.AbilityKind.Charisma,1]),this.miscBenefits.push("Naturally Stealthy: You can attempt to hide even when you are obscured only by a creature that is at least one size larger than you")),this.subRace==d.Stout&&(this.abilityModifiers.push([a.AbilityKind.Constitution,1]),this.miscBenefits.push("Stout Resilience: You have advantage on saving throws against poison, and you have resistance against poison damage"))}humanCtor(){this.abilityModifiers=[[a.AbilityKind.Strength,1],[a.AbilityKind.Dexterity,1],[a.AbilityKind.Constitution,1],[a.AbilityKind.Intelligence,1],[a.AbilityKind.Wisdom,1],[a.AbilityKind.Charisma,1]],this.ageRange=[16,90],this.preferredAlignment=r.Alignment.TrueNeutral(),this.heightRange=[new r.Height(5,0),new r.Height(7,0)],this.avgWeight=150,this.speed=30,this.languages=[r.NormalLanguage.Common],this.bonusLanguages=1}dragonbornCtor(){let e,t,n;switch(this.abilityModifiers=[[a.AbilityKind.Strength,2]],this.ageRange=[15,80],this.preferredAlignment=r.Alignment.NeutralGood(),this.heightRange=[new r.Height(6,0),new r.Height(9,0)],this.avgWeight=250,this.size=r.CharacterSize.Medium,this.speed=30,this.subRace){case p.Black:case p.Copper:t=new i.Range(30),this.damageResistance=e=r.WeaponDamageKind.Acid,n="Dex save";break;case p.Blue:case p.Bronze:t=new i.Range(30),this.damageResistance=e=r.WeaponDamageKind.Lightening,n="Dex save";break;case p.Brass:case p.Gold:case p.Red:t=this.subRace==p.Brass?new i.Range(30):new i.Range(15),this.damageResistance=e=r.WeaponDamageKind.Fire,n="Dex save";break;case p.Green:t=new i.Range(15),this.damageResistance=e=r.WeaponDamageKind.Poison,n="Con save";break;case p.Silver:case p.White:t=new i.Range(15),this.damageResistance=e=r.WeaponDamageKind.Cold,n="Con save"}this.naturalWeapons.push(new r.Weapon("Breath Weapon",r.WeaponType.Melee,r.WeaponKind.Natural,e,null,null,[2,6],t,0,null,!1,n)),this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Draconic]}gnomeCtor(){this.abilityModifiers=[[a.AbilityKind.Intelligence,2]],"Forest"==this.subRace&&this.abilityModifiers.push([a.AbilityKind.Dexterity,1]),"Rock"==this.subRace&&this.abilityModifiers.push([a.AbilityKind.Constitution,1]),this.ageRange=[17,500],this.preferredAlignment=r.Alignment.NeutralGood(),this.heightRange=[new r.Height(3,0),new r.Height(4,0)],this.avgWeight=40,this.size=r.CharacterSize.Small,this.speed=25,this.darkVision=new i.Range(60),this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Gnomish],this.miscBenefits=["Gnome Cunning: You have advantage on all Int, Wis, & Cha saving throws against magic"],this.subRace==h.Forest&&this.miscBenefits.push("Natural Illusionist: You know the minor illusion Cantrip. Intelligence is your spell casting ability","Speak with Small Beasts: You can communicate with small or smaller beasts"),this.subRace==h.Rock&&(this.toolProfs=[s.ArtisanTools.Tinker],this.miscBenefits.push("Artificer's Lore: Whenever you make an Intelligence (History) check related to magic items, alchemical objects, ar technological devices, you can add twice your proficiency bonus, instead of any proficiency bonus you normally appIy","Tinker: You can create 1 clockwork device (AC5, 1hp) it takes 1 hour and 10 gp. \nClockwork Toy: animal, monster or person (i.e. mouse, dragon, soldier). It moves 5 feet each turn and makes noises appropriate to the creature it represents\nFire Starter: A lighter\nMusic Box: When opened it plays a single song an moderate volume, stops when song ends/is closed\n"))}halfElfCtor(){this.abilityModifiers=[[a.AbilityKind.Charisma,2]],this.ageRange=[20,180],this.preferredAlignment=r.Alignment.ChaoticGood(),this.heightRange=[new r.Height(5,0),new r.Height(6,0)],this.avgWeight=160,this.size=r.CharacterSize.Medium,this.speed=25,this.darkVision=new i.Range(60),this.bonusLanguages=1,this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Elvish],this.miscBenefits=["Skill Versatility: You gain proficiency in two skills of your choice","Fey Ancestry: Advantage against being charmed and magic cannot be put to sleep"]}halfOrcCtor(){this.abilityModifiers=[[a.AbilityKind.Strength,2],[a.AbilityKind.Constitution,1]],this.ageRange=[14,75],this.preferredAlignment=r.Alignment.ChaoticGood(),this.heightRange=[new r.Height(5,0),new r.Height(8,0)],this.avgWeight=200,this.size=r.CharacterSize.Medium,this.speed=30,this.darkVision=new i.Range(60),this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Orc],this.miscBenefits=["Menacing: You gain proficiency in the Intimidation skill","Savage Attacks: When you score a critical hit with a melee weapon attack you add 1 hit die to the damage role as bonus damage"]}tieflingCtor(){this.abilityModifiers=[[a.AbilityKind.Intelligence,1],[a.AbilityKind.Charisma,2]],this.ageRange=[16,120],this.preferredAlignment=r.Alignment.ChaoticEvil(),this.heightRange=[new r.Height(5,0),new r.Height(7,0)],this.avgWeight=160,this.speed=30,this.darkVision=new i.Range(60),this.damageResistance=r.WeaponDamageKind.Fire,this.languages=[r.NormalLanguage.Common,r.NormalLanguage.Infernal],this.miscBenefits=["Infernal Legacy: You know the thaumaturgy cantrip. Once you reach 3rd level, you can cast the hellish rebuke spell once per day as a 2nd-level spell. Once you reach 5th level, you can also cast the darkness spell once per day. Charisma is your spell casting ability for these spells."]}checkSubRace(e){if((e==h.Rock||e==h.Forest)&&this.name!=l.Gnome||(e==u.Drow||e==u.High||e==u.Wood)&&this.name!=l.Elf||(e==c.Hill||e==c.Mountain)&&this.name!=l.Dwarf||(e==d.Lightfoot||e==d.Stout)&&this.name!=l.Halfling||(e==p.Black||e==p.Blue||e==p.Brass||e==p.Bronze||e==p.Copper||e==p.Gold||e==p.Green||e==p.Red||e==p.Silver||e==p.White)&&this.name!=l.Dragonborn)throw new Error(`Subrace ${e} isn't compatible with ${this.name}`);if(!e&&this.name==l.Dragonborn)throw new Error("Dragonborn must pick an ancestry")}static fromJson(e){return new o(e.name,e.subRace)}}var l,c,u,d,h,p;t.Race=o,function(e){e.Dwarf="Dwarf",e.Elf="Elf",e.Halfling="Halfling",e.Human="Human",e.Dragonborn="Dragonborn",e.Gnome="Gnome",e.HalfElf="Half-Elf",e.HalfOrc="Half-Orc",e.Tiefling="Tiefling"}(l=t.RaceKind||(t.RaceKind={})),function(e){e.Hill="Hill",e.Mountain="Mountain"}(c=t.Dwarf||(t.Dwarf={})),function(e){e.Drow="Drow",e.Wood="Wood",e.High="High"}(u=t.Elf||(t.Elf={})),function(e){e.Stout="Stout",e.Lightfoot="Lightfoot"}(d=t.Halfling||(t.Halfling={})),function(e){e.Forest="Forest",e.Rock="Rock"}(h=t.Gnome||(t.Gnome={})),function(e){e.Black="Black",e.Blue="Blue",e.Brass="Brass",e.Bronze="Bronze",e.Copper="Copper",e.Gold="Gold",e.Green="Green",e.Red="Red",e.Silver="Silver",e.White="White"}(p=t.Dragon||(t.Dragon={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(10),a=Object.getOwnPropertyNames(i.GamingSet).map(e=>i.GamingSet[e]),s=Object.getOwnPropertyNames(i.Instrument).map(e=>i.Instrument[e]),o=Object.getOwnPropertyNames(i.ArtisanTools).map(e=>i.ArtisanTools[e]),l=Object.getOwnPropertyNames(i.Mount).map(e=>i.Mount[e]).concat(Object.getOwnPropertyNames(i.Vehicle).map(e=>i.Vehicle[e])).concat(Object.getOwnPropertyNames(i.Boat).map(e=>i.Boat[e]));class c{constructor(e,t=[],n=[],r=[],i=[]){this.kind=e,this.skills=t,this.languages=n,this.toolProficiencies=r,this.toolOptions=i}static Acolyte(){return new c(u.Acolyte,[r.SkillKind.Insight,r.SkillKind.Religion],[null,null],[],[])}static Charlatan(){return new c(u.Charlatan,[r.SkillKind.Deception,r.SkillKind.SleightOfHand],[],[i.MiscTools.Disguise,i.MiscTools.Forgery])}static Criminal(){return new c(u.Criminal,[r.SkillKind.Deception,r.SkillKind.Stealth],[],[i.MiscTools.Thieves,null],[null,a])}static Entertainer(){return new c(u.Entertainer,[r.SkillKind.Acrobatics,r.SkillKind.Performance],[],[i.MiscTools.Disguise,null],[null,s])}static FolkHero(){return new c(u.FolkHero,[r.SkillKind.AnimalHandling,r.SkillKind.Survival],[],[null,null],[o,l])}static GuildArtisan(){return new c(u.GuildArtisan,[r.SkillKind.Insight,r.SkillKind.Persuasion],[null],[null],[o])}static Hermit(){return new c(u.Hermit,[r.SkillKind.Medicine,r.SkillKind.Religion],[null],[i.MiscTools.Herbalism],[])}static Noble(){return new c(u.Noble,[r.SkillKind.History,r.SkillKind.Persuasion],[null],[null],[a])}static Outlander(){return new c(u.Outlander,[r.SkillKind.Athletics,r.SkillKind.Survival],[null],[null],[s])}static Sage(){return new c(u.Sage,[r.SkillKind.Arcana,r.SkillKind.History],[null,null],[],[])}static Sailor(){return new c(u.Sailor,[r.SkillKind.Athletics,r.SkillKind.Perception],[],[i.MiscTools.Navigator,null],[null,Object.getOwnPropertyNames(i.Boat).map(e=>i.Boat[e])])}static Soldier(){return new c(u.Soldier,[r.SkillKind.Athletics,r.SkillKind.Intimidation],[],[null,null],[a,Object.getOwnPropertyNames(i.Vehicle).map(e=>i.Vehicle[e])])}static Urchin(){return new c(u.Urchin,[r.SkillKind.SleightOfHand,r.SkillKind.Stealth],[],[i.MiscTools.Disguise,i.MiscTools.Thieves],[])}static fromJson(e){return new c(e.kind,e.skills,e.languages,e.toolProficiencies,e.toolOptions)}}var u;t.Background=c,function(e){e.Acolyte="Acolyte",e.Charlatan="Charlatan",e.Criminal="Criminal",e.Entertainer="Entertainer",e.FolkHero="Folk Hero",e.GuildArtisan="Guild Artisan",e.Hermit="Hermit",e.Noble="Noble",e.Outlander="Outlander",e.Sage="Sage",e.Sailor="Sailor",e.Soldier="Soldier",e.Urchin="Urchin"}(u=t.BackgroundKind||(t.BackgroundKind={})),t.ACOLYTE_TRAITS=["I idolize a particular hero of my faith, and constantly refer to that person's deeds and example,","I can find common ground between lhe fiercest enemies, empathizing with them and always working toward peace.","I see omens in every event and action. The gods try to speak to us we just need lo listen","Nothing can shake my optimistic attitude.","I quote (or misquote) sacred texts and proverbs in almost every situation.","I am tolerant (or intolerant) of other faiths and respect (or condemn) the worship of other gods.","I've enjoyed fine food, drink, and high society among my temple's elite. Rough living grates on me.","I've spent so long in the tem pie that I have little practical experience dealing with people in the outside world."],t.ACOLYTE_IDEALS=["Tradition. lhe ancient traditions of worship and sacrifice must be preserved and upheld. (Lawful)","Charily. I always try to help those in need, no matter what the personal cost. (Good)","Change. We must help bring about the changes lhe gods are constantly working in the world. (Chaotic)","Power. I hope to one day rise to the top of my faith's religious hierarchy. (Lawful)","Faith. I trust that my deity will guide my actions. I have faith that if I work hard, things will go well. (Lawful)","Aspiration. I seek lo prove myself worthy of my god's favor by matching my actions against his or her teachings. (Any)"],t.ACOLYTE_BONDS=["I would die to recover an ancient relic of my faith that was lost long ago.","I will someday get revenge on the corrupt temple hierarchy who branded me a heretic.","I owe my life to the priest who took me in when my parents died.","Everything I do is for the common people.","I will do anything lo protect the tem pie where I served.","I seek to preserve a sacred text that my enemies consider heretical and seek to destroy."],t.ACOLYTE_FLAWS=["I judge others harshly, and myself even more severely.","I put roo much trust in those who wield power within my temple's hierarchy.","My piety sometimes leads me lo blindly trust those that profess faith in my god.","I am inflexible in my thinking.","I am suspicious af strangers and expect the worst of them.","Once I pick a goal, I become obsessed with it to the detriment of everything else in my life."],t.CHARLATAN_TRAITS=[],t.CHARLATAN_IDEALS=[],t.CHARLATAN_BONDS=[],t.CHARLATAN_FLAWS=[],t.ALL_BACKGROUNDS=[c.Acolyte(),c.Charlatan(),c.Criminal(),c.Entertainer(),c.FolkHero(),c.GuildArtisan(),c.Hermit(),c.Noble(),c.Outlander(),c.Sage(),c.Sailor(),c.Soldier(),c.Urchin()]},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t=null){this.first=e,this.second=t}metaString(){return this.second?`${this.first}/${this.second}`:this.first.toString()}static fromJson(e){return e?new r(e.first||0,e.second):null}}t.Range=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Alchemist="Alchemist's Supplies",e.Brewer="Brewer's Supplies ",e.Calligrapher="Calligrapher's Supplies ",e.Carpenter="Carpenter's Tools",e.Cartographer="Cartographer's Tools",e.Cobbler="Cobbler's Tools",e.Cook="Cook's Utensils ",e.Glassblower="Glassblower's Tools",e.Jeweler="Jeweler's Tools",e.Leatherworker="Leatherworker's Tools",e.Mason="Mason's Tools",e.Painter="Painter's Supplies",e.Potter="Potter's Tools",e.Smith="Smith's Tools",e.Tinker="Tinker's Tools",e.Weaver="Weaver's Tools",e.Woodcarver="Woodcarver's Tools"}(t.ArtisanTools||(t.ArtisanTools={})),function(e){e.Dice="Dice Set",e.Dragonchess="Dragonchess Set",e.PlayingCards="Playing Card Set",e.ThreeDragonAnte="Three-Dragon Ante Set"}(t.GamingSet||(t.GamingSet={})),function(e){e.Bagpipes="Bagpipes",e.Drum="Drum",e.Dulcimer="Dulcimer",e.Flute="Flute",e.Lute="Lute ",e.Lyre="Lyre",e.Horn="Horn",e.Pan="Pan Flute",e.Shawm="Shawm",e.Viol="Viol"}(t.Instrument||(t.Instrument={})),function(e){e.Disguise="Disguise Kit",e.Forgery="Forgery Kit",e.Herbalism="Herbalism Kit",e.Navigator="Navigator's Tools",e.Poisoner="Poisoner's Kit",e.Thieves="Thieves' Tools"}(t.MiscTools||(t.MiscTools={})),function(e){e.Camel="Camel",e.Donkey="Donkey",e.Elephant="Elephant",e.DraftHorse="Horse (draft)",e.Horse="Horse (riding)",e.Mastiff="Mastiff",e.Pony="Pony",e.Warhorse="Warhorse"}(t.Mount||(t.Mount={})),function(e){e.Carriage="Carriage",e.Cart="Cart",e.Chariot="Chariot",e.Sled="Sled",e.Wagon="Wagon"}(t.Vehicle||(t.Vehicle={})),function(e){e.Galley="Galley",e.Keelboat="Keelboat",e.Longship="Longship",e.Rowboat="Rowboat",e.Sailing="Sailing",e.Warship="Warship"}(t.Boat||(t.Boat={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);class i{constructor(e,t,n,r,i){this.level=e,this.features=t,this.ARCHETYPE_KEY=n,this.selectedFeatures=r,i&&(this.id=i),r&&0!=r.size||(this.selectedFeatures=new Map),this.mapFeatures(t,this.selectedFeatures)}mapFeatures(e,t){for(let n of e)if(n.options&&n.options.length>0&&!t.has(n.name)){t.set(n.name,{idx:-1,minLevel:n.level});for(let e of n.options)e.features&&e.features.length>0&&this.mapFeatures(e.features,t)}}attackCount(){return 1}chooseFeatureOption(e,t){let n=this.selectedFeatures.get(e),r=Object.assign({},n,{idx:t});this.selectedFeatures.set(e,r)}remainingChoices(){let e=[];for(let[t,{idx:n,minLevel:r}]of this.selectedFeatures.entries())r<=this.level&&n<0&&e.push(this.features.find(e=>e.name==t));return e}remainingChoiceIdxs(){let e=[];for(var t=0;t<this.features.length;t++){let n=this.features[t];n.options&&n.options.length>0&&this.selectedFeatures.get(n.name).idx<0&&e.push(t)}return e}getAllAvailableFeatures(){return this.features.reduce((e,t)=>{if(t.options&&t.options.length>0){let n=this.selectedFeatures.get(t.name);if(n||(n={idx:-1,minLevel:t.level},this.selectedFeatures.set(t.name,n)),n.idx>-1)return e.push(t),e.push(...t.options[n.idx].features),e}return e.push(t),e},[])}get archetype(){if(!this.selectedFeatures.has(this.ARCHETYPE_KEY))return null;let{idx:e,minLevel:t}=this.selectedFeatures.get(this.ARCHETYPE_KEY);if(e<0||this.level<t)return null;if(this.archetypeIdx)return this.features[this.archetypeIdx].options[e].name;for(let t=0;t<this.features.length;t++){let n=this.features[t];if(n.name===this.ARCHETYPE_KEY)return this.archetypeIdx=t,n.options[e].name}return null}}t._ClassDetails=i;class a extends i{constructor(e,t,n,r){super(e,t,"Primal Path",n,r)}attackCount(){return this.level<4?super.attackCount():2}static fromJson(e){return new a(e.level,e.features,e.selectedFeatures,e.id)}}var s;t.BarbarianDetails=a,function(e){e.Berserker="Berserker",e.TotemWarrior="Totem Warrior"}(t.PrimalPath||(t.PrimalPath={})),function(e){e.Bear="Bear",e.Eagle="Eagle",e.Wolf="Wolf"}(t.Totem||(t.Totem={}));class o extends i{constructor(e,t,n=[],r=0,i,a){super(e,t,"Bard College",i,a),this.expertise=n,this.inspiration=r}attackCount(){return this.archetype===s.Valor&&this.level>5?2:super.attackCount()}static fromJson(e){return new o(e.level,e.features.map(r.ClassFeature.fromJson),e.expertise,e.inspiration,e.selectedFeatures,e.id)}}t.BardDetails=o,function(e){e.Lore="College of Lore",e.Valor="College of Valor"}(s=t.BardCollege||(t.BardCollege={}));class l extends i{constructor(e,t,n,r){super(e,t,"Divine Domain",n,r)}static fromJson(e){return new l(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.ClericDetails=l,function(e){e.Knowledge="Knowledge",e.Life="Life",e.Light="Light",e.Nature="Nature",e.Tempest="Tempest",e.Trickery="Trickery",e.War="War"}(t.ClericDomain||(t.ClericDomain={}));class c extends i{constructor(e,t,n,r){super(e,t,"Druid Circle",n,r)}static fromJson(e){return new c(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.DruidDetails=c,function(e){e.Land="Land",e.Moon="Moon"}(t.DruidCircle||(t.DruidCircle={}));class u extends i{constructor(e,t,n,r){super(e,t,"Combat Archetype",n,r)}attackCount(){return this.level<5?super.attackCount():this.level<11?2:this.level<20?3:4}static fromJson(e){return new u(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.FighterDetails=u,function(e){e.Archery="Archery",e.Defense="Defense",e.Dueling="Dueling",e.GreatWeapon="Great Weapon Fighting",e.Protection="Protection",e.TwoWeapon="Two Weapon Fighting"}(t.FighterStyle||(t.FighterStyle={})),function(e){e[e.BattleMaster=0]="BattleMaster",e[e.Champion=1]="Champion",e[e.EldrichKnight=2]="EldrichKnight"}(t.CombatArchetype||(t.CombatArchetype={})),function(e){e.CommandersStrike="Commander's Strike",e.DisarmingAttack="Disarming Attack",e.DistractingStrike="Distracting Strike",e.EvasiveFootwork="Evasive Footwork",e.FeintingAttack="Feinting Attack",e.GoadingAttack="Goading Attack",e.LungingAttack="Lunging Attack",e.ManeuveringAttack="Maneuvering Attack",e.MenacingAttack="Menacing Attack",e.Parry="Parry",e.PrecisionAttack="Precision Attack",e.PushingAttack="Pushing Attack",e.Rally="Rally",e.Riposte="Riposte",e.SweepingAttack="Sweeping Attack",e.TripAttack="Trip Attack"}(t.CombatSuperiority||(t.CombatSuperiority={}));class d extends i{constructor(e,t,n=0,r,i){super(e,t,"Monastic Tradition",r,i),this.kiPoints=n}attackCount(){return this.level<5?super.attackCount():2}static fromJson(e){return new d(e.level,e.features.map(r.ClassFeature.fromJson),e.kiPoints,e.selectedFeatures,e.id)}}t.MonkDetails=d,function(e){e.Shadow="Way of Shadow",e.OpenHand="Way of the Open Hand",e.FourElements="Way of the Four Elements",e.LongDeath="Way of the Long Death",e.SunSoul="Way of the Sun Soul"}(t.MonasticTradition||(t.MonasticTradition={}));class h extends i{constructor(e,t,n,r){super(e,t,"Paladin Oath",n,r)}attackCount(){return this.level<5?super.attackCount():2}static fromJson(e){return new h(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.PaladinDetails=h,function(e){e.Defense="Defense",e.Dueling="Dueling",e.GreatWeapon="Great Weapon Fighting",e.Protection="Protection"}(t.PaladinStyle||(t.PaladinStyle={})),function(e){e.Ancients="Ancients",e.Devotion="Devotion",e.Vengeance="Vengeance",e.Oathbreaker="Oathbreaker"}(t.PaladinOath||(t.PaladinOath={}));class p extends i{constructor(e,t,n,r){super(e,t,"Ranger Archetype",n,r)}attackCount(){return this.level<5?super.attackCount():2}static fromJson(e){return new p(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.RangerDetails=p,function(e){e.Aberration="Aberration",e.Beast="Beast",e.Celestial="Celestial",e.Construct="Construct",e.Dragon="Dragon",e.Elemental="Elemental",e.Fey="Fey",e.Fiend="Fiend",e.Giant="Giant",e.Monstrosity="Monstrosity",e.Ooze="Ooze",e.Plant="Plant",e.Undead="Undead"}(t.RangerEnemy||(t.RangerEnemy={})),function(e){e.Archery="Archery",e.Defense="Defense",e.Dueling="Dueling",e.TwoWeapon="Two-Weapon Fighting"}(t.RangerStyle||(t.RangerStyle={})),function(e){e.Hunter="Hunter",e.BeastMaster="Beast Master"}(t.RangerArchetype||(t.RangerArchetype={}));class f extends i{constructor(e,t,n=[],r=[],i,a){super(e,t,"Roguish Archetype",i,a),this.expertise=n,this.bonusAbilityScore=r}static fromJson(e){return new f(e.level,e.features.map(r.ClassFeature.fromJson),e.expertise,e.bonusAbilityScore,e.selectedFeatures,e.id)}}t.RogueDetails=f;class m extends i{constructor(e,t,n=0,r,i){super(e,t,"Sorcerous Origin",r,i),this.sorcererPoints=n}static fromJson(e){return new m(e.level,e.features.map(r.ClassFeature.fromJson),e.sorcererPoints,e.selectedFeatures,e.id)}}t.SorcererDetails=m,function(e){e.Carful="Carful",e.Distant="Distant",e.Empowered="Empowered",e.Extended="Extended",e.Heightened="Heightened",e.Quickened="Quickened",e.Subtle="Subtle",e.Twinned="Twinned"}(t.MetaMagic||(t.MetaMagic={})),function(e){e.DraconicAncestor="DraconicAncestor",e.Wild="Wild"}(t.SorcererOrigins||(t.SorcererOrigins={}));class g extends i{constructor(e,t,n,r){super(e,t,"Otherworldly Patron",n,r)}static fromJson(e){return new g(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.WarlockDetails=g;t.EldritchIncantation=class{constructor(e,t,n){this.name=e,this.prerequisite=t,this.desc=n}},function(e){e.ArmorOfShadows="Armor of Shadows",e.BeastSpeech="Beast Speech",e.BeguilingInfluence="Beguiling Influence",e.BookOfAncientSecrets="Book of Ancient Secrets",e.DevilsSight="Devil's Sight",e.EldritchSight="Eldritch Sight",e.EldritchSpear="Eldritch Spear",e.EyesOfTheRuneKeeper="Eyes of the Rune Keeper",e.FiendishVigor="Fiendish Vigor",e.GazeOfTwoMinds="Gaze of Two Minds",e.MaskOfManyFaces="Mask of Many Faces",e.MistyVisions="Misty Visions",e.RepellingBlast="Repelling Blast",e.ThiefOfFiveFates="Thief of Five Fates",e.VoiceOfTheChainMaster="Voice of the Chain Master"}(t.EldrichIncantationName||(t.EldrichIncantationName={})),function(e){e[e.ArchFey=0]="ArchFey",e[e.Fiend=1]="Fiend",e[e.GreatOldOne=2]="GreatOldOne"}(t.OtherworldlyPatron||(t.OtherworldlyPatron={}));class v extends i{constructor(e,t,n,r){super(e,t,"Arcane Tradition",n,r)}static fromJson(e){return new v(e.level,e.features.map(r.ClassFeature.fromJson),e.selectedFeatures,e.id)}}t.WizardDetails=v,function(e){e.Abjuration="Abjuration",e.Conjuration="Conjuration",e.Divination="Divination",e.Enchantment="Enchantment",e.Evocation="Evocation",e.Illusion="Illusion",e.Necromancy="Necromancy",e.Transmutation="Transmutation"}(t.ArcaneTradition||(t.ArcaneTradition={})),function(e){e.Thief="Thief",e.Assassin="Assassin",e.ArcaneTrickster="Arcane Trickster"}(t.RoguishArchetype||(t.RoguishArchetype={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),a=n(1),s=n(9),o=n(0),l=n(6),c=n(4),u=n(7);function d(e,t,n,i){return r(this,void 0,void 0,function*(){let r={classKind:t,name:n.name,level:n.level,shortDesc:n.shortDesc,longDesc:n.longDesc};i&&(r.optionId=i);let a=yield e.classFeatures.put(r);if(n.options)for(let r of n.options){let n={featId:a,name:r.name,shortDesc:r.shortDesc,longDesc:r.longDesc},i=yield e.classFeatureOptions.put(n);if(r.features)for(let n of r.features)yield d(e,t,n,i)}})}t.seed=function(e){return r(this,void 0,void 0,function*(){let t=yield fetch(window.location.href+"spellBook.json").then(e=>e.json());console.info("seeding spells"),yield e.spells.bulkPut(t);let n=yield fetch(window.location.href+"classes.json").then(e=>e.json());console.info("seeding class info"),yield function(e,t){return r(this,void 0,void 0,function*(){for(let n in t)for(let r of t[n].features)yield d(e,n,r)})}(e,n),console.info("seeding characters");let h=yield function(e){return r(this,void 0,void 0,function*(){let t=yield e.getClassDetails(c.ClassKind.Rogue,4),n=new a.Character("Daggers",new o.AbilityScores([new o.AbilityScore(8,o.AbilityKind.Strength),new o.AbilityScore(15,o.AbilityKind.Dexterity),new o.AbilityScore(10,o.AbilityKind.Constitution),new o.AbilityScore(10,o.AbilityKind.Intelligence),new o.AbilityScore(14,o.AbilityKind.Wisdom),new o.AbilityScore(14,o.AbilityKind.Charisma)]),new l.Race(l.RaceKind.Human),new c.Class(c.ClassKind.Rogue,4,t,c.DEFAULT_BONUS_ABILITY_SCORES,[i.SkillKind.Acrobatics,i.SkillKind.Perception,i.SkillKind.Persuasion,i.SkillKind.SleightOfHand]),u.Background.Criminal(),a.Alignment.TrueNeutral(),5616,new a.Height(5,8),160,"Blue",0,new a.Armor(a.LightArmor.Leather,a.ArmorWeight.Light,2),null,new i.Skills,[new a.Weapon("Dagger",a.WeaponType.Melee,a.WeaponKind.Simple,a.WeaponDamageKind.Piercing,a.WeaponWeight.Light,a.WeaponHandedness.One,[1,4],new s.Range(5),1,new s.Range(20,60),!1,!0),new a.Weapon("Short Bow",a.WeaponType.Range,a.WeaponKind.Simple,a.WeaponDamageKind.Piercing,a.WeaponWeight.Light,a.WeaponHandedness.Two,[1,6],new s.Range(80,320),1,null,!0,!1)],new a.Wealth(0,0,0,3300,0),[a.NormalLanguage.Common,a.NormalLanguage.Draconic],0,0,[new a.MagicItem("Cloak of Elvenkind","Hood up: Preception checks to see you have disadvantage, stealth checks have advantage"),new a.MagicItem("Goggles of Night","Darkvision (60 feet)")],[new a.ExpendableItem(1,"Health Pot.","heal 2d4+2 Damage")]);return[n]})}(e);yield e.characters.bulkPut(h),console.info("seeding seeds"),yield e.seeds.put({when:(new Date).toISOString(),version:e.verno})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.ListView=class extends r.Component{render(){return r.createElement("div",{className:`${this.props.className||""} common-list-view`,style:this.props.style,title:this.props.title,onClick:this.props.onClick},this.props.headerText&&""!=this.props.headerText?r.createElement(i,{style:this.props.headerStyle},this.props.headerText):null,r.createElement("div",{className:"common-list-view-list",style:this.props.listStyle},this.props.children))}};class i extends r.Component{render(){return r.createElement("span",{className:`${this.props.className||""} common-list-view-header`,style:this.props.style,title:this.props.title,onClick:this.props.onClick},this.props.children)}}t.ListViewHeader=i;t.ListViewRow=class extends r.Component{render(){return r.createElement("div",{style:this.props.style,className:`${this.props.className} common-list-view-row`,title:this.props.title,onClick:this.props.onClick},this.props.children)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e=[]){this.spells=e}map(e){return this.spells.map(e)}static fromJson(e){return new r(e.spells.map(i.fromJson))}}t.Spells=r,function(e){e.AcidSplash="Acid Splash",e.BladeWard="Blade Ward",e.ChillTouch="Chill Touch",e.DancingLights="Dancing Lights",e.Druidcraft="Druidcraft",e.EldritchBlast="Eldritch Blast",e.FireBolt="Fire Bolt",e.Friends="Friends",e.Guidance="Guidance",e.Light="Light",e.MageHand="Mage Hand",e.Mending="Mending",e.Message="Message",e.MinorIllusion="Minor Illusion",e.PoisonSpray="Poison Spray",e.Prestidigitation="Prestidigitation",e.ProduceFlame="Produce Flame",e.RayOfFrost="Ray of Frost",e.Resistance="Resistance",e.SacredFlame="Sacred Flame",e.Shillelagh="Shillelagh",e.ShockingGrasp="Shocking Grasp",e.SpareTheDying="Spare the Dying",e.Thaumaturgy="Thaumaturgy",e.ThornWhip="Thorn Whip",e.TrueStrike="True Strike",e.ViciousMockery="Vicious Mockery",e.Alarm="Alarm",e.AnimalFriendship="Animal Friendship",e.ArmorOfAgathys="Armor of Agathys",e.ArmsOfHadar="Arms of Hadar",e.Bane="Bane",e.Bless="Bless",e.BurningHands="Burning Hands",e.CharmPerson="Charm Person",e.ChromaticOrb="Chromatic Orb",e.ColorSpray="Color Spray",e.Command="Command",e.CompelledDuel="Compelled Duel",e.ComprehendLanguages="Comprehend Languages",e.CreateOrDestroyWater="Create or Destroy Water",e.CureWounds="Cure Wounds",e.DetectEvilAndGood="Detect Evil and Good",e.DetectMagic="Detect Magic",e.DetectPoisonAndDisease="Detect Poison and Disease",e.DisguiseSelf="Disguise Self",e.DissonantWhispers="Dissonant Whispers",e.DivineFavor="Divine Favor",e.EnsnaringStrike="Ensnaring Strike",e.Entangle="Entangle",e.ExpeditiousRetreat="Expeditious Retreat",e.FaerieFire="Faerie Fire",e.FalseLife="False Life",e.FeatherFall="Feather Fall",e.FindFamiliar="Find Familiar",e.FogCloud="Fog Cloud",e.Goodberry="Goodberry",e.Grease="Grease",e.GuidingBolt="Guiding Bolt",e.HailOfThorns="Hail of Thorns",e.HealingWord="Healing Word",e.HellishRebuke="Hellish Rebuke",e.Heroism="Heroism",e.Hex="Hex",e.HuntersMark="Hunter's Mark",e.Identify="Identify",e.IllusoryScript="Illusory Script",e.InflictWounds="Inflict Wounds",e.Jump="Jump",e.Longstrider="Longstrider",e.MageArmor="Mage Armor",e.MagicMissile="Magic Missile",e.ProtectionFromEvilAndGood="Protection from Evil and Good",e.PurifyFoodAndDrink="Purify Food and Drink",e.RayOfSickness="Ray of Sickness",e.Sanctuary="Sanctuary",e.SearingSmite="Searing Smite",e.Shield="Shield",e.ShieldOfFaith="Shield of Faith",e.SilentImage="Silent Image",e.Sleep="Sleep",e.SpeakWithAnimals="Speak with Animals",e.TashasHideousLaughter="Tasha's Hideous Laughter",e.TensersFloatingDisk="Tenser's Floating Disk",e.ThunderousSmite="Thunderous Smite",e.Thunderwave="Thunderwave",e.UnseenServant="Unseen Servant",e.WitchBolt="Witch Bolt",e.WrathfulSmite="Wrathful Smite",e.Aid="Aid",e.AlterSelf="Alter Self",e.AnimalMessenger="Animal Messenger",e.ArcaneLock="Arcane Lock",e.Augury="Augury",e.Barkskin="Barkskin",e.BeastSense="Beast Sense",e.BlindnessDeafness="Blindness/Deafness",e.Blur="Blur",e.BrandingSmite="Branding Smite",e.CalmEmotions="Calm Emotions",e.CloudOfDaggers="Cloud of Daggers",e.ContinualFlame="Continual Flame",e.CordonOfArrows="Cordon of Arrows",e.CrownOfMadness="Crown of Madness",e.Darkness="Darkness",e.Darkvision="Darkvision",e.DetectThoughts="Detect Thoughts",e.EnhanceAbility="Enhance Ability",e.EnlargeReduce="Enlarge/Reduce",e.Enthrall="Enthrall",e.FindSteed="Find Steed",e.FindTraps="Find Traps",e.FlameBlade="Flame Blade",e.FlamingSphere="Flaming Sphere",e.GentleRepose="Gentle Repose",e.GustOfWind="Gust of Wind",e.HeatMetal="Heat Metal",e.HoldPerson="Hold Person",e.Invisibility="Invisibility",e.Knock="Knock",e.LesserRestoration="Lesser Restoration",e.Levitate="Levitate",e.LocateAnimalsOrPlants="Locate Animals or Plants",e.LocateObject="Locate Object",e.MagicMouth="Magic Mouth",e.MagicWeapon="Magic Weapon",e.MelfsAcidArrow="Melf's Acid Arrow",e.MirrorImage="Mirror Image",e.MistyStep="Misty Step",e.Moonbeam="Moonbeam",e.NystulsMagicAura="Nystul's Magic Aura",e.PassWithoutTrace="Pass Without Trace",e.PhantasmalForce="Phantasmal Force",e.PrayerOfHealing="Prayer of Healing",e.ProtectionFromPoison="Protection from Poison",e.RayOfEnfeeblement="Ray of Enfeeblement",e.RopeTrick="Rope Trick",e.ScorchingRay="Scorching Ray",e.SeeInvisibility="See Invisibility",e.Shatter="Shatter",e.Silence="Silence",e.SpiderClimb="Spider Climb",e.SpikeGrowth="Spike Growth",e.SpiritualWeapon="Spiritual Weapon",e.Suggestion="Suggestion",e.WardingBond="Warding Bond",e.Web="Web",e.ZoneOfTruth="Zone of Truth",e.AnimateDead="Animate Dead",e.AuraOfVitality="Aura of Vitality",e.BeaconOfHope="Beacon of Hope",e.BestowCurse="Bestow Curse",e.BlindingSmite="Blinding Smite",e.Blink="Blink",e.CallLightning="Call Lightning",e.Clairvoyance="Clairvoyance",e.ConjureAnimals="Conjure Animals",e.ConjureBarrage="Conjure Barrage",e.Counterspell="Counterspell",e.CreateFoodAndWater="Create Food and Water",e.CrusadersMantle="Crusader's Mantle",e.Daylight="Daylight",e.DispelMagic="Dispel Magic",e.ElementalWeapon="Elemental Weapon",e.Fear="Fear",e.FeignDeath="Feign Death",e.Fireball="Fireball",e.Fly="Fly",e.GaseousForm="Gaseous Form",e.GlyphOfWarding="Glyph of Warding",e.Haste="Haste",e.HungerOfHadar="Hunger of Hadar",e.HypnoticPattern="Hypnotic Pattern",e.LeomundsTinyHut="Leomund's Tiny Hut",e.LightningArrow="Lightning Arrow",e.LightningBolt="Lightning Bolt",e.MagicCircle="Magic Circle",e.MajorImage="Major Image",e.MassHealingWord="Mass Healing Word",e.MeldIntoStone="Meld into Stone",e.Nondetection="Nondetection",e.PhantomSteed="Phantom Steed",e.PlantGrowth="Plant Growth",e.ProtectionFromEnergy="Protection from Energy",e.RemoveCurse="Remove Curse",e.Revivify="Revivify",e.Sending="Sending",e.SleetStorm="Sleet Storm",e.Slow="Slow",e.SpeakWithDead="Speak with Dead",e.SpeakWithPlants="Speak with Plants",e.SpiritGuardians="Spirit Guardians",e.StinkingCloud="Stinking Cloud",e.Tongues="Tongues",e.VampiricTouch="Vampiric Touch",e.WaterBreathing="Water Breathing",e.WaterWalk="Water Walk",e.WindWall="Wind Wall",e.ArcaneEye="Arcane Eye",e.AuraOfLife="Aura of Life",e.AuraOfPurity="Aura of Purity",e.Banishment="Banishment",e.Blight="Blight",e.Compulsion="Compulsion",e.Confusion="Confusion",e.ConjureMinorElementals="Conjure Minor Elementals",e.ConjureWoodlandBeings="Conjure Woodland Beings",e.ControlWater="Control Water",e.DeathWard="Death Ward",e.DimensionDoor="Dimension Door",e.Divination="Divination",e.DominateBeast="Dominate Beast",e.EvardsBlackTentacles="Evard's Black Tentacles",e.Fabricate="Fabricate",e.FireShield="Fire Shield",e.FreedomOfMovement="Freedom of Movement",e.GiantInsect="Giant Insect",e.GraspingVine="Grasping Vine",e.GreaterInvisibility="Greater Invisibility",e.GuardianOfFaith="Guardian of Faith",e.HallucinatoryTerrain="Hallucinatory Terrain",e.IceStorm="Ice Storm",e.LeomundsSecretChest="Leomund's Secret Chest",e.LocateCreature="Locate Creature",e.MordenkainensFaithfulHound="Mordenkainen's Faithful Hound",e.MordenkainensPrivateSanctum="Mordenkainen's Private Sanctum",e.OtilukesResilientSphere="Otiluke's Resilient Sphere",e.PhantasmalKiller="Phantasmal Killer",e.Polymorph="Polymorph",e.StaggeringSmite="Staggering Smite",e.StoneShape="Stone Shape",e.Stoneskin="Stoneskin",e.WallOfFire="Wall of Fire",e.AnimateObjects="Animate Objects",e.AntilifeShell="Antilife Shell",e.Awaken="Awaken",e.BanishingSmite="Banishing Smite",e.BigbysHand="Bigby's Hand",e.CircleOfPower="Circle of Power",e.Cloudkill="Cloudkill",e.Commune="Commune",e.CommuneWithNature="Commune with Nature",e.ConeOfCold="Cone of Cold",e.ConjureElemental="Conjure Elemental",e.ConjureVolley="Conjure Volley",e.ContactOtherPlane="Contact Other Plane",e.Contagion="Contagion",e.Creation="Creation",e.DestructiveWave="Destructive Wave",e.DispelEvilAndGood="Dispel Evil and Good",e.DominatePerson="Dominate Person",e.Dream="Dream",e.FlameStrike="Flame Strike",e.Geas="Geas",e.GreaterRestoration="Greater Restoration",e.Hallow="Hallow",e.HoldMonster="Hold Monster",e.InsectPlague="Insect Plague",e.LegendLore="Legend Lore",e.MassCureWounds="Mass Cure Wounds",e.Mislead="Mislead",e.ModifyMemory="Modify Memory",e.Passwall="Passwall",e.PlanarBinding="Planar Binding",e.RaiseDead="Raise Dead",e.RarysTelepathicBond="Rary's Telepathic Bond",e.Reincarnate="Reincarnate",e.Scrying="Scrying",e.Seeming="Seeming",e.SwiftQuiver="Swift Quiver",e.Telekinesis="Telekinesis",e.TeleportationCircle="Teleportation Circle",e.TreeStride="Tree Stride",e.WallOfForce="Wall of Force",e.WallOfStone="Wall of Stone",e.ArcaneGate="Arcane Gate",e.BladeBarrier="Blade Barrier",e.ChainLightning="Chain Lightning",e.CircleOfDeath="Circle of Death",e.ConjureFey="Conjure Fey",e.Contingency="Contingency",e.CreateUndead="Create Undead",e.Disintegrate="Disintegrate",e.DrawmijsInstantSummon="Drawmij's Instant Summon",e.Eyebite="Eyebite",e.FindThePath="Find the Path",e.FleshToStone="Flesh to Stone",e.Forbiddance="Forbiddance",e.GlobeOfInvulnerability="Globe of Invulnerability",e.GuardsAndWards="Guards and Wards",e.Harm="Harm",e.Heal="Heal",e.HeroesFeast="Heroes' Feast",e.MagicJar="Magic Jar",e.MassSuggestion="Mass Suggestion",e.MoveEarth="Move Earth",e.OtilukesFreezingSphere="Otiluke's Freezing Sphere",e.OttosIrresistibleDance="Otto's Irresistible Dance",e.PlanarAlly="Planar Ally",e.ProgrammedIllusion="Programmed Illusion",e.Sunbeam="Sunbeam",e.TransportViaPlants="Transport via Plants",e.TrueSeeing="True Seeing",e.WallOfIce="Wall of Ice",e.WallOfThorns="Wall of Thorns",e.WindWalk="Wind Walk",e.WordOfRecall="Word of Recall",e.ConjureCelestial="Conjure Celestial",e.DelayedBlastFireball="Delayed Blast Fireball",e.DivineWord="Divine Word",e.Etherealness="Etherealness",e.FingerOfDeath="Finger of Death",e.FireStorm="Fire Storm",e.Forcecage="Forcecage",e.MirageArcane="Mirage Arcane",e.MordenkainensMagnificentMansion="Mordenkainen's Magnificent Mansion",e.MordenkainensSword="Mordenkainen's Sword",e.PlaneShift="Plane Shift",e.PrismaticSpray="Prismatic Spray",e.ProjectImage="Project Image",e.Regenerate="Regenerate",e.Resurrection="Resurrection",e.ReverseGravity="Reverse Gravity",e.Sequester="Sequester",e.Simulacrum="Simulacrum",e.Symbol="Symbol",e.Teleport="Teleport",e.AnimalShapes="Animal Shapes",e.AntimagicField="Antimagic Field",e.AntipathySympathy="Antipathy/Sympathy",e.Clone="Clone",e.ControlWeather="Control Weather",e.Demiplane="Demiplane",e.DominateMonster="Dominate Monster",e.Earthquake="Earthquake",e.Feeblemind="Feeblemind",e.Glibness="Glibness",e.HolyAura="Holy Aura",e.IncendiaryCloud="Incendiary Cloud",e.Maze="Maze",e.MindBlank="Mind Blank",e.PowerWordStun="Power Word Stun",e.Sunburst="Sunburst",e.Telepathy="Telepathy",e.Tsunami="Tsunami",e.AstralProjection="Astral Projection",e.Foresight="Foresight",e.Gate="Gate",e.Imprisonment="Imprisonment",e.MassHeal="Mass Heal",e.MeteorSwarm="Meteor Swarm",e.PowerWordHeal="Power Word Heal",e.PowerWordKill="Power Word Kill",e.PrismaticWall="Prismatic Wall",e.Shapechange="Shapechange",e.StormOfVengeance="Storm of Vengeance",e.TimeStop="Time Stop",e.TruePolymorph="True Polymorph",e.TrueResurrection="True Resurrection",e.Weird="Weird",e.Wish="Wish"}(t.SpellName||(t.SpellName={}));class i{constructor(e,t,n,r,i,a,s,o,l,c){this.name=e,this.level=t,this.verbalRequirement=n,this.somaticRequirement=r,this.materialRequirement=i,this.castingTime=a,this.desc=s,this.duration=o,this.range=l,this.save=c}static fromJson(e){let t=new i(e.name,e.level,e.verbalRequirement,e.somaticRequirement,e.materialRequirement,e.castingTime,e.desc,e.duration,e.range,a.fromJson(e.save));return t.id=e.id,t}}t.Spell=i;class a{constructor(e,t,n,r){this.ability=e,this.toBeat=t,this.ifBeaten=n,this.ifLost=r}static fromJson(e){if(e)return new a(e.ability,e.toBeat,e.ifBeaten,e.ifLost)}}t.SpellSave=a},function(e,t,n){"use strict";n.r(t),function(e,n){var r=Object.keys,i=Array.isArray,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function s(e,t){return"object"!=typeof t?e:(r(t).forEach(function(n){e[n]=t[n]}),e)}var o=Object.getPrototypeOf,l={}.hasOwnProperty;function c(e,t){return l.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(o(e))),r(t).forEach(function(n){h(e,n,t[n])})}var d=Object.defineProperty;function h(e,t,n,r){d(e,t,s(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor;var m=[].slice;function g(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function b(e){a.setImmediate?n(e):setTimeout(e,0)}function w(e,t){return e.reduce(function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e},{})}function k(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function C(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function S(e,t){if(c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var a=S(e,t[r]);n.push(a)}return n}var s=t.indexOf(".");if(-1!==s){var o=e[t.substr(0,s)];return void 0===o?void 0:S(o,t.substr(s+1))}}function E(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)E(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var s=t.substr(0,a),o=t.substr(a+1);if(""===o)void 0===n?delete e[s]:e[s]=n;else{var l=e[s];l||(l=e[s]={}),E(l,o,n)}}else void 0===n?delete e[t]:e[t]=n}}function x(e){var t={};for(var n in e)c(e,n)&&(t[n]=e[n]);return t}var T=[].concat;function A(e){return T.apply([],e)}var _="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(A([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return a[e]}).map(function(e){return a[e]});function D(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(D(e[n]))}else if(_.indexOf(e.constructor)>=0)t=e;else for(var a in t=e.constructor?Object.create(e.constructor.prototype):{},e)c(e,a)&&(t[a]=D(e[a]));return t}function P(e,t,n,i){return n=n||{},i=i||"",r(e).forEach(function(r){if(c(t,r)){var a=e[r],s=t[r];"object"==typeof a&&"object"==typeof s&&a&&s&&""+a.constructor==""+s.constructor?P(a,s,n,i+r+"."):a!==s&&(n[i+r]=t[r])}else n[i+r]=void 0}),r(t).forEach(function(r){c(e,r)||(n[i+r]=t[r])}),n}var N="undefined"!=typeof Symbol&&Symbol.iterator,W=N?function(e){var t;return null!=e&&(t=e[N])&&t.apply(e)}:function(){return null},M={};function L(e){var t,n,r,a;if(1===arguments.length){if(i(e))return e.slice();if(this===M&&"string"==typeof e)return[e];if(a=W(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var F="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(e,t){F=e,K=t}var K=function(){return!0},O=!new Error("").stack;function I(){if(O)try{throw I.arguments,new Error}catch(e){return e}return new Error}function B(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(K).map(function(e){return"\n"+e}).join("")):""}var H=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(H),z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function V(e,t){this._e=I(),this.name=e,this.message=t}function U(e,t,n,r){this._e=I(),this.failures=t,this.failedKeys=r,this.successCount=n}function $(e,t){this._e=I(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}(e,t)}p(V).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+B(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(U).from(V),p($).from(V);var G=j.reduce(function(e,t){return e[t]=t+"Error",e},{}),J=V,q=j.reduce(function(e,t){var n=t+"Error";function r(e,r){this._e=I(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=z[t]||n,this.inner=null)}return p(r).from(J),e[t]=r,e},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var Y=H.reduce(function(e,t){return e[t+"Error"]=q[t],e},{});var Q=j.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=q[t]),e},{});function X(){}function Z(e){return e}function ee(e,t){return null==e||e===Z?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===X?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0!==a?a:n}}function re(e,t){return e===X?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function ie(e,t){return e===X?t:function(n){var r=e.apply(this,arguments);s(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?te(i,this.onsuccess):i),a&&(this.onerror=this.onerror?te(a,this.onerror):a),void 0===r?void 0===o?void 0:o:s(r,o)}}function ae(e,t){return e===X?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function se(e,t){return e===X?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}Q.ModifyError=U,Q.DexieError=V,Q.BulkError=$;var oe={},le=100,ce=7,ue=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=a.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),de=ue[0],he=ue[1],pe=ue[2],fe=he&&he.then,me=de&&de.constructor,ge=ue[3],ve=!!pe,ye=!1,be=pe?function(){pe.then(Be)}:a.setImmediate?n.bind(null,Be):a.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Be(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Be,0)},we=function(e,t){De.push([e,t]),Ce&&(be(),Ce=!1)},ke=!0,Ce=!0,Se=[],Ee=[],xe=null,Te=Z,Ae={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{ct(e[0],e[1])}catch(e){}})}},_e=Ae,De=[],Pe=0,Ne=[];function We(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=_e;if(F&&(this._stackHolder=I(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Fe(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&He();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof We?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Re(t)),r&&je()}},Fe.bind(null,t))}catch(e){Fe(t,e)}}(this,e)}var Me={get:function(){var e=_e,t=Ye;function n(n,r){var i=this,a=!e.global&&(e!==_e||t!==Ye);a&&et();var s=new We(function(t,s){Ke(i,new Le(st(n,e,a),st(r,e,a),t,s,e))});return F&&Ie(s,this),s}return n.prototype=oe,n},set:function(e){h(this,"then",e&&e.prototype===oe?Me:{get:function(){return e},set:Me.set})}};function Le(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Fe(e,t){if(Ee.push(t),null===e._state){var n=e._lib&&He();t=Te(t),e._state=!1,e._value=t,F&&null!==t&&"object"==typeof t&&!t._promise&&C(function(){var n=function e(t,n){var r;return f(t,n)||(r=o(t))&&e(r,n)}(t,"stack");t._promise=e,h(t,"stack",{get:function(){return ye?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),function(e){Se.some(function(t){return t._value===e._value})||Se.push(e)}(e),Re(e),n&&je()}}function Re(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ke(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Pe&&(++Pe,we(function(){0==--Pe&&ze()},[]))}function Ke(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Pe,we(Oe,[n,e,t])}else e._listeners.push(t)}function Oe(e,t,n){try{xe=t;var r,i=t._value;t._state?r=e(i):(Ee.length&&(Ee=[]),r=e(i),-1===Ee.indexOf(i)&&function(e){var t=Se.length;for(;t;)if(Se[--t]._value===e._value)return void Se.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{xe=null,0==--Pe&&ze(),--n.psd.ref||n.psd.finalize()}}function Ie(e,t){var n=t?t._numPrev+1:0;n<le&&(e._prev=t,e._numPrev=n)}function Be(){He()&&je()}function He(){var e=ke;return ke=!1,Ce=!1,e}function je(){var e,t,n;do{for(;De.length>0;)for(e=De,De=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(De.length>0);ke=!0,Ce=!0}function ze(){var e=Se;Se=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=Ne.slice(0),n=t.length;n;)t[--n]()}function Ve(e){return new We(oe,!1,e)}function Ue(e,t){var n=_e;return function(){var r=He(),i=_e;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(i,!1),r&&je()}}}u(We.prototype,{then:Me,_then:function(e,t){Ke(this,new Le(null,null,e,t,_e))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?n(e):Ve(e)}):this.then(null,function(e){return e&&e.name===t?n(e):Ve(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),Ve(t)})},stack:{get:function(){if(this._stack)return this._stack;try{ye=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var a,s,o=t._value;null!=o?(a=o.name||"Error",s=o.message||o,i=B(o,0)):(a=o,s=""),n.push(a+(s?": "+s:"")+i)}F&&((i=B(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ye=!1}}},timeout:function(e,t){var n=this;return e<1/0?new We(function(r,i){var a=setTimeout(function(){return i(new q.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,a))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(We.prototype,Symbol.toStringTag,"Promise"),Ae.env=it(),u(We,{all:function(){var e=L.apply(null,arguments).map(tt);return new We(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,a){return We.resolve(i).then(function(n){e[a]=n,--r||t(e)},n)})})},resolve:function(e){if(e instanceof We)return e;if(e&&"function"==typeof e.then)return new We(function(t,n){e.then(t,n)});var t=new We(oe,!0,e);return Ie(t,xe),t},reject:Ve,race:function(){var e=L.apply(null,arguments).map(tt);return new We(function(t,n){e.map(function(e){return We.resolve(e).then(t,n)})})},PSD:{get:function(){return _e},set:function(e){return _e=e}},newPSD:Xe,usePSD:at,scheduler:{get:function(){return we},set:function(e){we=e}},rejectionMapper:{get:function(){return Te},set:function(e){Te=e}},follow:function(e,t){return new We(function(n,r){return Xe(function(t,n){var r=_e;r.unhandleds=[],r.onunhandled=n,r.finalize=te(function(){var e=this;!function(e){Ne.push(function t(){e();Ne.splice(Ne.indexOf(t),1)}),++Pe,we(function(){0==--Pe&&ze()},[])}(function(){0===e.unhandleds.length?t():n(e.unhandleds[0])})},r.finalize),e()},t,n,r)})}});var $e={awaits:0,echoes:0,id:0},Ge=0,Je=[],qe=0,Ye=0,Qe=0;function Xe(e,t,n,r){var i=_e,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++Qe;var o=Ae.env;a.env=ve?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,resolve:We.resolve,reject:We.reject,nthen:ot(o.nthen,a),gthen:ot(o.gthen,a)}:{},t&&s(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=at(a,e,n,r);return 0===a.ref&&a.finalize(),l}function Ze(){return $e.id||($e.id=++Ge),++$e.awaits,$e.echoes+=ce,$e.id}function et(e){!$e.awaits||e&&e!==$e.id||(0==--$e.awaits&&($e.id=0),$e.echoes=$e.awaits*ce)}function tt(e){return $e.echoes&&e&&e.constructor===me?(Ze(),e.then(function(e){return et(),e},function(e){return et(),ut(e)})):e}function nt(){var e=Je[Je.length-1];Je.pop(),rt(e,!1)}function rt(e,t){var n,r=_e;if((t?!$e.echoes||qe++&&e===_e:!qe||--qe&&e===_e)||(n=t?function(e){++Ye,$e.echoes&&0!=--$e.echoes||($e.echoes=$e.id=0),Je.push(_e),rt(e,!0)}.bind(null,e):nt,fe.call(de,n)),e!==_e&&(_e=e,r===Ae&&(Ae.env=it()),ve)){var i=Ae.env.Promise,s=e.env;he.then=s.nthen,i.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(a,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject)}}function it(){var e=a.Promise;return ve?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:he.then,gthen:e.prototype.then}:{}}function at(e,t,n,r,i){var a=_e;try{return rt(e,!0),t(n,r,i)}finally{rt(a,!1)}}function st(e,t,n){return"function"!=typeof e?e:function(){var r=_e;n&&Ze(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function ot(e,t){return function(n,r){return e.call(this,st(n,t,!1),st(r,t,!1))}}var lt="unhandledrejection";function ct(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(a.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(lt,!0,!0),s(r,i)):a.CustomEvent&&s(r=new CustomEvent(lt,{detail:i}),i),r&&a.dispatchEvent&&(dispatchEvent(r),!a.PromiseRejectionEvent&&a.onunhandledrejection))try{a.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var ut=We.reject;function dt(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return t[n].subscribe.apply(null,a),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var a=1,s=arguments.length;a<s;++a)o(arguments[a]);return n;function o(e,a,s){if("object"!=typeof e){var l;a||(a=ae),s||(s=X);var c={subscribers:[],fire:s,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=a(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(a,s)}};return t[e]=n[e]=c,c}r(l=e).forEach(function(e){var t=l[e];if(i(t))o(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new q.InvalidArgument("Invalid event config");var n=o(e,Z,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){b(function(){e.apply(null,t)})})})}})}}var ht,pt=String.fromCharCode(65535),ft=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return pt}}(),mt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vt="String expected.",yt=[],bt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),wt=bt,kt=bt,Ct=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function St(e,t){var n,o,l,d,p,f=St.dependencies,m=s({addons:St.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},t),b=m.addons,T=m.autoOpen,_=m.indexedDB,N=m.IDBKeyRange,W=this._dbSchema={},R=[],K=[],O={},H=null,j=null,z=!1,V=null,G=!1,J="readwrite",Y=this,Q=new We(function(e){n=e}),te=new We(function(e,t){o=t}),ae=!0,oe=!!Lt(_);function le(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ce(e,t,n){var i=Y._createTransaction(J,K,W);i.create(t),i._completion.catch(n);var a=i._reject.bind(i);Xe(function(){_e.trans=i,0===e?(r(W).forEach(function(e){ue(t,e,W[e].primKey,W[e].indexes)}),We.follow(function(){return Y.on.populate.fire(i)}).catch(a)):function(e,t,n){var i=[],a=R.filter(function(t){return t._cfg.version===e})[0];if(!a)throw new q.Upgrade("Dexie specification of currently installed DB version is missing");W=Y._dbSchema=a._cfg.dbschema;var s=!1;return R.filter(function(t){return t._cfg.version>e}).forEach(function(e){i.push(function(){var r=W,i=e._cfg.dbschema;Me(r,n),Me(i,n),W=Y._dbSchema=i;var a=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],a=t[r];if(i){var s={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==a.primKey.src)s.recreate=!0,n.change.push(s);else{var o=i.idxByName,l=a.idxByName;for(var c in o)l[c]||s.del.push(c);for(c in l){var u=o[c],d=l[c];u?u.src!==d.src&&s.change.push(d):s.add.push(d)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,a])}return n}(r,i);if(a.add.forEach(function(e){ue(n,e[0],e[1].primKey,e[1].indexes)}),a.change.forEach(function(e){if(e.recreate)throw new q.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach(function(e){de(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),de(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return s=!0,We.follow(function(){e._cfg.contentUpgrade(t)})}),i.push(function(t){s&&wt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)})}),function e(){return i.length?We.resolve(i.shift()(t.idbtrans)).then(e):We.resolve()}().then(function(){!function(e,t){r(e).forEach(function(n){t.db.objectStoreNames.contains(n)||ue(t,n,e[n].primKey,e[n].indexes)})}(W,n)})}(e,i,t).catch(a)})}function ue(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){de(i,e)}),i}function de(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function he(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=O[e]?O[e].hook:dt(null,{creating:[ne,X],reading:[ee,Z],updating:[ie,X],deleting:[re,X]})}function pe(e,t,n){return(n?_t:Tt)(function(n){e.push(n),t&&t()})}function fe(e,t,n,r,i){return new We(function(a,s){var o=n.length,l=o-1;if(0===o)return a();if(r){var c,u=_t(s),d=xt(null);C(function(){for(var r=0;r<o;++r){c={onsuccess:null,onerror:null};var s=n[r];i.call(c,s[0],s[1],t);var h=e.delete(s[0]);h._hookCtx=c,h.onerror=u,h.onsuccess=r===l?xt(a):d}},function(e){throw c.onerror&&c.onerror(e),e})}else for(var h=0;h<o;++h){var p=e.delete(n[h]);p.onerror=Tt(s),h===l&&(p.onsuccess=Ue(function(){return a()}))}})}function ve(e,t,n,r){var i=this;this.db=Y,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=dt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We(function(e,t){i._resolve=e,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),ut(e)})}function ye(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function be(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,a=i.table;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a.hook.reading.fire}}function we(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ke(e,t){return e._cfg.version-t._cfg.version}function Ce(e,t,n){t.forEach(function(t){var r=n[t];e.forEach(function(e){t in e||(e===ve.prototype||e instanceof ve?h(e,t,{get:function(){return this.table(t)}}):e[t]=new he(t,r))})})}function Se(e,t,n,r,i,a){var s=Ue(a?function(e,t,r){return n(a(e),t,r)}:n,i);e.onerror||(e.onerror=Tt(i)),e.onsuccess=k(t?function(){var n=e.result;if(n){var a=function(){n.continue()};t(n,function(e){a=e},r,i)&&s(n.value,n,function(e){a=e}),a()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,function(e){n=e}),n()}else r()},i)}function Ee(e,t){return _.cmp(e,t)}function xe(e,t){return Ee(e,t)>0?e:t}function Te(e,t){return _.cmp(e,t)}function Ae(e,t){return _.cmp(t,e)}function De(e,t){return e<t?-1:e===t?0:1}function Pe(e,t){return e>t?-1:e===t?0:1}function Ne(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Me(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],s=t.objectStore(i);l="getAll"in s;for(var o=0;o<s.indexNames.length;++o){var c=s.indexNames[o],u=s.index(c).keyPath,d="string"==typeof u?u:"["+g(u).join("+")+"]";if(e[i]){var h=e[i].idxByName[d];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l=!1)}function Le(e){Y.on("blocked").fire(e),yt.filter(function(e){return e.name===Y.name&&e!==Y&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}this.version=function(e){if(H||z)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=R.filter(function(t){return t._cfg.version===e})[0];return t||(t=new le(e),R.push(t),R.sort(ke),ae=!1,t)},s(le.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var t={};R.forEach(function(e){s(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),W=Y._dbSchema=n,[O,Y,ve.prototype].forEach(function(e){for(var t in e)e[t]instanceof he&&delete e[t]}),Ce([O,Y,ve.prototype,this._cfg.tables],r(n),n),K=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach(function(n){if(null!==e[n]){var r={},a=function(e){var t=[];return e.split(",").forEach(function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Nt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),/\./.test(e)))}),t}(e[n]),s=a.shift();if(s.multi)throw new q.Schema("Primary key cannot be multi-valued");s.keyPath&&E(r,s.keyPath,s.auto?0:s.keyPath),a.forEach(function(e){if(e.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string");E(r,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new Wt(n,s,a,r)}})}}),this._allTables=O,this._createTransaction=function(e,t,n,r){return new ve(e,t,n,r)},this._whenReady=function(e){return G||_e.letThrough?e():new We(function(e,t){if(!z){if(!T)return void t(new q.DatabaseClosed);Y.open().catch(X)}Q.then(e,t)}).then(e)},this.verno=0,this.open=function(){if(z||H)return Q.then(function(){return j?ut(j):Y});F&&(te._stackHolder=I()),z=!0,j=null,G=!1;var t=n,i=null;return We.race([te,new We(function(t,n){if(!_)throw new q.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=ae?_.open(e):_.open(e,Math.round(10*Y.verno));if(!a)throw new q.MissingAPI("IndexedDB API not available");a.onerror=Tt(n),a.onblocked=Ue(Le),a.onupgradeneeded=Ue(function(t){if(i=a.transaction,ae&&!Y._allowEmptyDB){a.onerror=Dt,i.abort(),a.result.close();var r=_.deleteDatabase(e);r.onsuccess=r.onerror=Ue(function(){n(new q.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{i.onerror=Tt(n),ce((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,n)}},n),a.onsuccess=Ue(function(){if(i=null,H=a.result,yt.push(Y),ae)!function(){if(Y.verno=H.version/10,Y._dbSchema=W={},0===(K=g(H.objectStoreNames,0)).length)return;var e=H.transaction(Mt(K),"readonly");K.forEach(function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),a=new Nt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),s=[],o=0;o<n.indexNames.length;++o){var l=n.index(n.indexNames[o]);r=l.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Nt(l.name,r,!!l.unique,!!l.multiEntry,!1,r&&"string"!=typeof r,i);s.push(c)}W[t]=new Wt(t,a,s,{})}),Ce([O],r(W),W)}();else if(H.objectStoreNames.length>0)try{Me(W,H.transaction(Mt(H.objectStoreNames),"readonly"))}catch(e){}H.onversionchange=Ue(function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)}),oe||"__dbnames"===e||ht.dbnames.put({name:e}).catch(X),t()},n)})]).then(function(){return V=[],We.resolve(St.vip(Y.on.ready.fire)).then(function e(){if(V.length>0){var t=V.reduce(se,X);return V=[],We.resolve(St.vip(t)).then(e)}})}).finally(function(){V=null}).then(function(){return z=!1,Y}).catch(function(e){try{i&&i.abort()}catch(e){}return z=!1,Y.close(),ut(j=e)}).finally(function(){G=!0,t()})},this.close=function(){var e=yt.indexOf(Y);if(e>=0&&yt.splice(e,1),H){try{H.close()}catch(e){}H=null}T=!1,j=new q.DatabaseClosed,z&&o(j),Q=new We(function(e){n=e}),te=new We(function(e,t){o=t})},this.delete=function(){var t=arguments.length>0;return new We(function(n,r){if(t)throw new q.InvalidArgument("Arguments not allowed in db.delete()");function i(){Y.close();var t=_.deleteDatabase(e);t.onsuccess=Ue(function(){oe||ht.dbnames.delete(e).catch(X),n()}),t.onerror=Tt(r),t.onblocked=Le}z?Q.then(i):i()})},this.backendDB=function(){return H},this.isOpen=function(){return null!==H},this.hasBeenClosed=function(){return j&&j instanceof q.DatabaseClosed},this.hasFailed=function(){return null!==j},this.dynamicallyOpened=function(){return ae},this.name=e,u(this,{tables:{get:function(){return r(O).map(function(e){return O[e]})}}}),this.on=dt(this,"populate","blocked","versionchange",{ready:[se,X]}),this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){St.vip(function(){G?(j||We.resolve().then(t),n&&e(t)):V?(V.push(t),n&&e(t)):(e(t),n||e(function e(){Y.on.ready.unsubscribe(t),Y.on.ready.unsubscribe(e)}))})}}),this.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new q.InvalidArgument("Too few arguments");var i=new Array(r-1);for(;--r;)i[r-1]=arguments[r];n=i.pop();var a=A(i);return[e,a,n]}.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=_e.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var a=t.map(function(e){var t=e instanceof he?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=J)throw new q.InvalidArgument("Invalid transaction mode: "+e);e=J}if(r){if("readonly"===r.mode&&e===J){if(!i)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach(function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new q.SubTransaction("Table "+e+" not included in parent transaction.");r=null}}),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,function(t,n){n(e)}):ut(e)}return r?r._promise(e,s,"lock"):_e.trans?at(_e.transless,function(){return Y._whenReady(s)}):Y._whenReady(s);function s(){return We.resolve().then(function(){var t,i=_e.transless||_e,s=Y._createTransaction(e,a,W,r),o={trans:s,transless:i};r?s.idbtrans=r.idbtrans:s.create(),n.constructor===ge&&Ze();var l=We.follow(function(){if(t=n.call(s,s))if(t.constructor===me){var e=et.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Pt(t))},o);return(t&&"function"==typeof t.then?We.resolve(t).then(function(e){return s.active?e:ut(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):l.then(function(){return t})).then(function(e){return r&&s._resolve(),s._completion.then(function(){return e})}).catch(function(e){return s._reject(e),ut(e)})})}},this.table=function(e){if(!c(O,e))throw new q.InvalidTable("Table "+e+" does not exist");return O[e]},u(he.prototype,{_trans:function(e,t,n){var r=this._tx||_e.trans;return r&&r.db===Y?r===_e.trans?r._promise(e,t,n):Xe(function(){return r._promise(e,t,n)},{trans:r,transless:_e.transless||_e}):function e(t,n,r){if(G||_e.letThrough){var i=Y._createTransaction(t,n,W);try{i.create()}catch(e){return ut(e)}return i._promise(t,function(e,t){return Xe(function(){return _e.trans=i,r(e,t,i)})}).then(function(e){return i._completion.then(function(){return e})})}if(!z){if(!T)return ut(new q.DatabaseClosed);Y.open().catch(X)}return Q.then(function(){return e(t,n,r)})}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new q.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)},n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",function(t,r,i){var a=i.get(e);a.onerror=Tt(r),a.onsuccess=Ue(function(){t(n.hook.reading.fire(a.result))},r)}).then(t)},where:function(e){if("string"==typeof e)return new ye(this,e);if(i(e))return new ye(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&t.every(function(t){return e.keyPath.indexOf(t)>=0})&&e.keyPath.every(function(e){return t.indexOf(e)>=0})})[0];if(n&&ft!==pt)return this.where(n.name).equals(n.keyPath.map(function(t){return e[t]}));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var a=this.schema.idxByName,s=t.reduce(function(t,n){return[t[0]||a[n],t[0]||!a[n]?Ne(t[1],function(t){return""+S(t,n)==""+e[n]}):t[1]]},[null,null]),o=s[0];return o?this.where(o.name).equals(e[o.keyPath]).filter(s[1]):n?this.filter(s[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new be(new ye(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new be(new ye(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Et(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(c(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(St.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===X?this._idbstore(J,function(t,n,r,i){t(fe(r,i,e,!1,X))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var n=this;return this._idbstore(J,function(r,i,a){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new q.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var s,o,l=function(e){0===c.length?r(e):i(new $(n.name+".bulkPut(): "+c.length+" of "+u+" operations failed",c))},c=[],u=e.length,d=n;if(n.hook.creating.fire===X&&n.hook.updating.fire===X){o=pe(c);for(var h=0,p=e.length;h<p;++h)(s=t?a.put(e[h],t[h]):a.put(e[h])).onerror=o;s.onerror=pe(c,l),s.onsuccess=At(l)}else{var f=t||a.keyPath&&e.map(function(e){return S(e,a.keyPath)}),m=f&&w(f,function(t,n){return null!=t&&[t,e[n]]});(f?d.where(":id").anyOf(f.filter(function(e){return null!=e})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(U,function(e){c=e.failures}).then(function(){for(var n=[],r=t&&[],i=f.length-1;i>=0;--i){var a=f[i];(null==a||m[a])&&(n.push(e[i]),t&&r.push(a),null!=a&&(m[a]=null))}return n.reverse(),t&&r.reverse(),d.bulkAdd(n,r)}).then(function(e){var t=f[f.length-1];return null!=t?t:e}):d.bulkAdd(e)).then(l).catch($,function(e){c=c.concat(e.failures),l()}).catch(i)}},"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(J,function(i,a,s,o){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new q.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function l(e){0===h.length?i(e):a(new $(n.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}var c,u,d,h=[],p=e.length;if(r!==X){var f,m=s.keyPath;u=pe(h,null,!0),d=xt(null),C(function(){for(var n=0,i=e.length;n<i;++n){f={onerror:null,onsuccess:null};var a=t&&t[n],l=e[n],h=t?a:m?S(l,m):void 0,p=r.call(f,h,l,o);null==h&&null!=p&&(m?E(l=D(l),m,p):a=p),(c=null!=a?s.add(l,a):s.add(l))._hookCtx=f,n<i-1&&(c.onerror=u,f.onsuccess&&(c.onsuccess=d))}},function(e){throw f.onerror&&f.onerror(e),e}),c.onerror=pe(h,l,!0),c.onsuccess=xt(l)}else{u=pe(h);for(var g=0,v=e.length;g<v;++g)(c=t?s.add(e[g],t[g]):s.add(e[g])).onerror=u;c.onerror=pe(h,l),c.onsuccess=At(l)}})},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(J,function(r,i,a,s){var o={onsuccess:null,onerror:null};if(n!==X){var l=null!=t?t:a.keyPath?S(e,a.keyPath):void 0,c=n.call(o,l,e,s);null==l&&null!=c&&(a.keyPath?E(e,a.keyPath,c):t=c)}try{var u=null!=t?a.add(e,t):a.add(e);u._hookCtx=o,u.onerror=_t(i),u.onsuccess=xt(function(t){var n=a.keyPath;n&&E(e,n,t),r(t)})}catch(e){throw o.onerror&&o.onerror(e),e}})},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==X||i!==X){var a=this.schema.primKey.keyPath,s=void 0!==t?t:a&&S(e,a);return null==s?this.add(e):(e=D(e),this._trans(J,function(){return n.where(":id").equals(s).modify(function(){this.value=e}).then(function(r){return 0===r?n.add(e,t):s})},"locked"))}return this._idbstore(J,function(n,r,i){var a=void 0!==t?i.put(e,t):i.put(e);a.onerror=Tt(r),a.onsuccess=Ue(function(t){var r=i.keyPath;r&&E(e,r,t.target.result),n(a.result)})})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(J,function(t,n,r){var i=r.delete(e);i.onerror=Tt(n),i.onsuccess=Ue(function(){t(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(J,function(e,t,n){var r=n.clear();r.onerror=Tt(t),r.onsuccess=Ue(function(){e(r.result)})})},update:function(e,t){if("object"!=typeof t||i(t))throw new q.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);r(t).forEach(function(n){E(e,n,t[n])});var n=S(e,this.schema.primKey.keyPath);return void 0===n?ut(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),u(ve.prototype,{_lock:function(){return y(!_e.global),++this._reculock,1!==this._reculock||_e.global||(_e.lockOwnerFor=this),this},_unlock:function(){if(y(!_e.global),0==--this._reculock)for(_e.global||(_e.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{at(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&_e.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(y(!this.idbtrans),!e&&!H)switch(j&&j.name){case"DatabaseClosedError":throw new q.DatabaseClosed(j);case"MissingAPIError":throw new q.MissingAPI(j.message,j);default:throw new q.OpenFailed(j)}if(!this.active)throw new q.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||H.transaction(Mt(this.storeNames),this.mode)).onerror=Ue(function(n){Dt(n),t._reject(e.error)}),e.onabort=Ue(function(n){Dt(n),t.active&&t._reject(new q.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Ue(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,n){var r=this;if(e===J&&this.mode!==J)return ut(new q.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new q.TransactionInactive);if(this._locked())return new We(function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},_e])});if(n)return Xe(function(){var e=new We(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new We(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=We.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return e});else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new We(function(n,i){e.then(function(e){return t._waitingQueue.push(Ue(n.bind(null,e)))},function(e){return t._waitingQueue.push(Ue(i.bind(null,e)))}).finally(function(){t._waitingFor===r&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new q.Abort),this.active=!1},tables:{get:(d="Transaction.tables",p=function(){return O},function(){return console.warn(d+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+B(I(),1)),p.apply(this,arguments)})},table:function(e){return new he(e,Y.table(e).schema,this)}}),u(ye.prototype,function(){function e(e,t,n){var r=e instanceof ye?new be(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new be(e,function(){return N.only("")}).limit(0)}function n(e,t,n,r,i,a){for(var s=Math.min(e.length,r.length),o=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],c)<0&&(o=l)}return s<r.length&&"next"===a?e+n.substr(e.length):s<e.length&&"prev"===a?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function r(t,r,i,a){var s,o,l,c,u,d,h,p=i.length;if(!i.every(function(e){return"string"==typeof e}))return e(t,vt);function f(e){s=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),o=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),l="next"===e?De:Pe;var t=i.map(function(e){return{lower:o(e),upper:s(e)}}).sort(function(e,t){return l(e.lower,t.lower)});c=t.map(function(e){return e.upper}),u=t.map(function(e){return e.lower}),d=e,h="next"===e?"":a}f("next");var m=new be(t,function(){return N.bound(c[0],u[p-1]+a)});m._ondirectionchange=function(e){f(e)};var g=0;return m._addAlgorithm(function(e,t,i){var a=e.key;if("string"!=typeof a)return!1;var s=o(a);if(r(s,u,g))return!0;for(var f=null,m=g;m<p;++m){var v=n(a,s,c[m],u[m],l,d);null===v&&null===f?g=m+1:(null===f||l(f,v)>0)&&(f=v)}return t(null!==f?function(){e.continue(f+h)}:i),!1}),m}return{between:function(n,r,i,a){i=!1!==i,a=!0===a;try{return Ee(n,r)>0||0===Ee(n,r)&&(i||a)&&(!i||!a)?t(this):new be(this,function(){return N.bound(n,r,!i,!a)})}catch(t){return e(this,gt)}},equals:function(e){return new be(this,function(){return N.only(e)})},above:function(e){return new be(this,function(){return N.lowerBound(e,!0)})},aboveOrEqual:function(e){return new be(this,function(){return N.lowerBound(e)})},below:function(e){return new be(this,function(){return N.upperBound(e,!0)})},belowOrEqual:function(e){return new be(this,function(){return N.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,vt):this.between(t,t+pt,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,function(e,t){return 0===e.indexOf(t[0])},[e],pt)},equalsIgnoreCase:function(e){return r(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=L.apply(M,arguments);return 0===e.length?t(this):r(this,function(e,t){return-1!==t.indexOf(e)},e,"")},startsWithAnyOfIgnoreCase:function(){var e=L.apply(M,arguments);return 0===e.length?t(this):r(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,pt)},anyOf:function(){var n=L.apply(M,arguments),r=Te;try{n.sort(r)}catch(t){return e(this,gt)}if(0===n.length)return t(this);var i=new be(this,function(){return N.bound(n[0],n[n.length-1])});i._ondirectionchange=function(e){r="next"===e?Te:Ae,n.sort(r)};var a=0;return i._addAlgorithm(function(e,t,i){for(var s=e.key;r(s,n[a])>0;)if(++a===n.length)return t(i),!1;return 0===r(s,n[a])||(t(function(){e.continue(n[a])}),!1)}),i},notEqual:function(e){return this.inAnyRange([[mt,e],[e,ft]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=L.apply(M,arguments);if(0===t.length)return new be(this);try{t.sort(Te)}catch(t){return e(this,gt)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[mt,t]]},null);return n.push([t[t.length-1],ft]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&Te(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var i=!r||!1!==r.includeLowers,a=r&&!0===r.includeUppers;var s,o=Te;function l(e,t){return o(e[0],t[0])}try{(s=n.reduce(function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(Ee(t[0],i[1])<0&&Ee(t[1],i[0])>0){i[0]=(a=i[0],s=t[0],Ee(a,s)<0?a:s),i[1]=xe(i[1],t[1]);break}}var a,s;return n===r&&e.push(t),e},[])).sort(l)}catch(t){return e(this,gt)}var c=0,u=a?function(e){return Te(e,s[c][1])>0}:function(e){return Te(e,s[c][1])>=0},d=i?function(e){return Ae(e,s[c][0])>0}:function(e){return Ae(e,s[c][0])>=0};var h=u,p=new be(this,function(){return N.bound(s[0][0],s[s.length-1][1],!i,!a)});return p._ondirectionchange=function(e){"next"===e?(h=u,o=Te):(h=d,o=Ae),s.sort(l)},p._addAlgorithm(function(e,t,n){for(var r=e.key;h(r);)if(++c===s.length)return t(n),!1;return!!function(e){return!u(e)&&!d(e)}(r)||0!==Ee(r,s[c][1])&&0!==Ee(r,s[c][0])&&(t(function(){o===Te?e.continue(s[c][0]):e.continue(s[c][1])}),!1)}),p},startsWithAnyOf:function(){var n=L.apply(M,arguments);return n.every(function(e){return"string"==typeof e})?0===n.length?t(this):this.inAnyRange(n.map(function(e){return[e,e+pt]})):e(this,"startsWithAnyOf() only works with strings")}}}),u(be.prototype,function(){function e(e,t){e.filter=Ne(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ne(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function i(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function a(e,t,n,r,a){var s=e.replayFilter?Ne(e.filter,e.replayFilter()):e.filter;e.or?function(){var o={},l=0;function u(){2==++l&&n()}function d(e,n,i){if(!s||s(n,i,u,r)){var a=n.primaryKey,l=""+a;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(a)),c(o,l)||(o[l]=!0,t(e,n,i))}}e.or._iterate(d,u,r,a),Se(i(e,a),e.algorithm,d,u,r,!e.keysOnly&&e.valueMapper)}():Se(i(e,a),Ne(e.algorithm,s),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,ut.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,ut.bind(null,t.error)):t.table._idbstore(J,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Ne(t.algorithm,e)},_iterate:function(e,t,n,r){return a(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read(function(n,r,i){a(t,e,n,r,i)})},count:function(e){var t=this._ctx;if(we(t,!0))return this._read(function(e,r,i){var a=n(t,i),s=t.range?a.count(t.range):a.count();s.onerror=Tt(r),s.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}},e);var r=0;return this._read(function(e,n,i){a(t,function(){return++r,!1},function(){e(r)},n,i)},e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function o(e,t){var n=a(e,i),r=a(t,i);return n<r?-s:n>r?s:0}return this.toArray(function(e){return e.sort(o)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,r,i){if(l&&"next"===t.dir&&we(t,!0)&&t.limit>0){var s=t.table.hook.reading.fire,o=n(t,i),c=t.limit<1/0?o.getAll(t.range,t.limit):o.getAll(t.range);c.onerror=Tt(r),c.onsuccess=At(s===Z?e:function(t){try{e(t.map(s))}catch(e){r(e)}})}else{var u=[];a(t,function(e){u.push(e)},function(){e(u)},r,i)}},e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,we(n)?t(n,function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1))}}):t(n,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}},!0),this},until:function(t,n){return e(this._ctx,function(e,r,i){return!t(e.value)||(r(i),n)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){var n,r;return e(this._ctx,function(e){return t(e.value)}),n=this._ctx,r=t,n.isMatch=Ne(n.isMatch,r),this},and:function(e){return this.filter(e)},or:function(e){return new ye(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},primaryKeys:function(e){var t=this._ctx;if(l&&"next"===t.dir&&we(t,!0)&&t.limit>0)return this._read(function(e,r,i){var a=n(t,i),s=t.limit<1/0?a.getAllKeys(t.range,t.limit):a.getAllKeys(t.range);s.onerror=Tt(r),s.onsuccess=At(e)}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=c(r,t);return r[t]=!0,!n}),this},modify:function(e){var t=this,n=this._ctx.table.hook,i=n.updating.fire,a=n.deleting.fire;return this._write(function(n,o,l,u){var d;if("function"==typeof e)d=i===X&&a===X?e:function(t){var n=D(t);if(!1===e.call(this,t,this))return!1;if(c(this,"value")){var s=P(n,this.value),o=i.call(this,s,this.primKey,n,u);o&&(t=this.value,r(o).forEach(function(e){E(t,e,o[e])}))}else a.call(this,this.primKey,t,u)};else if(i===X){var h=r(e),p=h.length;d=function(t){for(var n=!1,r=0;r<p;++r){var i=h[r],a=e[i];S(t,i)!==a&&(E(t,i,a),n=!0)}return n}}else{var f=e;e=x(f),d=function(t){var n=!1,a=i.call(this,e,this.primKey,D(t),u);return a&&s(e,a),r(e).forEach(function(r){var i=e[r];S(t,r)!==i&&(E(t,r,i),n=!0)}),a&&(e=x(f)),n}}var m=0,g=0,v=!1,y=[],b=[],w=null;function k(e){return e&&(y.push(e),b.push(w)),o(new U("Error modifying one or more objects",y,g,b))}function T(){v&&g+y.length===m&&(y.length>0?k():n(g))}t.clone().raw()._iterate(function(e,t){w=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return y.push(e),b.push(n.primKey),T(),!0}if(!1!==d.call(n,e,n)){var i=!c(n,"value");++m,C(function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=_t(r),e.onsuccess=xt(function(){++g,T()})},r)}else n.onsuccess&&n.onsuccess(n.value)},function(){v=!0,T()},k,l)})},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==X;if(!i&&we(t)&&(t.isPrimKey&&!kt||!n))return this._write(function(e,t,r){var i=Tt(t),a=n?r.count(n):r.count();a.onerror=i,a.onsuccess=function(){var s=a.result;C(function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(s)}},function(e){return t(e)})}});var a=i?2e3:1e4;return this._write(function(n,s,o,l){var c=0,u=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(a).raw(),d=[],h=function(){return u.each(i?function(e,t){d.push([t.primaryKey,t.value])}:function(e,t){d.push(t.primaryKey)}).then(function(){return i?d.sort(function(e,t){return Te(e[0],t[0])}):d.sort(Te),fe(o,l,d,i,r)}).then(function(){var e=d.length;return c+=e,d=[],e<a?c:h()})};n(h())})}}}),s(this,{Collection:be,Table:he,Transaction:ve,Version:le,WhereClause:ye}),Y.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()}),Y.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)}),b.forEach(function(e){e(Y)})}function Et(e,t){return r(t).forEach(function(n){var r=function e(t){if("function"==typeof t)return new t;if(i(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return Et(n,t),n}return t}(t[n]);e[n]=r}),e}function xt(e){return Ue(function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,a=r&&r.onsuccess;a&&a(i),e&&e(i)},e)}function Tt(e){return Ue(function(t){return Dt(t),e(t.target.error),!1})}function At(e){return Ue(function(t){e(t.target.result)})}function _t(e){return Ue(function(t){var n=t.target,r=n.error,i=n._hookCtx,a=i&&i.onerror;return a&&a(r),Dt(t),e(r),!1})}function Dt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Pt(e){var t=function(t){return e.next(t)},n=a(t),r=a(function(t){return e.throw(t)});function a(e){return function(t){var a=e(t),s=a.value;return a.done?s:s&&"function"==typeof s.then?s.then(n,r):i(s)?We.all(s).then(n,r):n(s)}}return a(t)()}function Nt(e,t,n,r,i,a,s){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=a,this.dotted=s;var o="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+o}function Wt(e,t,n,r){this.name=e,this.primKey=t||new Nt,this.indexes=n||[new Nt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,function(e){return[e.name,e]})}function Mt(e){return 1===e.length?e[0]:e}function Lt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}R(F,Ct),u(St,Q),u(St,{delete:function(e){var t=new St(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new St(e).open().then(function(e){return e.close(),!0}).catch(St.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){var t=Lt(St.dependencies.indexedDB);return t?new We(function(e,n){var r=t();r.onsuccess=function(t){e(g(t.target.result,0))},r.onerror=Tt(n)}).then(e):ht.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&s(this,e)}},applyStructure:Et,ignoreTransaction:function(e){return _e.trans?at(_e.transless,e):e()},vip:function(e){return Xe(function(){return _e.letThrough=!0,e()})},async:function(e){return function(){try{var t=Pt(e.apply(this,arguments));return t&&"function"==typeof t.then?t:We.resolve(t)}catch(e){return ut(e)}}},spawn:function(e,t,n){try{var r=Pt(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:We.resolve(r)}catch(e){return ut(e)}},currentTransaction:{get:function(){return _e.trans||null}},waitFor:function(e,t){var n=We.resolve("function"==typeof e?St.ignoreTransaction(e):e).timeout(t||6e4);return _e.trans?_e.trans.waitFor(n):n},Promise:We,debug:{get:function(){return F},set:function(e){R(e,"dexie"===e?function(){return!0}:Ct)}},derive:p,extend:s,props:u,override:v,Events:dt,getByKeyPath:S,setByKeyPath:E,delByKeyPath:function(e,t){"string"==typeof t?E(e,t,void 0):"length"in t&&[].map.call(t,function(t){E(e,t,void 0)})},shallowClone:x,deepClone:D,getObjectDiff:P,asap:b,maxKey:ft,minKey:mt,addons:[],connections:yt,MultiModifyError:q.Modify,errnames:G,IndexSpec:Nt,TableSchema:Wt,dependencies:function(){try{return{indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),default:St,Dexie:St}),We.rejectionMapper=function(e,t){if(!e||e instanceof V||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var n=new Y[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(ht=new St("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==a.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(e){return ht.dbnames.put({name:e}).catch(X)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.default=St}.call(this,n(8),n(16).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(17),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,s,o,l=1,c={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},h.clearImmediate=p}function p(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(8),n(18))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=o(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(o[c]=n[c]);if(r){s=r(n);for(var u=0;u<s.length;u++)a.call(n,s[u])&&(o[s[u]]=n[s[u]])}}return o}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),a=n(22),s=n(26),o=n(30),l=n(1),c=n(3),u=n(32);class d extends i.Component{constructor(e){super(e),window.data=this.data=new c.Data,this.state={currentView:h.CharacterPicker,characters:[],selectedCharacter:-1,spellList:[]}}componentDidMount(){this.data.getCharacters().then(e=>{this.setState({characters:e})})}render(){return i.createElement("div",{className:"app-container"},i.createElement("div",{style:{display:"flex",flexFlow:"row",alignItems:"center"},className:"top-bar"},i.createElement("button",{className:"back-button",onClick:()=>this.goBack(),style:{display:`${this.state.currentView==h.CharacterPicker?"none":"initial"}`,lineHeight:1.45}},i.createElement("i",{style:{lineHeight:1.45}},"arrow_back_ios")),i.createElement("span",{className:"top-bar-title",style:{width:"calc(90% - 50px)",textAlign:"center",fontSize:36,marginLeft:this.state.currentView==h.CharacterPicker?25:0}},"DnD Character Manager")),this.renderView())}renderView(){switch(this.state.currentView){case h.CharacterPicker:return i.createElement(o.CharacterPicker,{characters:this.state.characters,characterSelected:e=>this.switchView(h.CharacterSheet,e),newCharacterClicked:()=>this.switchView(h.CharacterCreator)});case h.CharacterSheet:let e=this.state.characters[this.state.selectedCharacter];return i.createElement(s.CharacterSheet,{character:e,adjustDamage:e=>this.adjustSelectedCharacterDamage(e),adjustTempHP:e=>this.adjustSelectedCharacterTempHP(e),adjustExp:e=>this.adjustCharacterExperience(e),adjustMoney:e=>this.adjustCharacterWealth(e),adjustScores:e=>this.adjustCharacterScores(e),adjustExpendables:e=>this.adjustCharacterExpends(e),adjustMagics:e=>this.adjustCharacterMagicItems(e),adjustWeapons:e=>this.adjustCharacterWeapons(e),adjustInspiration:e=>r(this,void 0,void 0,function*(){return yield this.adjustCharacterInspiration(e)}),adjustClassSkills:e=>r(this,void 0,void 0,function*(){return yield this.adjustClassSkills(e)}),adjustExpertise:e=>r(this,void 0,void 0,function*(){return yield this.adjustExpertise(e)}),classFeatureOptionSelected:(e,t)=>r(this,void 0,void 0,function*(){return yield this.updateCharacterFeature(e,t)}),spellList:this.state.spellList});case h.CharacterCreator:return i.createElement(u.CharacterCreator,{onSave:e=>this.newCharacter(e),onCancel:()=>this.switchView(h.CharacterPicker),data:this.data});case h.Loading:return i.createElement("div",{style:{width:"100%",height:"100%"}})}}switchView(e,t){switch(e){case h.CharacterPicker:this.setState({currentView:e,selectedCharacter:-1,spellList:[]});break;case h.CharacterSheet:this.setState({currentView:e,selectedCharacter:t}),this.data.getSpellsForClass(this.state.characters[t].characterClass.name).then(n=>{this.setState({currentView:e,selectedCharacter:t,spellList:n})});break;case h.CharacterCreator:this.setState({currentView:e,selectedCharacter:-1,spellList:[]})}}goBack(){switch(this.state.currentView){case h.CharacterPicker:return;case h.CharacterSheet:case h.CharacterCreator:this.switchView(h.CharacterPicker)}}adjustSelectedCharacterDamage(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).damage=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustSelectedCharacterTempHP(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).tempHp=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterExperience(e){return r(this,void 0,void 0,function*(){let t;(t=l.Character.fromJson(this.state.characters[this.state.selectedCharacter])).experience=e,t=yield this.data.saveCharacter(t),this.setState((e,n)=>({characters:e.characters.map(e=>e.id===t.id?t:e)}))})}adjustCharacterWealth(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).wealth=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterScores(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).characterClass.bonusAbilityScores=t.characterClass.bonusAbilityScores.map((t,n)=>{let r=e.find(e=>e.kind===t[0]);return r?[r.kind,r.value]:t}),{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterExpends(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).expendables=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterMagicItems(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).magicItems=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterWeapons(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).weapons=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustCharacterInspiration(e){let t;this.setState((n,r)=>((t=l.Character.fromJson(n.characters[this.state.selectedCharacter])).inspiration=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))}adjustClassSkills(e){return r(this,void 0,void 0,function*(){let t;this.setState((n,r)=>((t=this.state.characters[this.state.selectedCharacter]).characterClass.selectedSkills.push(...e),{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))})}adjustExpertise(e){return r(this,void 0,void 0,function*(){let t;this.setState((n,r)=>((t=this.state.characters[this.state.selectedCharacter]).characterClass.expertise=e,{characters:n.characters.map(e=>e.id===t.id?t:e)}),()=>r(this,void 0,void 0,function*(){yield this.data.saveCharacter(t)}))})}updateCharacterFeature(e,t){return r(this,void 0,void 0,function*(){let n=this.state.characters[this.state.selectedCharacter];n.characterClass.classDetails.chooseFeatureOption(e,t),n=yield this.data.saveCharacter(n),this.setState((e,t)=>({characters:e.characters.map(e=>e.id===n.id?n:e)}))})}newCharacter(e){this.setState((t,n)=>{return{characters:t.characters.concat([e]),currentView:h.CharacterPicker}},()=>r(this,void 0,void 0,function*(){yield this.data.addCharacter(e)}))}}var h;t.App=d,function(e){e[e.CharacterPicker=0]="CharacterPicker",e[e.CharacterSheet=1]="CharacterSheet",e[e.CharacterCreator=2]="CharacterCreator",e[e.Loading=3]="Loading"}(h||(h={})),function(){let e=document.getElementById("app");a.render(i.createElement(d,null),e)}()},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(19),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,s,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,o],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function k(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function C(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=k.prototype;var E=S.prototype=new C;E.constructor=S,r(E,k.prototype),E.isPureReactComponent=!0;var x={current:null,currentDispatcher:null},T=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r=void 0,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:x.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g,N=[];function W(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case s:l=!0}}if(l)return r(i,t,""===n?"."+F(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+F(o=t[c],c);l+=e(o,u,r,i)}else if(u=null===t||"object"!=typeof t?null:"function"==typeof(u=v&&t[v]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=e(o=o.value,u=n+F(o,c++),r,i);else"object"===o&&y("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function K(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?O(e,r,n,function(e){return e}):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function O(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),L(e,K,t=W(t,a,r,i)),M(t)}var I={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return O(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,R,t=W(null,null,t,n)),M(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return O(e,t,null,function(e){return e}),t},only:function(e){return D(e)||y("143"),e}},createRef:function(){return{current:null}},Component:k,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},Fragment:o,StrictMode:l,Suspense:f,createElement:_,cloneElement:function(e,t,n){null==e&&y("267",e);var i=void 0,s=r({},e.props),o=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=x.current),void 0!==t.key&&(o=""+t.key);var u=void 0;for(i in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)T.call(t,i)&&!A.hasOwnProperty(i)&&(s[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(1===(i=arguments.length-2))s.children=n;else if(1<i){u=Array(i);for(var d=0;d<i;d++)u[d]=arguments[d+2];s.children=u}return{$$typeof:a,type:e.type,key:o,ref:l,props:s,_owner:c}},createFactory:function(e){var t=_.bind(null,e);return t.type=e,t},isValidElement:D,version:"16.7.0",unstable_ConcurrentMode:h,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:r}},B={default:I},H=B&&I||B;e.exports=H.default||H},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(23)},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(19),a=n(24);function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,s,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,o],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||s("227");var o=!1,l=null,c=!1,u=null,d={onError:function(e){o=!0,l=e}};function h(e,t,n,r,i,a,s,c,u){o=!1,l=null,function(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(d,arguments)}var p=null,f={};function m(){if(p)for(var e in f){var t=f[e],n=p.indexOf(e);if(-1<n||s("96",e),!v[n])for(var r in t.extractEvents||s("97",e),v[n]=t,n=t.eventTypes){var i=void 0,a=n[r],o=t,l=r;y.hasOwnProperty(l)&&s("99",l),y[l]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&g(c[i],o,l);i=!0}else a.registrationName?(g(a.registrationName,o,l),i=!0):i=!1;i||s("98",r,e)}}}function g(e,t,n){b[e]&&s("100",e),b[e]=t,w[e]=t.eventTypes[n].dependencies}var v=[],y={},b={},w={},k=null,C=null,S=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,r,i,a,d,p,f){if(h.apply(this,arguments),o){if(o){var m=l;o=!1,l=null}else s("198"),m=void 0;c||(c=!0,u=m)}}(r,t,void 0,e),e.currentTarget=null}function x(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function _(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var D={injectEventPluginOrder:function(e){p&&s("101"),p=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];f.hasOwnProperty(t)&&f[t]===r||(f[t]&&s("102",t),f[t]=r,n=!0)}n&&m()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&s("231",t,typeof n),n)}function N(e){if(null!==e&&(A=x(A,e)),e=A,A=null,e&&(T(e,_),A&&s("95"),c))throw e=u,c=!1,u=null,e}var W=Math.random().toString(36).slice(2),M="__reactInternalInstance$"+W,L="__reactEventHandlers$"+W;function F(e){if(e[M])return e[M];for(;!e[M];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[M]).tag||6===e.tag?e:null}function R(e){return!(e=e[M])||5!==e.tag&&6!==e.tag?null:e}function K(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function O(e){return e[L]||null}function I(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=x(n._dispatchListeners,t),n._dispatchInstances=x(n._dispatchInstances,e))}function H(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=I(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function j(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=x(n._dispatchListeners,t),n._dispatchInstances=x(n._dispatchInstances,e))}function z(e){e&&e.dispatchConfig.registrationName&&j(e._targetInst,null,e)}function V(e){T(e,H)}var U=!("undefined"==typeof window||!window.document||!window.document.createElement);function $(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var G={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionend:$("Transition","TransitionEnd")},J={},q={};function Y(e){if(J[e])return J[e];if(!G[e])return e;var t,n=G[e];for(t in n)if(n.hasOwnProperty(t)&&t in q)return J[e]=n[t];return e}U&&(q=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var Q=Y("animationend"),X=Y("animationiteration"),Z=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function ae(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function se(){return!0}function oe(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:oe,this.isPropagationStopped=oe,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ue(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ce,e.release=ue}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:oe,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=oe,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var he=le.extend({data:null}),pe=le.extend({data:null}),fe=[9,13,27,32],me=U&&"CompositionEvent"in window,ge=null;U&&"documentMode"in document&&(ge=document.documentMode);var ve=U&&"TextEvent"in window&&!ge,ye=U&&(!me||ge&&8<ge&&11>=ge),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ke=!1;function Ce(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var xe={eventTypes:we,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(me)e:{switch(e){case"compositionstart":i=we.compositionStart;break e;case"compositionend":i=we.compositionEnd;break e;case"compositionupdate":i=we.compositionUpdate;break e}i=void 0}else Ee?Ce(e,n)&&(i=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=we.compositionStart);return i?(ye&&"ko"!==n.locale&&(Ee||i!==we.compositionStart?i===we.compositionEnd&&Ee&&(a=ae()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),i=he.getPooled(i,t,n,r),a?i.data=a:null!==(a=Se(n))&&(i.data=a),V(i),a=i):a=null,(e=ve?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(ke=!0,be);case"textInput":return(e=t.data)===be&&ke?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&Ce(e,t)?(e=ae(),ie=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(we.beforeInput,t,n,r)).data=e,V(t)):t=null,null===a?t:null===t?a:[a,t]}},Te=null,Ae=null,_e=null;function De(e){if(e=C(e)){"function"!=typeof Te&&s("280");var t=k(e.stateNode);Te(e.stateNode,e.type,t)}}function Pe(e){Ae?_e?_e.push(e):_e=[e]:Ae=e}function Ne(){if(Ae){var e=Ae,t=_e;if(_e=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function We(e,t){return e(t)}function Me(e,t,n){return e(t,n)}function Le(){}var Fe=!1;function Re(e,t){if(Fe)return e(t);Fe=!0;try{return We(e,t)}finally{Fe=!1,(null!==Ae||null!==_e)&&(Le(),Ne())}}var Ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ke[e.type]:"textarea"===t}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!U)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function He(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function je(e){e._valueTracker||(e._valueTracker=function(e){var t=He(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=He(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ve=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ue=/^(.*)[\\\/]/,$e="function"==typeof Symbol&&Symbol.for,Ge=$e?Symbol.for("react.element"):60103,Je=$e?Symbol.for("react.portal"):60106,qe=$e?Symbol.for("react.fragment"):60107,Ye=$e?Symbol.for("react.strict_mode"):60108,Qe=$e?Symbol.for("react.profiler"):60114,Xe=$e?Symbol.for("react.provider"):60109,Ze=$e?Symbol.for("react.context"):60110,et=$e?Symbol.for("react.concurrent_mode"):60111,tt=$e?Symbol.for("react.forward_ref"):60112,nt=$e?Symbol.for("react.suspense"):60113,rt=$e?Symbol.for("react.memo"):60115,it=$e?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function st(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ot(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case qe:return"Fragment";case Je:return"Portal";case Qe:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Xe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return ot(e.type);case it:if(e=1===e._status?e._result:null)return ot(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ot(e.type);n=null,r&&(n=ot(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Ue,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut=Object.prototype.hasOwnProperty,dt={},ht={};function pt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new pt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=ft.hasOwnProperty(t)?ft[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ut.call(ht,e)||!ut.call(dt,e)&&(ct.test(e)?ht[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function wt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function kt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Ct(e,t){kt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ft[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ft.tabIndex=new pt("tabIndex",1,!1,"tabindex",null);var xt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Tt(e,t,n){return(e=le.getPooled(xt.change,e,t,n)).type="change",Pe(n),V(e),e}var At=null,_t=null;function Dt(e){N(e)}function Pt(e){if(ze(K(e)))return e}function Nt(e,t){if("change"===e)return t}var Wt=!1;function Mt(){At&&(At.detachEvent("onpropertychange",Lt),_t=At=null)}function Lt(e){"value"===e.propertyName&&Pt(_t)&&Re(Dt,e=Tt(_t,e,Ie(e)))}function Ft(e,t,n){"focus"===e?(Mt(),_t=n,(At=t).attachEvent("onpropertychange",Lt)):"blur"===e&&Mt()}function Rt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pt(_t)}function Kt(e,t){if("click"===e)return Pt(t)}function Ot(e,t){if("input"===e||"change"===e)return Pt(t)}U&&(Wt=Be("input")&&(!document.documentMode||9<document.documentMode));var It={eventTypes:xt,_isInputEventSupported:Wt,extractEvents:function(e,t,n,r){var i=t?K(t):window,a=void 0,s=void 0,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type?a=Nt:Oe(i)?Wt?a=Ot:(a=Rt,s=Ft):(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Kt),a&&(a=a(e,t)))return Tt(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Et(i,"number",i.value)}},Bt=le.extend({view:null,detail:null}),Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ht[e])&&!!t[e]}function zt(){return jt}var Vt=0,Ut=0,$t=!1,Gt=!1,Jt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Vt;return Vt=e.screenX,$t?"mousemove"===e.type?e.screenX-t:0:($t=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ut;return Ut=e.screenY,Gt?"mousemove"===e.type?e.screenY-t:0:(Gt=!0,0)}}),qt=Jt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qt={eventTypes:Yt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):a=null,a===t)return null;var s=void 0,o=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(s=Jt,o=Yt.mouseLeave,l=Yt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=qt,o=Yt.pointerLeave,l=Yt.pointerEnter,c="pointer");var u=null==a?i:K(a);if(i=null==t?i:K(t),(e=s.getPooled(o,a,n,r)).type=c+"leave",e.target=u,e.relatedTarget=i,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=u,r=t,a&&r)e:{for(i=r,c=0,s=t=a;s;s=I(s))c++;for(s=0,l=i;l;l=I(l))s++;for(;0<c-s;)t=I(t),c--;for(;0<s-c;)i=I(i),s--;for(;c--;){if(t===i||t===i.alternate)break e;t=I(t),i=I(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(c=a.alternate)||c!==i);)t.push(a),a=I(a);for(a=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)a.push(r),r=I(r);for(r=0;r<t.length;r++)j(t[r],"bubbled",e);for(r=a.length;0<r--;)j(a[r],"captured",n);return[e,n]}},Xt=Object.prototype.hasOwnProperty;function Zt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Xt.call(t,n[r])||!Zt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&s("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&s("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var o=i.child;o;){if(o===n)return nn(i),e;if(o===r)return nn(i),t;o=o.sibling}s("188")}if(n.return!==r.return)n=i,r=a;else{o=!1;for(var l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}o||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sn=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),on=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Bt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hn=Jt.extend({dataTransfer:null}),pn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),fn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Jt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Q,"animationEnd"],[X,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),gn.forEach(function(e){bn(e,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=yn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=on;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pn;break;case Q:case X:case Z:e=an;break;case ee:e=fn;break;case"scroll":e=Bt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=qt;break;default:e=le}return V(t=e.getPooled(i,t,n,r)),t}},kn=wn.isInteractiveTopLevelEventType,Cn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=F(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ie(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,s=null,o=0;o<v.length;o++){var l=v[o];l&&(l=l.extractEvents(r,t,a,i))&&(s=x(s,l))}N(s)}}var En=!0;function xn(e,t){if(!t)return null;var n=(kn(e)?An:_n).bind(null,e);t.addEventListener(e,n,!1)}function Tn(e,t){if(!t)return null;var n=(kn(e)?An:_n).bind(null,e);t.addEventListener(e,n,!0)}function An(e,t){Me(_n,e,t)}function _n(e,t){if(En){var n=Ie(t);if(null===(n=F(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),Cn.length){var r=Cn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Re(Sn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Cn.length&&Cn.push(e)}}}var Dn={},Pn=0,Nn="_reactListenersID"+(""+Math.random()).slice(2);function Wn(e){return Object.prototype.hasOwnProperty.call(e,Nn)||(e[Nn]=Pn++,Dn[e[Nn]]={}),Dn[e[Nn]]}function Mn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fn(e,t){var n,r=Ln(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ln(r)}}function Rn(){for(var e=window,t=Mn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Mn(e.document)}return t}function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var On=U&&"documentMode"in document&&11>=document.documentMode,In={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,Hn=null,jn=null,zn=!1;function Vn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zn||null==Bn||Bn!==Mn(n)?null:("selectionStart"in(n=Bn)&&Kn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},jn&&en(jn,n)?null:(jn=n,(e=le.getPooled(In.select,Hn,e,t)).type="select",e.target=Bn,V(e),e))}var Un={eventTypes:In,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Wn(a),i=w.onSelect;for(var s=0;s<i.length;s++){var o=i[s];if(!a.hasOwnProperty(o)||!a[o]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?K(t):window,e){case"focus":(Oe(a)||"true"===a.contentEditable)&&(Bn=a,Hn=t,jn=null);break;case"blur":jn=Hn=Bn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Vn(n,r);case"selectionchange":if(On)break;case"keydown":case"keyup":return Vn(n,r)}return null}};function $n(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Gn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Jn(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Yn(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Qn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}D.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=O,C=R,S=K,D.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:Qt,ChangeEventPlugin:It,SelectEventPlugin:Un,BeforeInputEventPlugin:xe});var Xn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tr,nr=void 0,rr=(tr=function(e,t){if(e.namespaceURI!==Xn.svg||"innerHTML"in e)e.innerHTML=t;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return tr(e,t)})}:tr);function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function or(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function lr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=or(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!=typeof t.style&&s("62",""))}function dr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=Wn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Tn("scroll",e);break;case"focus":case"blur":Tn("focus",e),Tn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(i)&&Tn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&xn(i,e)}n[i]=!0}}}function pr(){}var fr=null,mr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0;function wr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Cr=[],Sr=-1;function Er(e){0>Sr||(e.current=Cr[Sr],Cr[Sr]=null,Sr--)}function xr(e,t){Cr[++Sr]=e.current,e.current=t}var Tr={},Ar={current:Tr},_r={current:!1},Dr=Tr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nr(e){return null!=(e=e.childContextTypes)}function Wr(e){Er(_r),Er(Ar)}function Mr(e){Er(_r),Er(Ar)}function Lr(e,t,n){Ar.current!==Tr&&s("168"),xr(Ar,t),xr(_r,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())a in e||s("108",ot(t)||"Unknown",a);return i({},n,r)}function Rr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tr,Dr=Ar.current,xr(Ar,t),xr(_r,_r.current),!0}function Kr(e,t,n){var r=e.stateNode;r||s("169"),n?(t=Fr(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=t,Er(_r),Er(Ar),xr(Ar,t)):Er(_r),xr(_r,n)}var Or=null,Ir=null;function Br(e){return function(t){try{return e(t)}catch(e){}}}function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jr(e,t,n,r){return new Hr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ur(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)zr(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case qe:return $r(n.children,i,a,t);case et:return Gr(n,3|i,a,t);case Ye:return Gr(n,2|i,a,t);case Qe:return(e=jr(12,n,t,4|i)).elementType=Qe,e.type=Qe,e.expirationTime=a,e;case nt:return(e=jr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Xe:o=10;break e;case Ze:o=9;break e;case tt:o=11;break e;case rt:o=14;break e;case it:o=16,r=null;break e}s("130",null==e?e:typeof e,"")}return(t=jr(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function $r(e,t,n,r){return(e=jr(7,e,r,t)).expirationTime=n,e}function Gr(e,t,n,r){return e=jr(8,e,r,t),t=0==(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Jr(e,t,n){return(e=jr(6,e,null,t)).expirationTime=n,e}function qr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Zr(t,e)}function Qr(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),Zr(t,e)}function Xr(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function Zr(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,a=t.latestPingedTime;0===(i=0!==i?i:a)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}var ei=!1;function ti(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ni(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ri(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ii(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function ai(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=ti(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=ti(e.memoizedState),i=n.updateQueue=ti(n.memoizedState)):r=e.updateQueue=ni(i):null===i&&(i=n.updateQueue=ni(r));null===i||r===i?ii(r,t):null===r.lastUpdate||null===i.lastUpdate?(ii(r,t),ii(i,t)):(ii(r,t),i.lastUpdate=t)}function si(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ti(e.memoizedState):oi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function oi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ni(t)),t}function li(e,t,n,r,a,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,r,a):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=n.payload)?e.call(s,r,a):e))break;return i({},r,a);case 2:ei=!0}return r}function ci(e,t,n,r,i){ei=!1;for(var a=(t=oi(e,t)).baseState,s=null,o=0,l=t.firstUpdate,c=a;null!==l;){var u=l.expirationTime;u<i?(null===s&&(s=l,a=c),o<u&&(o=u)):(c=li(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===u&&(u=l,null===s&&(a=c)),o<d&&(o=d)):(c=li(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===u&&(a=c),t.baseState=a,t.firstUpdate=s,t.firstCapturedUpdate=u,e.expirationTime=o,e.memoizedState=c}function ui(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),di(t.firstEffect,n),t.firstEffect=t.lastEffect=null,di(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function di(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&s("191",n),n.call(r)}e=e.nextEffect}}function hi(e,t){return{value:e,source:t,stack:lt(t)}}var pi={current:null},fi=null,mi=null,gi=null;function vi(e,t){var n=e.type._context;xr(pi,n._currentValue),n._currentValue=t}function yi(e){var t=pi.current;Er(pi),e.type._context._currentValue=t}function bi(e){fi=e,gi=mi=null,e.firstContextDependency=null}function wi(e,t){return gi!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(gi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===mi?(null===fi&&s("293"),fi.firstContextDependency=mi=t):mi=mi.next=t),e._currentValue}var ki={},Ci={current:ki},Si={current:ki},Ei={current:ki};function xi(e){return e===ki&&s("174"),e}function Ti(e,t){xr(Ei,t),xr(Si,e),xr(Ci,ki);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:t=er(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Er(Ci),xr(Ci,t)}function Ai(e){Er(Ci),Er(Si),Er(Ei)}function _i(e){xi(Ei.current);var t=xi(Ci.current),n=er(t,e.type);t!==n&&(xr(Si,e),xr(Ci,n))}function Di(e){Si.current===e&&(Er(Ci),Er(Si))}function Pi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ni=Ve.ReactCurrentOwner,Wi=(new r.Component).refs;function Mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Li={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=ri(r=Qa(r,e));i.payload=t,null!=n&&(i.callback=n),$a(),ai(e,i),es(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=ri(r=Qa(r,e));i.tag=1,i.payload=t,null!=n&&(i.callback=n),$a(),ai(e,i),es(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xs(),r=ri(n=Qa(n,e));r.tag=2,null!=t&&(r.callback=t),$a(),ai(e,r),es(e,n)}};function Fi(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,a))}function Ri(e,t,n){var r=!1,i=Tr,a=t.contextType;return"object"==typeof a&&null!==a?a=Ni.currentDispatcher.readContext(a):(i=Nr(t)?Dr:Ar.current,a=(r=null!=(r=t.contextTypes))?Pr(e,i):Tr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Li,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ki(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function Oi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Wi;var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ni.currentDispatcher.readContext(a):(a=Nr(t)?Dr:Ar.current,i.context=Pr(e,a)),null!==(a=e.updateQueue)&&(ci(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(Mi(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Li.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(ci(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ii=Array.isArray;function Bi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("289"),r=n.stateNode),r||s("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Wi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function Hi(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ji(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Bi(e,t,n),r.return=e,r):((r=Ur(n.type,n.key,n.props,null,e.mode,r)).ref=Bi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=$r(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=Ur(t.type,t.key,t.props,null,e.mode,n)).ref=Bi(e,null,t),n.return=e,n;case Je:return(t=qr(t,e.mode,n)).return=e,t}if(Ii(t)||st(t))return(t=$r(t,e.mode,n,null)).return=e,t;Hi(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===i?n.type===qe?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case Je:return n.key===i?u(e,t,n,r):null}if(Ii(n)||st(n))return null!==i?null:d(e,t,n,r,null);Hi(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ge:return e=e.get(null===r.key?n:r.key)||null,r.type===qe?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case Je:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ii(r)||st(r))return d(t,e=e.get(n)||null,r,i,null);Hi(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),c;if(null===d){for(;m<o.length;m++)(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<o.length;m++)(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),c}function g(i,o,l,c){var u=st(l);"function"!=typeof u&&s("150"),null==(l=u.call(l))&&s("151");for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){m||(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),u}return function(e,r,a,l){var c="object"==typeof a&&null!==a&&a.type===qe&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case Ge:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){if(7===c.tag?a.type===qe:c.elementType===a.type){n(e,c.sibling),(r=i(c,a.type===qe?a.props.children:a.props)).ref=Bi(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===qe?((r=$r(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Ur(a.type,a.key,a.props,null,e.mode,l)).ref=Bi(e,r,a),l.return=e,e=l)}return o(e);case Je:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=qr(a,e.mode,l)).return=e,e=r}return o(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Jr(a,e.mode,l)).return=e,e=r),o(e);if(Ii(a))return m(e,r,a,l);if(st(a))return g(e,r,a,l);if(u&&Hi(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:s("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var zi=ji(!0),Vi=ji(!1),Ui=null,$i=null,Gi=!1;function Ji(e,t){var n=jr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Yi(e){if(Gi){var t=$i;if(t){var n=t;if(!qi(e,t)){if(!(t=wr(n))||!qi(e,t))return e.effectTag|=2,Gi=!1,void(Ui=e);Ji(Ui,n)}Ui=e,$i=kr(t)}else e.effectTag|=2,Gi=!1,Ui=e}}function Qi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Ui=e}function Xi(e){if(e!==Ui)return!1;if(!Gi)return Qi(e),Gi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=$i;t;)Ji(e,t),t=wr(t);return Qi(e),$i=Ui?wr(e.stateNode):null,!0}function Zi(){$i=Ui=null,Gi=!1}var ea=Ve.ReactCurrentOwner;function ta(e,t,n,r){t.child=null===e?Vi(t,null,n,r):zi(t,e.child,n,r)}function na(e,t,n,r,i){n=n.render;var a=t.ref;return bi(t),r=n(r,a),t.effectTag|=1,ta(e,t,r,i),t.child}function ra(e,t,n,r,i,a){if(null===e){var s=n.type;return"function"!=typeof s||zr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ur(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ia(e,t,s,r,i,a))}return s=e.child,i<a&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?da(e,t,a):(t.effectTag|=1,(e=Vr(s,r)).ref=t.ref,e.return=t,t.child=e)}function ia(e,t,n,r,i,a){return null!==e&&i<a&&en(e.memoizedProps,r)&&e.ref===t.ref?da(e,t,a):sa(e,t,n,r,a)}function aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function sa(e,t,n,r,i){var a=Nr(n)?Dr:Ar.current;return a=Pr(t,a),bi(t),n=n(r,a),t.effectTag|=1,ta(e,t,n,i),t.child}function oa(e,t,n,r,i){if(Nr(n)){var a=!0;Rr(t)}else a=!1;if(bi(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ri(t,n,r),Oi(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ni.currentDispatcher.readContext(c):c=Pr(t,c=Nr(n)?Dr:Ar.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==c)&&Ki(t,s,r,c),ei=!1;var h=t.memoizedState;l=s.state=h;var p=t.updateQueue;null!==p&&(ci(t,p,r,s,i),l=t.memoizedState),o!==r||h!==l||_r.current||ei?("function"==typeof u&&(Mi(t,n,u,r),l=t.memoizedState),(o=ei||Fi(t,n,o,r,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,o=t.memoizedProps,s.props=t.type===t.elementType?o:Pi(t.type,o),l=s.context,"object"==typeof(c=n.contextType)&&null!==c?c=Ni.currentDispatcher.readContext(c):c=Pr(t,c=Nr(n)?Dr:Ar.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==c)&&Ki(t,s,r,c),ei=!1,l=t.memoizedState,h=s.state=l,null!==(p=t.updateQueue)&&(ci(t,p,r,s,i),h=t.memoizedState),o!==r||l!==h||_r.current||ei?("function"==typeof u&&(Mi(t,n,u,r),h=t.memoizedState),(u=ei||Fi(t,n,o,r,l,h,c))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=c,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return la(e,t,n,r,a,i)}function la(e,t,n,r,i,a){aa(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&Kr(t,n,!1),da(e,t,a);r=t.stateNode,ea.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=zi(t,e.child,null,a),t.child=zi(t,null,o,a)):ta(e,t,o,a),t.memoizedState=r.state,i&&Kr(t,n,!0),t.child}function ca(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Ti(e,t.containerInfo)}function ua(e,t,n){var r=t.mode,i=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var s=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},s=!0,t.effectTag&=-65;if(null===e)if(s){var o=i.fallback;e=$r(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=$r(o,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=Vi(t,null,i.children,n);else null!==e.memoizedState?(o=(r=e.child).sibling,s?(n=i.fallback,i=Vr(r,r.pendingProps),0==(1&t.mode)&&((s=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=s)),r=i.sibling=Vr(o,n,o.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=zi(t,r.child,i.children,n)):(o=e.child,s?(s=i.fallback,(i=$r(null,r,0,null)).child=o,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=$r(s,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=zi(t,o,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function da(e,t,n){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=Vr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function ha(e,t,n){var r=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!_r.current&&r<n){switch(t.tag){case 3:ca(t),Zi();break;case 5:_i(t);break;case 1:Nr(t.type)&&Rr(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:vi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ua(e,t,n):null!==(t=da(e,t,n))?t.sibling:null}return da(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Pr(t,Ar.current);if(bi(t),i=r(e,i),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Nr(r)){var a=!0;Rr(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"==typeof o&&Mi(t,r,o,e),i.updater=Li,t.stateNode=i,i._reactInternalFiber=t,Oi(t,r,e,n),t=la(null,t,r,!0,a,n)}else t.tag=0,ta(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return zr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),a=Pi(e,a),o=void 0,i){case 0:o=sa(null,t,e,a,n);break;case 1:o=oa(null,t,e,a,n);break;case 11:o=na(null,t,e,a,n);break;case 14:o=ra(null,t,e,Pi(e.type,a),r,n);break;default:s("306",e,"")}return o;case 0:return r=t.type,i=t.pendingProps,sa(e,t,r,i=t.elementType===r?i:Pi(r,i),n);case 1:return r=t.type,i=t.pendingProps,oa(e,t,r,i=t.elementType===r?i:Pi(r,i),n);case 3:return ca(t),null===(r=t.updateQueue)&&s("282"),i=null!==(i=t.memoizedState)?i.element:null,ci(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(Zi(),t=da(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&($i=kr(t.stateNode.containerInfo),Ui=t,i=Gi=!0),i?(t.effectTag|=2,t.child=Vi(t,null,r,n)):(ta(e,t,r,n),Zi()),t=t.child),t;case 5:return _i(t),null===e&&Yi(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,vr(r,i)?o=null:null!==a&&vr(r,a)&&(t.effectTag|=16),aa(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=1,t=null):(ta(e,t,o,n),t=t.child),t;case 6:return null===e&&Yi(t),null;case 13:return ua(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=zi(t,null,r,n):ta(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,na(e,t,r,i=t.elementType===r?i:Pi(r,i),n);case 7:return ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,vi(t,a=i.value),null!==o){var l=o.value;if(0===(a=l===a&&(0!==l||1/l==1/a)||l!=l&&a!=a?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!_r.current){t=da(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){if(null!==(l=o.firstContextDependency))do{if(l.context===r&&0!=(l.observedBits&a)){if(1===o.tag){var c=ri(n);c.tag=2,ai(o,c)}o.expirationTime<n&&(o.expirationTime=n),null!==(c=o.alternate)&&c.expirationTime<n&&(c.expirationTime=n);for(var u=o.return;null!==u;){if(c=u.alternate,u.childExpirationTime<n)u.childExpirationTime=n,null!==c&&c.childExpirationTime<n&&(c.childExpirationTime=n);else{if(!(null!==c&&c.childExpirationTime<n))break;c.childExpirationTime=n}u=u.return}}c=o.child,l=l.next}while(null!==l);else c=10===o.tag&&o.type===t.type?null:o.child;if(null!==c)c.return=o;else for(c=o;null!==c;){if(c===t){c=null;break}if(null!==(o=c.sibling)){o.return=c.return,c=o;break}c=c.return}o=c}}ta(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,bi(t),r=r(i=wi(i,a.unstable_observedBits)),t.effectTag|=1,ta(e,t,r,n),t.child;case 14:return a=Pi(i=t.type,t.pendingProps),ra(e,t,i,a=Pi(i.type,a),r,n);case 15:return ia(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Nr(r)?(e=!0,Rr(t)):e=!1,bi(t),Ri(t,r,i),Oi(t,r,i,n),la(null,t,r,!0,e,n);default:s("156")}}function pa(e){e.effectTag|=4}var fa=void 0,ma=void 0,ga=void 0,va=void 0;fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ma=function(){},ga=function(e,t,n,r,a){var s=e.memoizedProps;if(s!==r){var o=t.stateNode;switch(xi(Ci.current),e=null,n){case"input":s=bt(o,s),r=bt(o,r),e=[];break;case"option":s=$n(o,s),r=$n(o,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Jn(o,s),r=Jn(o,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(o.onclick=pr)}ur(n,r),o=n=void 0;var l=null;for(n in s)if(!r.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var c=s[n];for(o in c)c.hasOwnProperty(o)&&(l||(l={}),l[o]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var u=r[n];if(c=null!=s?s[n]:void 0,r.hasOwnProperty(n)&&u!==c&&(null!=u||null!=c))if("style"===n)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(l||(l={}),l[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(l||(l={}),l[o]=u[o])}else l||(e||(e=[]),e.push(n,l)),l=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(n,""+u)):"children"===n?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=u&&hr(a,n),e||c===u||(e=[])):(e=e||[]).push(n,u))}l&&(e=e||[]).push("style",l),a=e,(t.updateQueue=a)&&pa(t)}},va=function(e,t,n,r){n!==r&&pa(t)};var ya="function"==typeof WeakSet?WeakSet:Set;function ba(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ot(n.type),t=t.value,null!==e&&1===e.tag&&ot(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function wa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ya(e,t)}else t.current=null}function ka(e){switch("function"==typeof Ir&&Ir(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(null!==r){var i=e;try{r()}catch(e){Ya(i,e)}}n=n.next}while(n!==t)}break;case 1:if(wa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ya(e,t)}break;case 5:wa(e);break;case 4:Ea(e)}}function Ca(e){return 5===e.tag||3===e.tag||4===e.tag}function Sa(e){e:{for(var t=e.return;null!==t;){if(Ca(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ca(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var a=t,o=i.stateNode,l=n;8===a.nodeType?a.parentNode.insertBefore(o,l):a.insertBefore(o,l)}else t.insertBefore(i.stateNode,n);else r?(o=t,l=i.stateNode,8===o.nodeType?(a=o.parentNode).insertBefore(l,o):(a=o).appendChild(l),null!=(o=o._reactRootContainer)||null!==a.onclick||(a.onclick=pr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ea(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,o=a;;)if(ka(o),null!==o.child&&4!==o.tag)o.child.return=o,o=o.child;else{if(o===a)break;for(;null===o.sibling;){if(null===o.return||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i?(a=r,o=t.stateNode,8===a.nodeType?a.parentNode.removeChild(o):a.removeChild(o)):r.removeChild(t.stateNode)}else if(4===t.tag?(r=t.stateNode.containerInfo,i=!0):ka(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function xa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,n,r,i){e[L]=i,"input"===n&&"radio"===i.type&&null!=i.name&&kt(e,i),dr(n,r),r=dr(n,i);for(var a=0;a<t.length;a+=2){var s=t[a],o=t[a+1];"style"===s?lr(e,o):"dangerouslySetInnerHTML"===s?rr(e,o):"children"===s?ir(e,o):vt(e,s,o,r)}switch(n){case"input":Ct(e,i);break;case"textarea":Yn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Gn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Gn(e,!!i.multiple,i.defaultValue,!0):Gn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,a,i,e,r)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=xs())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=or("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var o=t.stateNode;null===o&&(o=t.stateNode=new ya),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Qa(t=xs(),e),null!==(e=Za(e,t))&&(Yr(e,t),0!==(t=e.expirationTime)&&Ts(e,t))}.bind(null,t,e);o.has(e)||(o.add(e),e.then(n,n))})}break;case 17:break;default:s("163")}}var Ta="function"==typeof WeakMap?WeakMap:Map;function Aa(e,t,n){(n=ri(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fs(r),ba(e,t)},n}function _a(e,t,n){(n=ri(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Va?Va=new Set([this]):Va.add(this));var n=t.value,i=t.stack;ba(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Da(e){switch(e.tag){case 1:Nr(e.type)&&Wr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ai(),Mr(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Di(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return Ai(),null;case 10:return yi(e),null;default:return null}}var Pa={readContext:wi},Na=Ve.ReactCurrentOwner,Wa=1073741822,Ma=0,La=!1,Fa=null,Ra=null,Ka=0,Oa=-1,Ia=!1,Ba=null,Ha=!1,ja=null,za=null,Va=null;function Ua(){if(null!==Fa)for(var e=Fa.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Wr();break;case 3:Ai(),Mr();break;case 5:Di(t);break;case 4:Ai();break;case 10:yi(t)}e=e.return}Ra=null,Ka=0,Oa=-1,Ia=!1,Fa=null}function $a(){null!==za&&(a.unstable_cancelCallback(ja),za())}function Ga(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Fa=e;e:{var a=t,o=Ka,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Nr(t.type)&&Wr();break;case 3:Ai(),Mr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==a&&null!==a.child||(Xi(t),t.effectTag&=-3),ma(t);break;case 5:Di(t);var c=xi(Ei.current);if(o=t.type,null!==a&&null!=t.stateNode)ga(a,t,o,l,c),a.ref!==t.ref&&(t.effectTag|=128);else if(l){var u=xi(Ci.current);if(Xi(t)){a=(l=t).stateNode;var d=l.type,h=l.memoizedProps,p=c;switch(a[M]=l,a[L]=h,o=void 0,c=d){case"iframe":case"object":xn("load",a);break;case"video":case"audio":for(d=0;d<te.length;d++)xn(te[d],a);break;case"source":xn("error",a);break;case"img":case"image":case"link":xn("error",a),xn("load",a);break;case"form":xn("reset",a),xn("submit",a);break;case"details":xn("toggle",a);break;case"input":wt(a,h),xn("invalid",a),hr(p,"onChange");break;case"select":a._wrapperState={wasMultiple:!!h.multiple},xn("invalid",a),hr(p,"onChange");break;case"textarea":qn(a,h),xn("invalid",a),hr(p,"onChange")}for(o in ur(c,h),d=null,h)h.hasOwnProperty(o)&&(u=h[o],"children"===o?"string"==typeof u?a.textContent!==u&&(d=["children",u]):"number"==typeof u&&a.textContent!==""+u&&(d=["children",""+u]):b.hasOwnProperty(o)&&null!=u&&hr(p,o));switch(c){case"input":je(a),St(a,h,!0);break;case"textarea":je(a),Qn(a);break;case"select":case"option":break;default:"function"==typeof h.onClick&&(a.onclick=pr)}o=d,l.updateQueue=o,(l=null!==o)&&pa(t)}else{h=t,a=o,p=l,d=9===c.nodeType?c:c.ownerDocument,u===Xn.html&&(u=Zn(a)),u===Xn.html?"script"===a?((a=d.createElement("div")).innerHTML="<script><\/script>",d=a.removeChild(a.firstChild)):"string"==typeof p.is?d=d.createElement(a,{is:p.is}):(d=d.createElement(a),"select"===a&&p.multiple&&(d.multiple=!0)):d=d.createElementNS(u,a),(a=d)[M]=h,a[L]=l,fa(a,t,!1,!1),p=a;var f=c,m=dr(d=o,h=l);switch(d){case"iframe":case"object":xn("load",p),c=h;break;case"video":case"audio":for(c=0;c<te.length;c++)xn(te[c],p);c=h;break;case"source":xn("error",p),c=h;break;case"img":case"image":case"link":xn("error",p),xn("load",p),c=h;break;case"form":xn("reset",p),xn("submit",p),c=h;break;case"details":xn("toggle",p),c=h;break;case"input":wt(p,h),c=bt(p,h),xn("invalid",p),hr(f,"onChange");break;case"option":c=$n(p,h);break;case"select":p._wrapperState={wasMultiple:!!h.multiple},c=i({},h,{value:void 0}),xn("invalid",p),hr(f,"onChange");break;case"textarea":qn(p,h),c=Jn(p,h),xn("invalid",p),hr(f,"onChange");break;default:c=h}ur(d,c),u=void 0;var g=d,v=p,y=c;for(u in y)if(y.hasOwnProperty(u)){var w=y[u];"style"===u?lr(v,w):"dangerouslySetInnerHTML"===u?null!=(w=w?w.__html:void 0)&&rr(v,w):"children"===u?"string"==typeof w?("textarea"!==g||""!==w)&&ir(v,w):"number"==typeof w&&ir(v,""+w):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?null!=w&&hr(f,u):null!=w&&vt(v,u,w,m))}switch(d){case"input":je(p),St(p,h,!1);break;case"textarea":je(p),Qn(p);break;case"option":null!=h.value&&p.setAttribute("value",""+yt(h.value));break;case"select":(c=p).multiple=!!h.multiple,null!=(p=h.value)?Gn(c,!!h.multiple,p,!1):null!=h.defaultValue&&Gn(c,!!h.multiple,h.defaultValue,!0);break;default:"function"==typeof c.onClick&&(p.onclick=pr)}(l=gr(o,l))&&pa(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:a&&null!=t.stateNode?va(a,t,a.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&s("166")),a=xi(Ei.current),xi(Ci.current),Xi(t)?(o=(l=t).stateNode,a=l.memoizedProps,o[M]=l,(l=o.nodeValue!==a)&&pa(t)):(o=t,(l=(9===a.nodeType?a:a.ownerDocument).createTextNode(l))[M]=t,o.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=o,Fa=t;break e}l=null!==l,o=null!==a&&null!==a.memoizedState,null!==a&&!l&&o&&(null!==(a=a.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=a,a.nextEffect=c):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(l!==o||0==(1&t.effectTag)&&l)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ai(),ma(t);break;case 10:yi(t);break;case 9:case 14:break;case 17:Nr(t.type)&&Wr();break;default:s("156")}Fa=null}if(t=e,1===Ka||1!==t.childExpirationTime){for(l=0,o=t.child;null!==o;)(a=o.expirationTime)>l&&(l=a),(c=o.childExpirationTime)>l&&(l=c),o=o.sibling;t.childExpirationTime=l}if(null!==Fa)return Fa;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Da(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ja(e){var t=ha(e.alternate,e,Ka);return e.memoizedProps=e.pendingProps,null===t&&(t=Ga(e)),Na.current=null,t}function qa(e,t){La&&s("243"),$a(),La=!0,Na.currentDispatcher=Pa;var n=e.nextExpirationTimeToWorkOn;n===Ka&&e===Ra&&null!==Fa||(Ua(),Ka=n,Fa=Vr((Ra=e).current,null),e.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(t)for(;null!==Fa&&!Ds();)Fa=Ja(Fa);else for(;null!==Fa;)Fa=Ja(Fa)}catch(t){if(gi=mi=fi=null,null===Fa)r=!0,Fs(t);else{null===Fa&&s("271");var i=Fa,a=i.return;if(null!==a){e:{var o=e,l=a,c=i,u=t;if(a=Ka,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var d=u;u=l;var h=-1,p=-1;do{if(13===u.tag){var f=u.alternate;if(null!==f&&null!==(f=f.memoizedState)){p=10*(1073741822-f.timedOutAt);break}"number"==typeof(f=u.pendingProps.maxDuration)&&(0>=f?h=0:(-1===h||f<h)&&(h=f))}u=u.return}while(null!==u);u=l;do{if((f=13===u.tag)&&(f=void 0!==u.memoizedProps.fallback&&null===u.memoizedState),f){if(null===(l=u.updateQueue)?u.updateQueue=new Set([d]):l.add(d),0==(1&u.mode)){u.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((a=ri(1073741823)).tag=2,ai(c,a))),c.expirationTime=1073741823;break e}null===(c=o.pingCache)?(c=o.pingCache=new Ta,l=new Set,c.set(d,l)):void 0===(l=c.get(d))&&(l=new Set,c.set(d,l)),l.has(a)||(l.add(a),c=Xa.bind(null,o,d,a),d.then(c,c)),-1===h?o=1073741823:(-1===p&&(p=10*(1073741822-Xr(o,a))-5e3),o=p+h),0<=o&&Oa<o&&(Oa=o),u.effectTag|=2048,u.expirationTime=a;break e}u=u.return}while(null!==u);u=Error((ot(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}Ia=!0,u=hi(u,c),o=l;do{switch(o.tag){case 3:o.effectTag|=2048,o.expirationTime=a,si(o,a=Aa(o,u,a));break e;case 1:if(d=u,h=o.type,p=o.stateNode,0==(64&o.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==p&&"function"==typeof p.componentDidCatch&&(null===Va||!Va.has(p)))){o.effectTag|=2048,o.expirationTime=a,si(o,a=_a(o,d,a));break e}}o=o.return}while(null!==o)}Fa=Ga(i);continue}r=!0,Fs(t)}}break}if(La=!1,gi=mi=fi=Na.currentDispatcher=null,r)Ra=null,e.finishedWork=null;else if(null!==Fa)e.finishedWork=null;else{if(null===(r=e.current.alternate)&&s("281"),Ra=null,Ia){if(i=e.latestPendingTime,a=e.latestSuspendedTime,o=e.latestPingedTime,0!==i&&i<n||0!==a&&a<n||0!==o&&o<n)return Qr(e,n),void Es(e,r,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void Es(e,r,n,t,-1)}t&&-1!==Oa?(Qr(e,n),(t=10*(1073741822-Xr(e,n)))<Oa&&(Oa=t),t=10*(1073741822-xs()),t=Oa-t,Es(e,r,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=r)}}function Ya(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Va||!Va.has(r)))return ai(n,e=_a(n,e=hi(t,e),1073741823)),void es(n,1073741823);break;case 3:return ai(n,e=Aa(n,e=hi(t,e),1073741823)),void es(n,1073741823)}n=n.return}3===e.tag&&(ai(e,n=Aa(e,n=hi(t,e),1073741823)),es(e,1073741823))}function Qa(e,t){return 0!==Ma?e=Ma:La?e=Ha?1073741823:Ka:1&t.mode?(e=fs?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Ra&&e===Ka&&--e):e=1073741823,fs&&(0===cs||e<cs)&&(cs=e),e}function Xa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Ra&&Ka===n?Ra=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),Zr(n,e),0!==(n=e.expirationTime)&&Ts(e,n)))}function Za(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function es(e,t){null!==(e=Za(e,t))&&(!La&&0!==Ka&&t>Ka&&Ua(),Yr(e,t),La&&!Ha&&Ra===e||Ts(e,e.expirationTime),ws>bs&&(ws=0,s("185")))}function ts(e,t,n,r,i){var a=Ma;Ma=1073741823;try{return e(t,n,r,i)}finally{Ma=a}}var ns=null,rs=null,is=0,as=void 0,ss=!1,os=null,ls=0,cs=0,us=!1,ds=null,hs=!1,ps=!1,fs=!1,ms=null,gs=a.unstable_now(),vs=1073741822-(gs/10|0),ys=vs,bs=50,ws=0,ks=null;function Cs(){vs=1073741822-((a.unstable_now()-gs)/10|0)}function Ss(e,t){if(0!==is){if(t<is)return;null!==as&&a.unstable_cancelCallback(as)}is=t,e=a.unstable_now()-gs,as=a.unstable_scheduleCallback(Ps,{timeout:10*(1073741822-t)-e})}function Es(e,t,n,r,i){e.expirationTime=r,0!==i||Ds()?0<i&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Cs(),ys=vs,Ws(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function xs(){return ss?ys:(As(),0!==ls&&1!==ls||(Cs(),ys=vs),ys)}function Ts(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===rs?(ns=rs=e,e.nextScheduledRoot=e):(rs=rs.nextScheduledRoot=e).nextScheduledRoot=ns):t>e.expirationTime&&(e.expirationTime=t),ss||(hs?ps&&(os=e,ls=1073741823,Ms(e,1073741823,!1)):1073741823===t?Ns(1073741823,!1):Ss(e,t))}function As(){var e=0,t=null;if(null!==rs)for(var n=rs,r=ns;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===rs)&&s("244"),r===r.nextScheduledRoot){ns=rs=r.nextScheduledRoot=null;break}if(r===ns)ns=i=r.nextScheduledRoot,rs.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===rs){(rs=n).nextScheduledRoot=ns,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===rs)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}os=t,ls=e}var _s=!1;function Ds(){return!!_s||!!a.unstable_shouldYield()&&(_s=!0)}function Ps(){try{if(!Ds()&&null!==ns){Cs();var e=ns;do{var t=e.expirationTime;0!==t&&vs<=t&&(e.nextExpirationTimeToWorkOn=vs),e=e.nextScheduledRoot}while(e!==ns)}Ns(0,!0)}finally{_s=!1}}function Ns(e,t){if(As(),t)for(Cs(),ys=vs;null!==os&&0!==ls&&e<=ls&&!(_s&&vs>ls);)Ms(os,ls,vs>ls),As(),Cs(),ys=vs;else for(;null!==os&&0!==ls&&e<=ls;)Ms(os,ls,!1),As();if(t&&(is=0,as=null),0!==ls&&Ss(os,ls),ws=0,ks=null,null!==ms)for(e=ms,ms=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){us||(us=!0,ds=e)}}if(us)throw e=ds,ds=null,us=!1,e}function Ws(e,t){ss&&s("253"),os=e,ls=t,Ms(e,t,!1),Ns(1073741823,!1)}function Ms(e,t,n){if(ss&&s("245"),ss=!0,n){var r=e.finishedWork;null!==r?Ls(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),qa(e,n),null!==(r=e.finishedWork)&&(Ds()?e.finishedWork=r:Ls(e,r,t)))}else null!==(r=e.finishedWork)?Ls(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),qa(e,n),null!==(r=e.finishedWork)&&Ls(e,r,t));ss=!1}function Ls(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ms?ms=[r]:ms.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ks?ws++:(ks=e,ws=0),Ha=La=!0,e.current===t&&s("177"),0===(n=e.pendingCommitExpirationTime)&&s("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime;var i=t.childExpirationTime;if(r=i>r?i:r,e.didError=!1,0===r?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(r<e.latestPingedTime&&(e.latestPingedTime=0),0!==(i=e.latestPendingTime)&&(i>r?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>r&&(e.earliestPendingTime=e.latestPendingTime)),0===(i=e.earliestSuspendedTime)?Yr(e,r):r<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Yr(e,r)):r>i&&Yr(e,r)),Zr(0,e),Na.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,fr=En,Kn(i=Rn())){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{var o=(a=(a=i.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(o&&0!==o.rangeCount){a=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{a.nodeType,c.nodeType}catch(e){a=null;break e}var u=0,d=-1,h=-1,p=0,f=0,m=i,g=null;t:for(;;){for(var v;m!==a||0!==l&&3!==m.nodeType||(d=u+l),m!==c||0!==o&&3!==m.nodeType||(h=u+o),3===m.nodeType&&(u+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===i)break t;if(g===a&&++p===l&&(d=u),g===c&&++f===o&&(h=u),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}a=-1===d||-1===h?null:{start:d,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(mr={focusedElem:i,selectionRange:a},En=!1,Ba=r;null!==Ba;){i=!1,a=void 0;try{for(;null!==Ba;){if(256&Ba.effectTag)e:{var y=Ba.alternate;switch((l=Ba).tag){case 0:case 11:case 15:break e;case 1:if(256&l.effectTag&&null!==y){var b=y.memoizedProps,w=y.memoizedState,k=l.stateNode,C=k.getSnapshotBeforeUpdate(l.elementType===l.type?b:Pi(l.type,b),w);k.__reactInternalSnapshotBeforeUpdate=C}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}Ba=Ba.nextEffect}}catch(e){i=!0,a=e}i&&(null===Ba&&s("178"),Ya(Ba,a),null!==Ba&&(Ba=Ba.nextEffect))}for(Ba=r;null!==Ba;){y=!1,b=void 0;try{for(;null!==Ba;){var S=Ba.effectTag;if(16&S&&ir(Ba.stateNode,""),128&S){var E=Ba.alternate;if(null!==E){var x=E.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(14&S){case 2:Sa(Ba),Ba.effectTag&=-3;break;case 6:Sa(Ba),Ba.effectTag&=-3,xa(Ba.alternate,Ba);break;case 4:xa(Ba.alternate,Ba);break;case 8:Ea(w=Ba),w.return=null,w.child=null,w.memoizedState=null,w.updateQueue=null;var T=w.alternate;null!==T&&(T.return=null,T.child=null,T.memoizedState=null,T.updateQueue=null)}Ba=Ba.nextEffect}}catch(e){y=!0,b=e}y&&(null===Ba&&s("178"),Ya(Ba,b),null!==Ba&&(Ba=Ba.nextEffect))}if(x=mr,E=Rn(),S=x.focusedElem,y=x.selectionRange,E!==S&&S&&S.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(S.ownerDocument.documentElement,S)){null!==y&&Kn(S)&&(E=y.start,void 0===(x=y.end)&&(x=E),"selectionStart"in S?(S.selectionStart=E,S.selectionEnd=Math.min(x,S.value.length)):(x=(E=S.ownerDocument||document)&&E.defaultView||window).getSelection&&(x=x.getSelection(),b=S.textContent.length,T=Math.min(y.start,b),y=void 0===y.end?T:Math.min(y.end,b),!x.extend&&T>y&&(b=y,y=T,T=b),b=Fn(S,T),w=Fn(S,y),b&&w&&(1!==x.rangeCount||x.anchorNode!==b.node||x.anchorOffset!==b.offset||x.focusNode!==w.node||x.focusOffset!==w.offset)&&((E=E.createRange()).setStart(b.node,b.offset),x.removeAllRanges(),T>y?(x.addRange(E),x.extend(w.node,w.offset)):(E.setEnd(w.node,w.offset),x.addRange(E))))),E=[];for(x=S;x=x.parentNode;)1===x.nodeType&&E.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof S.focus&&S.focus(),S=0;S<E.length;S++)(x=E[S]).element.scrollLeft=x.left,x.element.scrollTop=x.top}for(mr=null,En=!!fr,fr=null,e.current=t,Ba=r;null!==Ba;){r=!1,S=void 0;try{for(E=n;null!==Ba;){var A=Ba.effectTag;if(36&A){var _=Ba.alternate;switch(T=E,(x=Ba).tag){case 0:case 11:case 15:break;case 1:var D=x.stateNode;if(4&x.effectTag)if(null===_)D.componentDidMount();else{var P=x.elementType===x.type?_.memoizedProps:Pi(x.type,_.memoizedProps);D.componentDidUpdate(P,_.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var N=x.updateQueue;null!==N&&ui(0,N,D);break;case 3:var W=x.updateQueue;if(null!==W){if(y=null,null!==x.child)switch(x.child.tag){case 5:y=x.child.stateNode;break;case 1:y=x.child.stateNode}ui(0,W,y)}break;case 5:var M=x.stateNode;null===_&&4&x.effectTag&&gr(x.type,x.memoizedProps)&&M.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}if(128&A){var L=Ba.ref;if(null!==L){var F=Ba.stateNode;switch(Ba.tag){case 5:var R=F;break;default:R=F}"function"==typeof L?L(R):L.current=R}}Ba=Ba.nextEffect}}catch(e){r=!0,S=e}r&&(null===Ba&&s("178"),Ya(Ba,S),null!==Ba&&(Ba=Ba.nextEffect))}La=Ha=!1,"function"==typeof Or&&Or(t.stateNode),A=t.expirationTime,0===(t=(t=t.childExpirationTime)>A?t:A)&&(Va=null),e.expirationTime=t,e.finishedWork=null}function Fs(e){null===os&&s("246"),os.expirationTime=0,us||(us=!0,ds=e)}function Rs(e,t){var n=hs;hs=!0;try{return e(t)}finally{(hs=n)||ss||Ns(1073741823,!1)}}function Ks(e,t){if(hs&&!ps){ps=!0;try{return e(t)}finally{ps=!1}}return e(t)}function Os(e,t,n){if(fs)return e(t,n);hs||ss||0===cs||(Ns(cs,!1),cs=0);var r=fs,i=hs;hs=fs=!0;try{return e(t,n)}finally{fs=r,(hs=i)||ss||Ns(1073741823,!1)}}function Is(e,t,n,r,i){var a=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||s("170");var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Nr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);s("171"),o=void 0}if(1===n.tag){var l=n.type;if(Nr(l)){n=Fr(n,l,o);break e}}n=o}else n=Tr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=ri(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),$a(),ai(a,i),es(a,r),r}function Bs(e,t,n,r){var i=t.current;return Is(e,t,n,i=Qa(xs(),i),r)}function Hs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function js(e){var t=1073741822-25*(1+((1073741822-xs()+500)/25|0));t>=Wa&&(t=Wa-1),this._expirationTime=Wa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function zs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Vs(e,t,n){e={current:t=jr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Us(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $s(e,t,n,r,i){Us(n)||s("200");var a=n._reactRootContainer;if(a){if("function"==typeof i){var o=i;i=function(){var e=Hs(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Vs(e,!1,t)}(n,r),"function"==typeof i){var l=i;i=function(){var e=Hs(a._internalRoot);l.call(e)}}Ks(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return Hs(a._internalRoot)}function Gs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Us(t)||s("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Je,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Te=function(e,t,n){switch(t){case"input":if(Ct(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=O(r);i||s("90"),ze(r),Ct(r,i)}}}break;case"textarea":Yn(e,n);break;case"select":null!=(t=n.value)&&Gn(e,!!n.multiple,t,!1)}},js.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new zs;return Is(e,t,null,n,r._onCommit),r},js.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},js.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ws(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},js.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},zs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&s("191",n),n()}}},Vs.prototype.render=function(e,t){var n=this._internalRoot,r=new zs;return null!==(t=void 0===t?null:t)&&r.then(t),Bs(e,n,null,r._onCommit),r},Vs.prototype.unmount=function(e){var t=this._internalRoot,n=new zs;return null!==(e=void 0===e?null:e)&&n.then(e),Bs(null,t,null,n._onCommit),n},Vs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new zs;return null!==(n=void 0===n?null:n)&&i.then(n),Bs(t,r,e,i._onCommit),i},Vs.prototype.createBatch=function(){var e=new js(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},We=Rs,Me=Os,Le=function(){ss||0===cs||(Ns(cs,!1),cs=0)};var Js={createPortal:Gs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return $s(null,e,t,!0,n)},render:function(e,t,n){return $s(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&s("38"),$s(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Us(e)||s("40"),!!e._reactRootContainer&&(Ks(function(){$s(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Gs.apply(void 0,arguments)},unstable_batchedUpdates:Rs,unstable_interactiveUpdates:Os,flushSync:function(e,t){ss&&s("187");var n=hs;hs=!0;try{return ts(e,t)}finally{hs=n,Ns(1073741823,!1)}},unstable_createRoot:function(e,t){return Us(e)||s("299","unstable_createRoot"),new Vs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=hs;hs=!0;try{ts(e)}finally{(hs=t)||ss||Ns(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[R,K,O,D.injectEventPluginsByName,y,V,function(e){T(e,z)},Pe,Ne,_n,N]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Or=Br(function(e){return t.onCommitFiberRoot(n,e)}),Ir=Br(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{overrideProps:null,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var qs={default:Js},Ys=qs&&Js||qs;e.exports=Ys.default||Ys},function(e,t,n){"use strict";e.exports=n(25)},function(e,t,n){"use strict";(function(e){
/** @license React v0.12.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,a=-1,s=-1,o=!1,l=!1;function c(){if(!o){var e=n.expirationTime;l?S():l=!0,C(h,e)}}function u(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var a=i,o=s;i=e,s=t;try{var l=r()}finally{i=a,s=o}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,c()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function d(){if(-1===a&&null!==n&&1===n.priorityLevel){o=!0;try{do{u()}while(null!==n&&1===n.priorityLevel)}finally{o=!1,null!==n?c():l=!1}}}function h(e){o=!0;var i=r;r=e;try{if(e)for(;null!==n;){var a=t.unstable_now();if(!(n.expirationTime<=a))break;do{u()}while(null!==n&&n.expirationTime<=a)}else if(null!==n)do{u()}while(null!==n&&!E())}finally{o=!1,r=i,null!==n?c():l=!1,d()}}var p,f,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){p=y(function(t){v(f),e(t)}),f=g(function(){b(p),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var k=performance;t.unstable_now=function(){return k.now()}}else t.unstable_now=function(){return m.now()};var C,S,E,x=null;if("undefined"!=typeof window?x=window:void 0!==e&&(x=e),x&&x._schedMock){var T=x._schedMock;C=T[0],S=T[1],E=T[2],t.unstable_now=T[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var A=null,_=function(e){if(null!==A)try{A(e)}finally{A=null}};C=function(e){null!==A?setTimeout(C,0,e):(A=e,setTimeout(_,0,!1))},S=function(){A=null},E=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var D=null,P=!1,N=-1,W=!1,M=!1,L=0,F=33,R=33;E=function(){return L<=t.unstable_now()};var K=new MessageChannel,O=K.port2;K.port1.onmessage=function(){P=!1;var e=D,n=N;D=null,N=-1;var r=t.unstable_now(),i=!1;if(0>=L-r){if(!(-1!==n&&n<=r))return W||(W=!0,w(I)),D=e,void(N=n);i=!0}if(null!==e){M=!0;try{e(i)}finally{M=!1}}};var I=function(e){if(null!==D){w(I);var t=e-L+R;t<R&&F<R?(8>t&&(t=8),R=t<F?F:t):F=t,L=e+R,P||(P=!0,O.postMessage(void 0))}else W=!1};C=function(e,t){D=e,N=t,M||0>t?O.postMessage(void 0):W||(W=!0,w(I))},S=function(){D=null,P=!1,N=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,s=a;i=e,a=t.unstable_now();try{return n()}finally{i=r,a=s,d()}},t.unstable_scheduleCallback=function(e,r){var s=-1!==a?a:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=s+r.timeout;else switch(i){case 1:r=s+-1;break;case 2:r=s+250;break;case 5:r=s+1073741823;break;case 4:r=s+1e4;break;default:r=s+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{s=null;var o=n;do{if(o.expirationTime>r){s=o;break}o=o.next}while(o!==n);null===s?s=n:s===n&&(n=e,c()),(r=s.previous).next=s.previous=e,e.next=s,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,s=a;i=n,a=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,a=s,d()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<s||E())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),a=n(9),s=n(0),o=n(13),l=n(27),c=n(28),u=n(29);t.CharacterSheet=class extends r.Component{constructor(e){super(e)}render(){let e=[r.createElement(d,{key:"character-name",name:this.props.character.name,inspiration:this.props.character.inspiration,inspirationChanged:e=>this.props.adjustInspiration(e)}),r.createElement(h,{key:"character-desc",race:this.props.character.race.name,name:this.props.character.characterClass.name,level:this.props.character.level,alignment:this.props.character.alignment,background:this.props.character.background,experience:this.props.character.experience,expToNextLevel:this.props.character.expToNextLevel,adjustExperience:e=>this.props.adjustExp(e)}),r.createElement(f,{key:"abilities-column",scores:this.props.character.modifiedAbilityScores(),updateScores:e=>this.props.adjustScores(e),pendingBonuses:this.props.character.abilityScoreModNeeded()}),r.createElement(P,{key:"proficiency",proficiency:this.props.character.proficiency,languages:this.props.character.languages}),r.createElement(v,{key:"saves",saves:this.props.character.saves}),r.createElement(y,{key:"skills-list",skills:this.props.character.rawSkills,newSkillsAvailable:this.props.character.skillsModNeeded(),newSkillsOptions:this.props.character.availableSkillsToAdd(),skillsUpdated:e=>this.props.adjustClassSkills(e),expertiseRequired:this.props.character.characterClass.expertise.filter(e=>!e).length,expertiseUpdated:e=>this.props.adjustExpertise(e)}),r.createElement(k,{key:"defences",armorClass:this.props.character.armorClass(),initiative:this.props.character.initiative,hitPoints:this.props.character.currentHealth(),tempHitPoints:this.props.character.tempHp,hitDice:this.props.character.characterClass,speed:this.props.character.speed,damage:this.props.character.damage,damageChanged:e=>this.props.adjustDamage(e),tempHPChanged:e=>this.props.adjustTempHP(e)}),r.createElement(E,{key:"weapons",weapons:this.props.character.weapons,adjustWeapons:e=>this.props.adjustWeapons(e)}),r.createElement(A,{key:"money",wealth:this.props.character.wealth,adjustMoney:e=>this.props.adjustMoney(e)}),r.createElement(N,{key:"notes",classDetails:this.props.character.characterClass.classDetails,optionsSelected:(e,t)=>this.props.classFeatureOptionSelected(e,t)}),r.createElement(L,{key:"items-list",magicItems:this.props.character.magicItems,expendables:this.props.character.expendables,adjustExpendables:e=>this.props.adjustExpendables(e),adjustMagics:e=>this.props.adjustMagics(e)})];return this.props.character.characterClass.isCaster&&e.push(r.createElement(c.SpellsList,{key:"spells-list",title:`${this.props.character.characterClass.name} Spells`,spells:this.props.spellList})),r.createElement("div",{className:"character-sheet"},e)}};class d extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"character-name-container box"},r.createElement("span",{className:"character-name-span",style:{fontWeight:"bold",fontSize:"18pt"}},this.props.name),r.createElement("div",{className:"inspiration-container"},r.createElement("span",{style:{fontSize:16}},`Inspiration ${this.props.inspiration}`),r.createElement("button",{onClick:()=>this.props.inspirationChanged(this.props.inspiration+1),className:"up",style:{padding:"0px"}},r.createElement("i",{style:{fontFamily:"Material Icons",lineHeight:1}},"expand_less")),r.createElement("button",{style:{padding:"0px"},onClick:()=>this.props.inspirationChanged(this.props.inspiration-1),className:"down"},r.createElement("i",{style:{fontFamily:"Material Icons",lineHeight:1}},"expand_more"))))}}t.CharacterName=d;class h extends r.Component{constructor(e){super(e),this.state={adjustingExperience:!1}}render(){let e=[r.createElement("div",{className:"character-description box",key:"character-desc"},r.createElement("div",{className:"character-class desc-part"},r.createElement("span",{className:"character-class-value desc-value"},this.props.name),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{color:"rgba(0,0,0,0.5)",className:"character-class-label desc-label"},"class")),r.createElement("div",{className:"class-level desc-part"},r.createElement("span",{className:"class-level-value desc-value"},this.props.level.toString()),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{style:{color:"rgba(0,0,0,0.5)"},className:"class-level-label desc-label"},"level")),r.createElement("div",{className:"character-background desc-part"},r.createElement("span",{className:"background-value desc-value"},this.props.background.kind),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{style:{color:"rgba(0,0,0,0.5)"},className:"background-label desc-label"},"background")),r.createElement("div",{className:"character-race desc-part"},r.createElement("span",{className:"race-value desc-value"},this.props.race),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{style:{color:"rgba(0,0,0,0.5)"},className:"race-label desc-label"},"race")),r.createElement("div",{className:"character-alignment desc-part"},r.createElement("span",{className:"alignment-value desc-value"},this.props.alignment.toString()),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{style:{color:"rgba(0,0,0,0.5)"},className:"alignment-label desc-label"},"alignment")),r.createElement("div",{className:"character-experience desc-part",onClick:()=>this.adjustExperience(),title:`next level in ${this.props.expToNextLevel} more exp`},r.createElement("span",{className:"experience-value desc-value"},this.props.experience.toString()),r.createElement("hr",{className:"desc-divider"}),r.createElement("span",{style:{color:"rgba(0,0,0,0.5)"},className:"experience-label desc-label"},"experience")))];return this.state.adjustingExperience&&e.push(r.createElement(p,{key:"experience-adjuster",onComplete:e=>this.experienceAdjustmentComplete(e),currentExp:this.props.experience})),e}adjustExperience(){this.setState({adjustingExperience:!0})}experienceAdjustmentComplete(e){this.setState({adjustingExperience:!1}),this.props.adjustExperience(e)}}t.CharacterDescription=h;class p extends r.Component{constructor(e){super(e),this.state={currentExp:this.props.currentExp,newExp:0},this.cachedHandler=this.keyHandler.bind(this),window.addEventListener("keyup",this.cachedHandler)}render(){return r.createElement(u.Modal,{className:"experience-adjuster"},r.createElement("span",{style:{textAlign:"center"}},"New Experience"),r.createElement("input",{type:"number",value:this.state.newExp.toString(),onChange:e=>this.setState({newExp:parseInt(e.currentTarget.value),currentExp:this.props.currentExp})}),r.createElement("span",{style:{textAlign:"center"}},"Current Experience"),r.createElement("input",{type:"number",value:this.state.currentExp.toString(),onChange:e=>this.setState({currentExp:parseInt(e.currentTarget.value),newExp:0})}),r.createElement("div",{className:"button-container"},r.createElement("button",{onClick:()=>this.props.onComplete(this.state.currentExp+this.state.newExp)},"Save"),r.createElement("button",{onClick:()=>this.props.onComplete(this.props.currentExp)},"Cancel")))}keyHandler(e){switch(e.key){case"Escape":this.props.onComplete(this.props.currentExp),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler;break;case"Enter":this.props.onComplete(this.state.currentExp+this.state.newExp),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler}}}t.ExperienceAdjuster=p;class f extends r.Component{constructor(e){super(e),this.state={editingScores:!1}}render(){return r.createElement("div",{className:`ability-scores-column box ${this.props.pendingBonuses>0?"alert":""}`,style:{padding:"5px"},onClick:()=>{this.props.pendingBonuses>0&&!this.state.editingScores&&this.editScores()},title:this.props.pendingBonuses>0?`${this.props.pendingBonuses} additional ability score values available`:"ability scores"},this.props.scores.map(e=>r.createElement(g,{key:`score-${e.kind}`,score:e,name:e.kind})),this.state.editingScores?r.createElement(m,{scoresSaved:e=>this.completeEditingScores(e),scores:this.props.scores,maxAddition:this.props.pendingBonuses}):null)}editScores(){this.setState({editingScores:!0})}completeEditingScores(e){this.setState({editingScores:!1},()=>{e&&this.props.updateScores(e)})}}t.AbilitiesColumn=f;class m extends r.Component{constructor(e){super(e),this.state={abilityScores:s.AbilityScores.Empty().map(e=>e)},this.cachedHandler=this.keyHandler.bind(this),window.addEventListener("keyup",this.cachedHandler)}render(){let e=this.props.maxAddition-this.state.abilityScores.reduce((e,t)=>e+t.value,0);return r.createElement(u.Modal,{className:"ability-score-adjustor"},r.createElement("span",{className:"remaining-points"},e," Remaining"),r.createElement("div",{className:"scores-list box"},this.state.abilityScores.map(e=>r.createElement("div",{key:`adjusting-score-${e.kind}`,className:`box input-group ${e.kind.toLowerCase()}`},r.createElement("span",{style:{textAlign:"center"}},e.kind),r.createElement("input",{value:e.value.toString(),type:"number",onChange:t=>this.updateAbilities(e.kind,t.currentTarget.valueAsNumber)})))),r.createElement("div",null,r.createElement("button",{onClick:()=>this.props.scoresSaved(this.state.abilityScores)},"Save"),r.createElement("button",{onClick:()=>this.props.scoresSaved(null)},"Cancel")))}updateAbilities(e,t){this.setState((n,r)=>{r.scores.find(t=>t.kind===e).value;let i=n.abilityScores.reduce((n,r)=>r.kind===e?n+t:n+r.value,0),a=(r.scores.reduce((e,t)=>e+t.value,0),n.abilityScores);return t>=0&&i<=r.maxAddition&&(a=a.map(n=>n.kind===e?new s.AbilityScore(t,e):n)),{abilityScores:a}})}keyHandler(e){switch(e.key){case"Escape":window.removeEventListener("keyup",this.cachedHandler),this.props.scoresSaved(null),delete this.cachedHandler;break;case"Enter":window.removeEventListener("keyup",this.cachedHandler),this.props.scoresSaved(this.state.abilityScores),delete this.cachedHandler}}}t.AbilityScoreAdjustor=m;class g extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"ability-score-container box"},r.createElement("label",{style:{lineHeight:"1"},className:"ability-score-name"},this.props.name.substr(0,3).toUpperCase()),r.createElement("span",{style:{lineHeight:"1"},className:"ability-score-value"},this.props.score.value),r.createElement("span",{style:{lineHeight:"1"},className:"ability-modifier-value"},this.props.score.modifier))}}t.AbilityScoreContainer=g;class v extends r.Component{render(){return r.createElement("div",{className:"saves-list box"},this.props.saves.map(e=>r.createElement(b,{key:e.kind,name:e.kind,score:e.value,enabled:e.enabled})))}}t.Saves=v;class y extends r.Component{constructor(e){super(e),this.state={editingSkills:!1}}render(){let e,t,n=this.props.newSkillsAvailable>0,i=this.props.expertiseRequired>0,a=[];return n?(e="You have new skills to choose",a=this.props.newSkillsOptions,t=this.props.newSkillsAvailable):i&&(e="You have new expertise to select",a=this.props.skills.filter(e=>e[2]).map(e=>e[0]),t=this.props.expertiseRequired),[r.createElement("div",{key:"skills-list",className:`skills-list box ${n||i?"alert":""}`,title:e,onClick:()=>{!n&&!i||this.state.editingSkills||this.setState({editingSkills:!0})}},this.props.skills.map(e=>r.createElement(b,{key:`skill-${e[0]}`,name:e[0],score:e[1],enabled:e[2]}))),this.state.editingSkills?r.createElement(w,{key:"skills-adjuster",maxAdditional:t,skills:a,onComplete:e=>this.skillsUpdated(i,e),expertise:i}):null]}skillsUpdated(e,t){this.setState({editingSkills:!1},()=>{e&&t?this.props.expertiseUpdated(t):t&&this.props.skillsUpdated(t)})}}t.SkillsList=y;class b extends r.Component{render(){return r.createElement("div",{className:"skill-container"},r.createElement(l.SkillRadio,{label:`${this.props.score} ${this.props.name}`,checked:this.props.enabled,disabled:!1,title:this.props.name,onClick:()=>{}}))}}t.SkillContainer=b;class w extends r.Component{constructor(e){super(e),this.state={selected:new Set}}render(){return r.createElement(u.Modal,{className:"skills-adjustor box"},r.createElement("span",{className:"skills-adjustor-title"},"Remaining: ",this.props.maxAdditional-this.state.selected.size),this.props.skills.map(e=>r.createElement("span",{className:`skill-adjustor-option ${this.state.selected.has(e)?"selected":""}`,key:`skill-adjustor-${e}`,onClick:()=>this.skillClicked(e)},e)),r.createElement("button",{onClick:()=>this.done(!1)},"Cancel"),r.createElement("button",{onClick:()=>this.done(!0)},"Save"))}skillClicked(e){this.setState((t,n)=>(t.selected.has(e)?t.selected.delete(e):t.selected.size<n.maxAdditional&&t.selected.add(e),{selected:t.selected}))}done(e){if(!(this.state.selected.size<this.props.maxAdditional))if(e){let e=Array.from(this.state.selected);this.props.onComplete(e)}else this.props.onComplete()}}t.SkillAdjustor=w;t.PassiveWisdom=class extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"passive-wisdom",style:{padding:1,height:20}},r.createElement("span",null,this.props.value),r.createElement("span",null,"passive perception"))}};class k extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"defences box"},r.createElement(C,{name:"Armor Class",value:this.props.armorClass}),r.createElement(C,{name:"Initiative",value:this.props.initiative}),r.createElement(C,{name:"Speed",value:this.props.speed}),r.createElement(C,{name:"Hit Points",value:this.props.hitPoints}),r.createElement(C,{name:"Temp Hit Points",value:this.props.tempHitPoints,valueChanged:e=>this.props.tempHPChanged(e)}),r.createElement(C,{name:"Damage",value:this.props.damage,valueChanged:e=>this.props.damageChanged(e)}),r.createElement(S,{characterClass:this.props.hitDice}))}}t.Defences=k;class C extends r.Component{constructor(e){super(e)}render(){let e=R(this.props.name);return r.createElement("div",{className:`defence-container box ${e}`},r.createElement("span",{className:`defence-name ${e}`},this.props.name),this.props.valueChanged?r.createElement("div",{className:"adjustable-inner"},r.createElement("span",{className:`defence-value ${e}`},this.props.value),r.createElement("button",{className:"adjust-up",onClick:()=>this.props.valueChanged(this.props.value+1),style:{fontFamily:"Material Icons",lineHeight:1,padding:"0px"}},"expand_less"),r.createElement("button",{className:"adjust-down",onClick:()=>this.props.valueChanged(this.props.value-1),style:{fontFamily:"Material Icons",padding:"0px",lineHeight:1}},"expand_more")):r.createElement("span",{className:`defence-value ${e}`},this.props.value))}}t.DefenceContainer=C;class S extends r.Component{constructor(e){super(e)}render(){let e=this.props.characterClass;return r.createElement("div",{className:"defence-container hit-die box"},r.createElement("label",{className:"defence-name"},"Hit Dice"),r.createElement("div",{className:"defence-value",key:`hit-die-${e.name}-${e.level}`},r.createElement("span",null,`d${e.hitDie}`,":"),r.createElement("span",null,e.level)))}}t.HitDieDefenceContainer=S;class E extends r.Component{constructor(e){super(e),this.state={addingWeapon:!1}}render(){let e=[r.createElement("div",{key:"weapons",className:"weapons box",style:{display:"flex",flexFlow:"column"}},r.createElement(o.ListView,{className:"weapon-list",headerText:"Weapons"},this.props.weapons.map((e,t)=>r.createElement(x,{key:`weapon-${t}`,weapon:e,onDeleteClicked:()=>this.removeWeapon(t)}))),r.createElement("button",{style:{padding:"0px"},onClick:()=>this.setState({addingWeapon:!0})},"add"))];return this.state.addingWeapon&&e.push(r.createElement(T,{key:"new-weapon",onComplete:e=>this.addWeapon(e)})),e}addWeapon(e){this.setState({addingWeapon:!1},()=>{if(null===e)return;let t=this.props.weapons.map(e=>e).concat([e]);this.props.adjustWeapons(t)})}removeWeapon(e){let t=this.props.weapons.filter((t,n)=>n!=e);this.props.adjustWeapons(t)}}t.Weapons=E;class x extends r.Component{constructor(e){super(e)}render(){return r.createElement(o.ListViewRow,{className:"weapon-container",style:{flex:"0",background:"rgba(0,0,0,0.04)",display:"grid",gridTemplateRows:"",justifyContent:"space-between",height:20}},r.createElement("span",{className:"weapon-name"},this.props.weapon.name),r.createElement("span",{className:"weapon-dmg"},`${this.props.weapon.hitDie[0]}d${this.props.weapon.hitDie[1]}`),r.createElement("span",{className:"weapon-misc"},this.props.weapon.miscString()),r.createElement("button",{onClick:()=>this.props.onDeleteClicked(),style:{padding:"0px",height:19,width:19}},r.createElement("i",{style:{fontFamily:"Material Icons"}},"delete")))}}t.WeaponContainer=x;class T extends r.Component{constructor(e){super(e),this.state={weapon:new i.Weapon("Dagger",i.WeaponType.Melee,i.WeaponKind.Simple,i.WeaponDamageKind.Piercing,i.WeaponWeight.Light,i.WeaponHandedness.One,[1,4],new a.Range(5),1,new a.Range(60),!1,!0,"")},this.cachedHandler=this.keyHandler.bind(this),window.addEventListener("keyup",this.cachedHandler)}render(){return r.createElement(u.Modal,{className:"new-weapon"},r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Name"),r.createElement("input",{defaultValue:this.state.weapon.name,onChange:e=>this.updateState("name",e.currentTarget.value)})),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Type"),r.createElement("select",{className:"weapon-type",value:this.state.weapon.weaponType,onChange:e=>this.updateState("weaponType",e.currentTarget.value)},r.createElement("option",{value:i.WeaponType.Melee},i.WeaponType.Melee),r.createElement("option",{value:i.WeaponType.Range},i.WeaponType.Range))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Kind"),r.createElement("select",{className:"weapon-kind",value:this.state.weapon.kind,onChange:e=>this.updateState("kind",e.currentTarget.value)},r.createElement("option",{value:i.WeaponKind.Simple},i.WeaponKind.Simple),r.createElement("option",{value:i.WeaponKind.Simple},i.WeaponKind.Martial),r.createElement("option",{value:i.WeaponKind.Simple},i.WeaponKind.Natural))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Damage Kind"),r.createElement("select",{className:"weapon-damage",value:this.state.weapon.damageKind,onChange:e=>this.updateState("damageKind",e.currentTarget.value)},r.createElement("option",{value:i.WeaponDamageKind.Acid},i.WeaponDamageKind.Acid),r.createElement("option",{value:i.WeaponDamageKind.Bludgeoning},i.WeaponDamageKind.Bludgeoning),r.createElement("option",{value:i.WeaponDamageKind.Cold},i.WeaponDamageKind.Cold),r.createElement("option",{value:i.WeaponDamageKind.Fire},i.WeaponDamageKind.Fire),r.createElement("option",{value:i.WeaponDamageKind.Lightening},i.WeaponDamageKind.Lightening),r.createElement("option",{value:i.WeaponDamageKind.Piercing},i.WeaponDamageKind.Piercing),r.createElement("option",{value:i.WeaponDamageKind.Poison},i.WeaponDamageKind.Poison),r.createElement("option",{value:i.WeaponDamageKind.Slashing},i.WeaponDamageKind.Slashing))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Weight"),r.createElement("select",{className:"weapon-weight",value:this.state.weapon.weight,onChange:e=>this.updateState("weight",e.currentTarget.value)},r.createElement("option",{value:i.WeaponWeight.Light},i.WeaponWeight.Light),r.createElement("option",{value:i.WeaponWeight.Light},i.WeaponWeight.Heavy))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Handedness"),r.createElement("select",{className:"weapon-handedness",value:this.state.weapon.handedness,onChange:e=>this.updateState("handedness",e.currentTarget.value)},r.createElement("option",{value:i.WeaponHandedness.One},i.WeaponHandedness.One),r.createElement("option",{value:i.WeaponHandedness.Two},i.WeaponHandedness.Two),r.createElement("option",{value:i.WeaponHandedness.Versatile},i.WeaponHandedness.Versatile))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Damage"),r.createElement("div",{className:"hit-die"},r.createElement("input",{type:"number",value:this.state.weapon.hitDie[0],onChange:e=>this.updateState("hitDie",[e.currentTarget.valueAsNumber,this.state.weapon.hitDie[1]])}),r.createElement("input",{type:"number",value:this.state.weapon.hitDie[1],onChange:e=>this.updateState("hitDie",[this.state.weapon.hitDie[0],e.currentTarget.valueAsNumber])}))),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Range"),r.createElement("div",null,r.createElement("input",{type:"number",value:this.state.weapon.range.first,onChange:e=>this.updateState("range",new a.Range(e.currentTarget.valueAsNumber,this.state.weapon.range.second))}),this.state.weapon.weaponType==i.WeaponType.Range?r.createElement("input",{type:"number",value:this.state.weapon.range.second||0,onChange:e=>this.updateState("range",new a.Range(this.state.weapon.range.first,e.currentTarget.valueAsNumber))}):null)),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Carry Weight (lbs)"),r.createElement("input",{className:"carry-weight",value:this.state.weapon.carryWeight,type:"number",onChange:e=>this.updateState("carryWeight",e.currentTarget.valueAsNumber)})),r.createElement("div",null,r.createElement("label",{style:{textAlign:"center"}},"Finesse"),r.createElement("input",{type:"checkbox",checked:this.state.weapon.isFinesse,onChange:e=>this.updateState("isFinesse",e.currentTarget.checked)})),r.createElement("div",null,r.createElement("button",{onClick:()=>this.props.onComplete(this.state.weapon)},"Save"),r.createElement("button",{onClick:()=>this.props.onComplete(null)},"Cancel")))}updateState(e,t){this.setState((n,r)=>(n.weapon[e]=t,{weapon:n.weapon}))}keyHandler(e){switch(e.key){case"Escape":this.props.onComplete(null),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler;break;case"Enter":this.props.onComplete(this.state.weapon),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler}}}t.NewWeapon=T;class A extends r.Component{constructor(e){super(e),this.state={updatingMoney:!1}}render(){let e=[r.createElement("div",{className:"money box",key:"money",style:{display:"flex",flexFlow:"column"}},r.createElement(o.ListView,{headerText:"Money"},r.createElement(_,{name:"copper",value:this.props.wealth.copper}),r.createElement(_,{name:"silver",value:this.props.wealth.silver}),r.createElement(_,{name:"silver",value:this.props.wealth.silver}),r.createElement(_,{name:"electrum",value:this.props.wealth.electrum}),r.createElement(_,{name:"gold",value:this.props.wealth.gold}),r.createElement(_,{name:"platinum",value:this.props.wealth.platinum})),r.createElement("button",{style:{marginTop:5},onClick:()=>this.updateMoney()},"edit"))];return this.state.updatingMoney&&e.push(r.createElement(D,{key:"money-adjuster",currentWealth:this.props.wealth,onComplete:e=>this.finishUpdatingMoney(e)})),e}updateMoney(){this.setState({updatingMoney:!0})}finishUpdatingMoney(e){this.setState((e,t)=>({updatingMoney:!1}),()=>{e&&this.props.adjustMoney(e)})}}t.Money=A;class _ extends r.Component{constructor(e){super(e)}render(){return r.createElement(o.ListViewRow,{className:"money-unit",style:{background:"rgba(0,0,0,0.04)"}},r.createElement("span",{className:"unit-value",style:{width:"30px",textAlign:"right"}},this.props.value),r.createElement("span",{className:"unit-unit"},this.props.name))}}t.MoneyRow=_;class D extends r.Component{constructor(e){super(e),this.state={currentWealth:e.currentWealth.clone(),updatedWealth:new i.Wealth(0,0,0,0,0),updatedWealthMul:1},this.cachedHandler=this.keyHandler.bind(this),window.addEventListener("keyup",this.cachedHandler)}render(){return r.createElement(u.Modal,{className:"money-adjuster"},r.createElement("div",{className:"current-wealth inputs box",style:{display:"flex",flexFlow:"column",marginBottom:0}},r.createElement("span",null,"Update Money"),r.createElement("div",{style:{display:"flex",flexFlow:"row"}},r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Copper"),r.createElement("input",{defaultValue:this.state.currentWealth.copper.toString(),onChange:e=>this.updateCurrentWealth("copper",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Silver"),r.createElement("input",{defaultValue:this.state.currentWealth.silver.toString(),onChange:e=>this.updateCurrentWealth("silver",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Electrum"),r.createElement("input",{defaultValue:this.state.currentWealth.electrum.toString(),onChange:e=>this.updateCurrentWealth("electrum",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Gold"),r.createElement("input",{defaultValue:this.state.currentWealth.gold.toString(),onChange:e=>this.updateCurrentWealth("gold",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Platinum"),r.createElement("input",{type:"number",defaultValue:this.state.currentWealth.platinum.toString(),onChange:e=>this.updateCurrentWealth("platinum",e.currentTarget.valueAsNumber||0)})))),r.createElement("div",{className:"updated-wealth inputs box"},r.createElement("span",null,"Add Money"),r.createElement("div",{style:{display:"flex",flexFlow:"row"}},r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Copper"),r.createElement("input",{defaultValue:this.state.updatedWealth.copper.toString(),onChange:e=>this.updateUpdatedWealth("copper",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Silver"),r.createElement("input",{defaultValue:this.state.updatedWealth.silver.toString(),onChange:e=>this.updateUpdatedWealth("silver",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Electrum"),r.createElement("input",{defaultValue:this.state.updatedWealth.electrum.toString(),onChange:e=>this.updateUpdatedWealth("electrum",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Gold"),r.createElement("input",{defaultValue:this.state.updatedWealth.gold.toString(),onChange:e=>this.updateUpdatedWealth("gold",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Platinum"),r.createElement("input",{defaultValue:this.state.updatedWealth.platinum.toString(),onChange:e=>this.updateUpdatedWealth("platinum",e.currentTarget.valueAsNumber||0),type:"number"})),r.createElement("div",{className:"input-pair"},r.createElement("label",null,"Multiplier"),r.createElement("input",{defaultValue:this.state.updatedWealthMul.toString(),onChange:e=>this.setState({updatedWealthMul:e.currentTarget.valueAsNumber||0}),type:"number"})))),r.createElement("div",{className:"buttons"},r.createElement("button",{onClick:()=>this.props.onComplete(this.state.currentWealth.add(this.state.updatedWealth.mul(this.state.updatedWealthMul)))},"Save"),r.createElement("button",{onClick:()=>this.props.onComplete()},"Cancel")))}updateCurrentWealth(e,t){Number.isNaN(t)&&(t=0),this.setState((n,r)=>(n.currentWealth[e]=t,n.currentWealth.balance(),{currentWealth:n.currentWealth,updatedWealth:new i.Wealth(0,0,0,0,0)}))}updateUpdatedWealth(e,t){Number.isNaN(t)&&(t=0),this.setState((n,r)=>(n.updatedWealth[e]=t,{currentWealth:r.currentWealth,updatedWealth:n.updatedWealth}))}keyHandler(e){switch(e.key){case"Escape":window.removeEventListener("keyup",this.cachedHandler),this.props.onComplete(this.props.currentWealth),delete this.cachedHandler;break;case"Enter":window.removeEventListener("keyup",this.cachedHandler),this.props.onComplete(this.state.currentWealth.add(this.state.updatedWealth.mul(this.state.updatedWealthMul))),delete this.cachedHandler}}}t.MoneyAdjuster=D;class P extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"proficiency box"},r.createElement(o.ListView,{headerText:"Proficiency"},this.props.proficiency.map((e,t)=>r.createElement(o.ListViewRow,{key:`prof-${t}`},r.createElement("span",{className:"prof-value"},e))),r.createElement(o.ListViewHeader,null,"Languages"),this.props.languages.map((e,t)=>r.createElement(o.ListViewRow,{key:`lang-${t}`},r.createElement("span",null,e)))))}}t.Proficiency=P;class N extends r.Component{constructor(e){super(e),this.state={selectedNote:-1}}render(){return r.createElement("div",{className:"notes box"},this.state.selectedNote<0?r.createElement(W,{classDetails:this.props.classDetails,noteSelected:e=>this.setState({selectedNote:e})}):r.createElement(M,{note:this.props.classDetails.getAllAvailableFeatures()[this.state.selectedNote],onBack:()=>this.setState({selectedNote:-1}),optionsSelected:(e,t)=>this.selectedFeature(e,t)}))}selectedFeature(e,t){this.setState({selectedNote:-1},()=>{this.props.optionsSelected(e,t)})}}t.Features=N;class W extends r.Component{constructor(e){super(e)}render(){let e=this.props.classDetails.getAllAvailableFeatures();return r.createElement(o.ListView,{headerText:"Notes"},e.map((e,t)=>{let n,i=this.props.classDetails.selectedFeatures.get(e.name),a=i&&i.idx<0&&i.minLevel<=this.props.classDetails.level;return n=a||!i?e.shortDesc:e.options[i.idx].name,r.createElement(o.ListViewRow,{key:`note-${t}`,onClick:()=>this.props.noteSelected(t),title:a?"Select an option":"",className:"note-value"},r.createElement("span",{style:{fontWeight:"bold",marginRight:5,color:a?"red":"inherit"}},e.name),r.createElement("span",{style:{marginRight:5}},"-"),r.createElement("span",null,n))}))}}t.FeaturesList=W;class M extends r.Component{constructor(e){super(e)}render(){let e=[r.createElement("div",{key:"main-note-info"},r.createElement(o.ListViewHeader,null,r.createElement("button",{onClick:()=>this.props.onBack(),style:{marginRight:5,textAlign:"center",height:20,width:20,padding:"0 0 0 3px"}},r.createElement("i",{style:{fontFamily:"Material Icons",fontSize:10,lineHeight:1}},"arrow_back_ios")),r.createElement("span",{className:"notes-header"},"Notes")),r.createElement(o.ListViewRow,{style:{borderBottom:"1px solid rgba(0,0,0,0.3)"}},r.createElement("span",{style:{fontWeight:"bold"}},this.props.note.name)),r.createElement(o.ListViewRow,null,r.createElement("span",{className:"note-value"},this.props.note.shortDesc)),r.createElement(o.ListViewRow,null,r.createElement("span",null,this.props.note.longDesc)))];return this.props.note.options&&e.push(r.createElement("div",{key:"feature-option-list"},r.createElement(o.ListViewHeader,null,"Choose an Option"),this.props.note.options.map((e,t)=>r.createElement(o.ListViewRow,{key:`note-option${e.name}-${t}`,style:{paddingBottom:5}},r.createElement("p",{style:{padding:0,fontWeight:"bold",margin:0}},e.name),r.createElement("p",{style:{padding:0,margin:0}},e.shortDesc),r.createElement("p",{style:{padding:0,margin:0}},e.longDesc),r.createElement("button",{onClick:()=>this.props.optionsSelected(this.props.note.name,t)},"Choose"))))),r.createElement(o.ListView,null,e)}}t.FeatureInfo=M;class L extends r.Component{constructor(e){super(e),this.state={addingItem:!1}}render(){let e=[r.createElement("div",{className:"items-list box",key:"items-list",style:{padding:"0px"}},r.createElement(o.ListView,null,r.createElement("div",{className:"magic-list item-list"},r.createElement(o.ListViewHeader,null,"Magic Items"),this.props.magicItems.map((e,t)=>r.createElement(o.ListViewRow,{key:`magic-item-${t}`,className:"magic-list-item"},r.createElement("span",null,r.createElement("span",{style:{fontWeight:"bold"}},`${e.name}`),` - ${e.buf}`),r.createElement("button",{onClick:()=>this.removeItem(t,!0),style:{width:19,height:19,padding:"0px",lineHeight:"14px",color:"red"}},r.createElement("i",{style:{fontFamily:"Material Icons"}},"delete"))))),r.createElement("div",{className:"expendable-list item-list"},r.createElement(o.ListViewHeader,null,"Expendable Items"),this.props.expendables.map((e,t)=>r.createElement(o.ListViewRow,{key:`expendable-item-${t}`,className:"magic-list-item"},r.createElement("span",null,`${e.quantity}x`,r.createElement("span",{style:{fontWeight:"bold"}},`${e.name}`),` - ${e.desc}`),r.createElement("button",{onClick:()=>this.adjustExpendables(t,e.quantity+1),style:{padding:"0px",width:19,height:19,lineHeight:"14px"}},"+"),r.createElement("button",{onClick:()=>this.adjustExpendables(t,e.quantity-1),style:{padding:"0px",width:19,height:19,lineHeight:"14px"}},"-"),r.createElement("button",{onClick:()=>this.removeItem(t,!1),style:{padding:"0px",width:19,height:19,lineHeight:"14px",color:"red"}},r.createElement("i",{style:{fontFamily:"Material Icons"}},"delete")))))),r.createElement("button",{onClick:()=>this.setState({addingItem:!0})},"add"))];return this.state.addingItem&&e.push(r.createElement(F,{key:"new-item",newItemComplete:(e,t)=>this.addNewItem(e,t)})),e}adjustExpendables(e,t){let n=this.props.expendables.map((n,r)=>r==e?new i.ExpendableItem(t,n.name,n.desc):n);this.props.adjustExpendables(n)}addNewItem(e,t){this.setState({addingItem:!1},()=>{if(e)if(t){let t=this.props.magicItems.map(e=>e);t.push(e),this.props.adjustMagics(t)}else{let t=this.props.expendables.map(e=>e);t.push(e),this.props.adjustExpendables(t)}})}removeItem(e,t){if(t){let t=this.props.magicItems.map(e=>e);t.splice(e,1),this.props.adjustMagics(t)}else{let t=this.props.expendables.map(e=>e);t.splice(e,1),this.props.adjustExpendables(t)}}}t.ItemsList=L;class F extends r.Component{constructor(e){super(e),this.state={magic:!1,pendingDesc:"",pendingName:"",pendingQty:1},this.cachedHandler=this.keyHandler.bind(this),window.addEventListener("keyup",this.cachedHandler)}render(){return r.createElement(u.Modal,{className:"new-item"},r.createElement("select",{value:this.state.magic?"1":"0",onChange:e=>this.setState({magic:"1"==e.currentTarget.value})},r.createElement("option",{value:"0"},"Expendable"),r.createElement("option",{value:"1"},"Magic")),this.state.magic?r.createElement("div",{className:"input-set"},r.createElement("input",{id:"new-magic-item-name",defaultValue:this.state.pendingName,onChange:e=>this.setState({pendingName:e.currentTarget.value}),placeholder:"Name",title:"Description"}),r.createElement("input",{id:"new-magic-item-desc",defaultValue:this.state.pendingDesc,onChange:e=>this.setState({pendingDesc:e.currentTarget.value}),placeholder:"Description",title:"Description"})):r.createElement("div",{className:"input-set"},r.createElement("input",{id:"new-exp-item-name",defaultValue:this.state.pendingName,onChange:e=>this.setState({pendingName:e.currentTarget.value}),placeholder:"Name",title:"Name"}),r.createElement("input",{id:"new-exp-item-desc",defaultValue:this.state.pendingDesc,onChange:e=>this.setState({pendingDesc:e.currentTarget.value}),placeholder:"Description",title:"Description"}),r.createElement("input",{id:"new-exp-item-qty",defaultValue:this.state.pendingQty.toString(),onChange:e=>this.setState({pendingQty:e.currentTarget.valueAsNumber}),type:"number",title:"quantity"})),r.createElement("button",{onClick:()=>this.save()},"Save"),r.createElement("button",{onClick:()=>this.props.newItemComplete(null)},"Cancel"))}save(){if(this.state.magic)return this.props.newItemComplete(new i.MagicItem(this.state.pendingName,this.state.pendingDesc),!0);this.props.newItemComplete(new i.ExpendableItem(this.state.pendingQty,this.state.pendingName,this.state.pendingDesc),!1)}keyHandler(e){switch(e.key){case"Escape":this.props.newItemComplete(null),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler;break;case"Enter":this.save(),window.removeEventListener("keyup",this.cachedHandler),delete this.cachedHandler}}}function R(e){return e.split(" ").map(e=>e.toLowerCase()).join("-")}t.NewItem=F,t.formatClass=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.SkillRadio=class extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{onClick:()=>{this.props.disabled||this.props.onClick()},title:this.props.title,style:{display:"flex",flexFlow:"row",width:"100%"}},r.createElement("div",{style:{width:15,height:15,margin:0,marginRight:5,padding:0,borderRadius:"50%",backgroundColor:this.props.checked?this.props.disabled?"grey":"#007bfa":"white"}},r.createElement("div",{style:{width:5,height:5,borderRadius:"50%",margin:5,backgroundColor:this.props.checked?"white":"transparent"}})),r.createElement("span",{style:{color:this.props.disabled?"grey":"black",display:"block",whiteSpace:"nowrap"}},this.props.label))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(13);t.SpellsList=class extends r.Component{constructor(e){super(e),this.state={selectedSpell:-1,selectedSpellLevel:-1,spells:[]}}componentWillReceiveProps(e){if(0===this.state.spells.length&&e.spells.length>0){let t=e.spells.reduce((e,t)=>(e[t.level].push(t),e),[[],[],[],[],[],[],[],[],[],[]]);this.setState({spells:t})}}render(){return r.createElement("div",{className:"box",style:{gridArea:"spells",marginLeft:5,marginTop:5,borderRadius:5}},this.renderInner())}renderInner(){if(-1===this.state.selectedSpell)return r.createElement(i.ListView,{headerText:this.props.title},this.state.spells.map((e,t)=>[r.createElement(i.ListViewHeader,null,`${0===t?"Cantrip":`Level ${t}`} Spells`)].concat(e.map((e,n)=>r.createElement(i.ListViewRow,{className:"spell-list-entry",key:`spell-list-entry-${n}`,onClick:()=>this.setState({selectedSpell:n,selectedSpellLevel:t})},r.createElement("span",null,`${e.name}`))))));{let e=this.state.spells[this.state.selectedSpellLevel][this.state.selectedSpell],t="";return e.verbalRequirement&&(t+="V"),e.somaticRequirement&&(0!=t.length?t+="/S":t+="S"),e.materialRequirement.length>0&&(0!=t.length?t+=`/M (${e.materialRequirement.join(", ")})`:e.materialRequirement.join(", ")),[r.createElement(i.ListViewHeader,{key:"spell-desc-title-bar"},r.createElement("button",{onClick:()=>this.setState({selectedSpell:-1,selectedSpellLevel:-1}),style:{marginRight:5,spanAlign:"center",height:20,width:20}},r.createElement("i",{style:{fontFamily:"Material Icons",fontSize:10,lineHeight:1}},"arrow_back_ios")),r.createElement("span",null,e.name)),r.createElement(a,{key:"spell-desc-components",title:"Components",value:t,multiLineValue:!1}),r.createElement(a,{key:"spell-desc-time",title:"Casting Time",value:e.castingTime,multiLineValue:!1}),r.createElement(a,{key:"spell-desc-duration",title:"Effect Duration",value:e.duration,multiLineValue:!1}),r.createElement(a,{key:"spell-desc-desc",title:"Desc",value:e.desc,multiLineValue:!0})]}}};class a extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",null,this.props.multiLineValue?this.props.value.split("\n").map((e,t)=>{let n=`desc-line${t}`;return 0===t?r.createElement("span",{key:n},`${this.props.title}: ${e}`):r.createElement("span",{key:n,style:{marginLeft:5}},e)}):r.createElement("span",null,`${this.props.title}: ${this.props.value}`))}}t.SpellDescPart=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.Modal=class extends r.Component{render(){return r.createElement("div",{className:`${this.props.className||""} common-modal`,style:this.props.style},this.props.children)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(4),a=n(13),s=n(31);t.CharacterPicker=class extends r.Component{constructor(e){super(e)}render(){return r.createElement(a.ListView,{className:"character-picker",headerText:"Choose Your Character"},this.props.characters.map((e,t)=>r.createElement(o,{onClick:()=>this.props.characterSelected(t),key:`picker-entry-${t}`,name:e.name,characterClass:e.characterClass})),r.createElement(o,{onClick:()=>this.props.newCharacterClicked(),name:"Create a New Character",characterClass:null}))}};class o extends r.Component{constructor(e){super(e),this.state={hover:!1},window.addEventListener("mouseenter",()=>this.setState({hover:!0})),window.addEventListener("mouseleave",()=>this.setState({hover:!1}))}render(){let e=this.characterClassString();return r.createElement(a.ListViewRow,{style:{borderBottom:"1px solid rgba(0,0,0,0.2)",background:this.state.hover?"blue":"white",paddingBottom:5,cursor:"default"},onClick:()=>this.props.onClick()},r.createElement(l,{classKind:this.props.characterClass&&this.props.characterClass.name,fill:this.state.hover?"white":null}),r.createElement("span",{style:{lineHeight:"25px",marginLeft:5,fontSize:24,color:this.state.hover?"white":null},title:`${this.props.name}\n${e.split("/").join("\n")}`},`${this.props.name} ${this.characterClassString()}`))}characterClassString(){let e=this.props.characterClass;return e?`${e.name} (lvl${e.level})`:""}}t.CharacterPickerEntry=o;class l extends r.Component{constructor(e){super(e)}render(){switch(this.props.classKind){case i.ClassKind.Barbarian:return r.createElement(s.Barbarian,{height:"25px",width:"25px"});case i.ClassKind.Bard:return r.createElement(s.Bard,{height:"25px",width:"25px"});case i.ClassKind.Cleric:return r.createElement(s.Cleric,{height:"25px",width:"25px"});case i.ClassKind.Druid:return r.createElement(s.Druid,{height:"25px",width:"25px"});case i.ClassKind.Fighter:return r.createElement(s.Fighter,{height:"25px",width:"25px"});case i.ClassKind.Monk:return r.createElement(s.Monk,{height:"25px",width:"25px"});case i.ClassKind.Paladin:return r.createElement(s.Paladin,{height:"25px",width:"25px"});case i.ClassKind.Ranger:return r.createElement(s.Ranger,{height:"25px",width:"25px"});case i.ClassKind.Rogue:return r.createElement(s.Rogue,{width:"25px",height:"25px"});case i.ClassKind.Sorcerer:return r.createElement(s.Sorcerer,{height:"25px",width:"25px"});case i.ClassKind.Warlock:return r.createElement(s.Warlock,{height:"25px",width:"25px"});case i.ClassKind.Wizard:return r.createElement(s.Wizard,{height:"25px",width:"25px"});default:return r.createElement(s.NewCharacter,{height:"25px",width:"25px"})}}}t.CharacterClassIcon=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.Barbarian=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:this.props.height||"100%",width:this.props.width||"100%"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",null,r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M284.736 29.215c-2.334-.015-4.68.001-7.035.049-32.975.664-67.786 7.496-98.318 21.232-34.895 15.698-64.057 40.163-79.979 74.672-15 32.512-18.36 74.591-2.508 128.285a201.433 201.433 0 0 1 13.502-5.59c-9.866-43.961-5.617-80.245 8.301-109.01 15.464-31.958 42.464-54.15 72.95-68.302 30.484-14.153 64.583-20.494 95.738-20.95 1.947-.028 3.882-.035 5.804-.019 22.847.186 43.814 3.494 60.614 9.836 7.12-3.36 13.61-6.894 18.914-10.852-20.447-11.111-49.38-18.154-81.016-19.212a257.951 257.951 0 0 0-6.967-.14zm8.293 38.373c-1.78-.019-3.574-.015-5.379.012-28.88.421-60.75 6.43-88.421 19.277-27.671 12.847-51.013 32.303-64.327 59.818-11.852 24.495-16.052 55.773-7.242 95.895 12.372-2.904 23.747-3.494 33.565-1.195 9.93 2.325 18.916 9.147 21.732 19.312.306 1.106.52 2.235.701 3.373l102.203-102.203c-11.857-18.99-15.828-34.784-12.218-48.416 4.005-15.125 16.44-24.638 30.048-31.797 7.436-3.912 15.487-7.412 23.547-10.8-10.343-1.974-21.956-3.15-34.209-3.276zm83.057 68.326l-48.508 9.701-34.242 34.242h38.807v38.805l34.242-34.242zm87.348 3.367c-3.956 5.301-7.489 11.788-10.848 18.905 6.876 18.213 10.179 41.335 9.812 66.427-.455 31.155-6.796 65.254-20.949 95.739-14.153 30.485-36.344 57.485-68.303 72.949-28.764 13.918-65.048 18.167-109.01 8.3a201.436 201.436 0 0 1-5.59 13.503c53.695 15.852 95.774 12.492 128.286-2.508 34.51-15.922 58.974-45.084 74.672-79.979 15.698-34.894 22.379-75.376 21.142-112.32-1.058-31.637-8.1-60.569-19.212-81.016zm-22.297 45.48c-3.39 8.06-6.89 16.112-10.801 23.548-7.159 13.608-16.672 26.043-31.797 30.048-13.632 3.61-29.425-.361-48.416-12.218L247.92 328.342c1.138.181 2.267.395 3.373.701 10.165 2.816 16.987 11.802 19.312 21.732 2.3 9.818 1.709 21.193-1.195 33.565 40.122 8.81 71.4 4.61 95.895-7.242 27.515-13.314 46.971-36.656 59.818-64.327 12.847-27.67 18.856-59.542 19.277-88.421.208-14.228-1.004-27.742-3.263-39.588zm-160.528 13.096v33.534h33.534v-33.534zm-18 12.727l-34.244 34.244-9.699 48.506 48.506-9.7 34.244-34.243h-38.807zm-57.19 57.19l-37.034 37.035 38.806 38.806 37.036-37.035-48.508 9.701zm-49.76 49.761l-25.925 25.922 38.809 38.809 25.922-25.924zm-38.651 38.65L16 457.194V496h38.807l101.007-101.008z"})))}};t.Bard=class extends r.Component{render(){return r.createElement("svg",{width:this.props.width,height:this.props.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M108.656 35.063c-15.053.138-33.413 5.378-46.97 15.812-10.75 8.276-18.777 19.27-21.186 34.438.21-.126.414-.252.625-.376-.843 2.816-1.313 5.786-1.313 8.876 0 17.087 13.85 30.937 30.938 30.937 14.293 0 26.324-9.705 29.875-22.875.028-.115.067-.23.094-.344.48-2.082.768-4.042.905-5.843.025-.327.017-.65.03-.968.005-.126.03-.25.032-.376.007-.182-.002-.353 0-.53 0-1.526-.098-3.036-.312-4.5-1.367-8.018-6.778-12.156-12.594-13.72-8.527-2.293-19.055.637-23.75 18.156l-.468-.125C62.04 74.12 72.213 63.885 83.94 60.78c2.476-.654 5.053-1.005 7.656-.968 9.072.13 18.445 4.88 24.562 17.126.087.173.165.355.25.53 5.208 15.233 2.11 43.32-3.344 57.626-7.288 18.753-22.376 40.504-47.687 65.5C6.99 258.252 4 329.824 39.97 388.814 75.936 447.8 152.13 493.56 254.437 493.56c102.306 0 178.47-45.76 214.437-104.75 35.882-58.848 32.982-130.225-25-187.812l-.406-.406h-.033c-25.31-24.996-40.367-46.747-47.656-65.5-5.23-16.453-9.09-42.988-2.655-57.625.058-.128.128-.25.188-.376.025-.05.037-.106.062-.156 6.117-12.246 15.49-16.996 24.563-17.126 2.602-.037 5.18.314 7.656.97 11.724 3.102 21.87 13.337 19.344 32.843l-.438.125c-4.694-17.52-15.222-20.45-23.75-18.156-4.41 1.185-8.603 3.85-10.97 8.562-.012.04-.017.085-.03.125-.975 3.007-1.5 6.203-1.5 9.532 0 17.088 13.85 30.938 30.938 30.938 17.087 0 30.937-13.85 30.937-30.938 0-4.355-.907-8.49-2.53-12.25-3.058-13.244-10.598-23.112-20.44-30.687-14.458-11.13-34.39-16.363-49.936-15.78-13.378.5-24.85 4.108-33.22 10.53-3.412 2.617-6.383 5.702-8.844 9.375-69.455 35.508-138.89 38.75-208.344-7.75-.642-.557-1.29-1.105-1.968-1.625-8.37-6.422-19.843-10.03-33.22-10.53-.97-.037-1.964-.042-2.968-.032zm52.78 53.124c6.338 2.648 12.666 4.987 19 7.032v313.06c-30.732-8.258-57.886-22.005-77.374-41.31-17.1-16.94-28.077-38.626-28.906-63.595-.828-24.97 8.274-52.702 28.97-82.625 41.323-59.752 57.163-103.6 58.31-132.563zm186.033 1.407c1.6 28.97 17.593 72.37 58.25 131.156 20.693 29.923 29.796 57.656 28.967 82.625-.828 24.97-11.807 46.654-28.906 63.594-19.023 18.846-45.374 32.4-75.217 40.717V94.844c5.636-1.606 11.27-3.35 16.906-5.25zm-35.595 10v312.53c-8.21 1.63-16.606 2.878-25.125 3.782V104.094c8.376-1.122 16.75-2.63 25.125-4.5zm-112.75.78c8.45 1.97 16.894 3.442 25.344 4.44v311.342c-8.59-.84-17.057-2.05-25.345-3.625V100.376zm68.938 5.564v311.375c-4.54.198-9.088.312-13.657.312-3.76 0-7.506-.053-11.25-.188V106.28c8.293.314 16.614.18 24.906-.343z"})))}};t.Cleric=class extends r.Component{render(){return r.createElement("svg",{height:this.props.height,width:this.props.width,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M487.666 24.334c-24.62 11.186-45.546 18.608-63.14 21.9l41.24 41.24c3.292-17.594 10.714-38.52 21.9-63.14zm-86.082 24.414c-32.088 11.49-60.035 12.74-84.406 4.617l-9.674-3.222-1.998 9.996c-10.117 50.582-18.887 83.28-36.71 121.694l61.37 61.37c38.413-17.823 71.112-26.593 121.695-36.71l9.997-1.998-3.222-9.674c-8.124-24.37-6.873-52.318 4.617-84.406zm2.025 18.148c-13.847 11.685-29.848 19.95-55.34 19.95h-5.56l-2.487 4.974c-18.768 37.536-37.835 74.907-55.494 98.27 17.45-37.59 26.875-71.046 36.4-117.088 25.205 6.06 52.813 3.84 82.48-6.106zm7.902 16.276L303.65 194.957c17.364-24.354 33.734-57.204 50.276-90.32 24.903-1.193 42.88-10.125 57.586-21.465zm17.316 17.316c-11.34 14.707-20.272 32.683-21.465 57.586-33.116 16.542-65.966 32.912-90.32 50.276zm16.276 7.903c-9.945 29.667-12.166 57.275-6.106 82.48-46.042 9.525-79.5 18.95-117.088 36.4 23.363-17.658 60.734-36.725 98.27-55.493l4.974-2.488v-5.56c0-25.492 8.265-41.493 19.95-55.34zm-192.292 82.915l-12.728 12.728 67.883 67.883 12.728-12.728-7.67-7.67-52.543-52.543zm-6.363 41.718l-43.843 43.842 32.528 32.528 43.842-43.842zm-67.884 45.256l-12.728 12.728 55.154 55.154 12.73-12.728zm-14.142 36.77l-41.012 41.01 32.527 32.528 41.01-41.012zM99.37 357.474l-12.727 12.728 55.154 55.154 12.728-12.728zm-14.14 36.77L18 461.472V494h32.527l67.23-67.23z"})))}};t.Druid=class extends r.Component{render(){return r.createElement("svg",{height:this.props.height,width:this.props.width,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M290.78 9.563l-19.5 72.53 70.033 26.813-39.282 40.813c-15.52 8.456-27.103 8.22-37.31 2.124-.014-.008-.02-.024-.033-.03l-5.093-11.064 41.844-33.5-49.375 17.22-29.875-64.626 14.406-31.375-31.656 22.56V51l-91.344-20.094 90.75 37.844 11.53 24.938-62.25 13.25-33.31-41.626 15.78 45.344-26.156 5.563L50.25 77.843l26.344 30.062-39.906 31.938 52.03-18.125 13.907 15.843 80.563-16.938-3.22 43.75 20.782-47.438 23.656-4.968 23.406 50.624c1.88 9.953 2.716 19.126 2.282 27.125l-45.188-17.657 41.188 35.562c-6.098 12.943-19.27 18.24-41.344 11.594l-75.344-49.97-27.97 18.53-16.405-37.343 3.376 46-9.53 6.313-65.157-49.344 61.5 74.938 54.186-35.938c10.9 7.49 21.867 14.905 32.844 22.28l-12.125 41.72-48.75 20.22 63.97-3.782 13.593-47.03c5.696 3.787 11.38 7.58 17.093 11.342 49.537 75.88 57.073 189.32 1.97 176.688 9.086 38.633-24.273 67.905-54.844 81.062h28.03l-.03-.062c25.217-7.956 40.217-20.772 55.906-45.813.113 17.364-7.4 33.346-20.875 45.876h66c-17.686-16.632-27.36-43.79-15.062-88.53 2.454 40.996 14.77 72.124 53.156 88.5v.03h25.97c-69.106-37.694-84.94-111.418-50.094-182.53l36.28-43.47 62.158 17.25-38.188-24.28 18.156-45.72-32.156 36.813-14.22-9.064-13.842 16.53c-7.277-7.843-9.635-21.475-7.78-38.405 2.074-18.954 9.395-40.43 17.123-56.25l15.938-16.405 41.53 25.97 13.408 57.28 79.75 21.938L401 219.22l-10.438-45.782 26.97-12.594L461.187 209l-26.72-56.063 9.813-4.593 50.47-2.875-34.656-13 19.437-52.19-40.374 49.845-59.406 27.72-36.28-22.72 24.124-24.844 42.437-33.968-52.31 18.22-5.408-2.094L392.75 13.31l-58.063 72.313-43.906-16.938V9.563zm-13.5 224.687c.254 15.565 4.228 30.356 15 40.594l-12.186 14.562c-9.453-13.425-9.047-33.08-2.813-55.156zm-53.78 14.28c26.69 17.688 39.887 60.23 23.75 88.595-3.706-24.886-12.738-58.882-25.688-85.188l1.938-3.406z"})))}};t.Fighter=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:this.props.height,width:this.props.width},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M329.8 235.69l62.83-82.71 42.86 32.56-62.83 82.75zm-12.86-9.53l66.81-88-45-34.15-66.81 88zm-27.48-97.78l-19.3 39.57 57-75-42.51-32.3-36.24 47.71zm-20.74-73.24l-46.64-35.43-42 55.31 53.67 26.17zm107 235.52l-139-102.71-9.92.91 4.56 2 62.16 138.43-16.52 2.25-57.68-128.5-40-17.7-4-30.84 39.41 19.42 36.36-3.33 17-34.83-110.9-54.09-80.68 112.51L177.6 346.67l-22.7 145.62H341V372.62l35.29-48.93L387 275.77z"})))}};t.Monk=class extends r.Component{render(){return r.createElement("svg",{height:this.props.height,width:this.props.width,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M473.79 38.21c-1.853-1.85-3.902-3.5-6.066-4.89l-5.703 10.304 2.416-12.152c-5.255-2.56-10.94-3.467-16.103-1.746l-.79.79c.696 7.73 4.943 16.09 11.396 22.544 6.453 6.454 14.814 10.7 22.545 11.396l.79-.79c2.827-8.484-1.415-18.384-8.486-25.455zm-41.087 7.145L277.92 200.14l6.71 6.71 40.306-40.306-31.498 49.112 18.423 18.424L466.645 79.297c-1.877-.724-3.712-1.558-5.5-2.488l-26.51 13.664 18.61-18.613c-2.49-1.847-4.845-3.884-7.032-6.072-5.808-5.807-10.56-12.777-13.51-20.433zm-167.51 167.512l-16.22 16.22 48.656 16.217-32.438-32.437zm20.46 47.42l-50.91-16.97-11.226 11.225 50.912 16.97 11.224-11.225zM260.2 285.743l-17.85-5.95-10.92 34.72 28.77-28.77zm-34.93-11.643l-15.98-5.328-11.88 11.88 19.628 19.63 8.232-26.182zm-6.513 53.13l-7.81-7.583-26.266-26.267L29.725 448.333c-3.395 10.185 3.4 22.4 13.044 29.324l61.006-61.006-53.14 65.167c4.35 1.522 8.86 1.847 13.03.457l155.09-155.044z"})))}};t.Paladin=class extends r.Component{render(){return r.createElement("svg",{width:this.props.width,height:this.props.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:"rgba(0,0,0,0.5)",d:"M129.75 24.47L21.625 211.655l55.78 32.188L185.532 56.656 129.75 24.47zm55.97 69.25l-75.626 130.874L326.47 349.47l75.592-130.876L185.72 93.72zm83.468.686l-11.22 19.438 84.97 49.03 11.25-19.468-85-49zM434.25 200.22L326.156 387.405l55.78 32.188 108.095-187.188-55.78-32.187zm-270.53 76.905l-11.282 19.53 84.968 49 11.25-19.5-84.937-49.03zm-3.095 45.844L61.312 494.81h67.157l82.28-142.968-50.125-28.875z"})))}};t.Ranger=class extends r.Component{render(){return r.createElement("svg",{width:this.props.width,height:this.props.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M492.656 20.406l-118.594 56.22L413.875 86l-86.97 86.97-305.5 259.374.69.687 104.75-47.467-46.376 105.843.905.906 272.5-319.875 73.22-73.218 9.342 39.81 56.22-118.624zm-473.25.063c-1.347 23.43 5 39.947 16.563 52.218l24.093 302.28 17.562-14.874-21.72-272.438c57.975 31.954 169.096 25.165 216.907 106.72l66.625-56.564 1.22-1.218C292.74 38.666 86.01 99.716 19.406 20.47zm359.531 151.56l-1.156 1.157-57.25 67.188c82.006 47.945 75.587 159.267 107.283 218.03l-272.157-24.5-14.812 17.408 301.562 27.125c12.48 12.283 29.4 19.084 53.688 17.687-79.95-67.2-18.36-275.754-117.156-324.094z"})))}};t.Rogue=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:this.props.width,height:this.props.height},r.createElement("path",{fill:this.props.background||"transparent",d:"M0 0h512v512H0z"}),r.createElement("g",{style:{touchAction:"none"},transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M62.5 17.28c-9.747.288-20.824 5.23-29.844 14.25-15.192 15.193-18.838 36.194-8.125 46.907 7.99 7.988 21.716 8.027 34.47 1.22 16.167 30.05 42.154 57.687 71.438 76.374-18.77 24.156-29.97 54.48-29.97 87.376h18.688c0-28.9 9.828-55.474 26.344-76.53l2.156 39.405C274.5 320.554 402.09 428.196 496.062 494.94c-65.54-95.294-176.99-224.638-288.687-348.407l-38.97-2.124c20.764-15.68 46.638-24.967 74.72-24.97V100.75c-32.2.002-61.945 10.725-85.844 28.78-18.696-29.383-46.39-55.48-76.53-71.686 6.795-12.748 6.796-26.423-1.188-34.407-4.352-4.352-10.393-6.352-17.062-6.156z"})))}};t.Sorcerer=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:this.props.width,height:this.props.height},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M179.813 20.72v81.25L135.78 75.624l17.564 46.938-115.656-20.938 84.718 49.906H20v27.345l110.47 14.875 96.593-29.188c-11.303-11.87-18.594-30.743-18.594-52 0-35.926 20.87-65.062 46.624-65.062 25.753 0 46.625 29.136 46.625 65.063 0 20.847-7.038 39.375-17.97 51.28l99.03 29.907 112.5-15.156V151.53H394.19l84.718-49.905-120.437 21.78 17.874-47.718-48.656 29.126V20.72H179.813zM495.28 223.343l-112.5 22.437-55.405-13.124-28.03 118.313 16.592 145h51.688L329.25 351.22l46.53 27.842-21.31-56.937 124.436 22.5-91.125-53.688h107.5v-67.593zM20 223.75v67.188h108.813l-91.125 53.687L157.31 322.97 136.345 379l38.47-23-28.595 139.97h48.155L207.28 351.56 185.595 232.72l-55.125 13.06L20 223.75z"})))}};t.Warlock=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:this.props.width,height:this.props.height},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M257.617 20.717c-7.083-.011-14.242.448-21.469 1.347-31.2 3.87-59.077 16.346-82.566 39.51-18.59 18.323-30.93 40.783-33.8 68.274-3.409 32.99 6.985 61.16 28.118 84.191 6.792 7.386 9.795 14.582 9.608 25.03-.297 16.428.974 32.882 1.65 50.308 21.027-12.421 41.214-24.384 61.674-36.48 12.176 21.378 24.055 42.27 36.479 63.976 12.148-21.517 23.894-42.3 35.826-63.244 19.753 11.8 39.24 23.46 59.373 35.557.514-16.94 1.733-32.799 1.246-48.6-.353-11.07 1.813-19.676 10.256-26.223 2.677-2.083 4.707-5.356 6.845-8.308 20.568-28.606 27.712-60.348 17.16-95.498-9.77-32.502-30.771-54.695-57.699-70.362-23.066-13.405-47.403-19.44-72.7-19.478zm82.799 105.207c17.942-.134 26.164 11.07 22.404 30.474-4.353 22.379-22.92 38.723-42.674 37.668-21.38-1.139-38.695-18.755-41.025-41.892-.186-1.811.435-4.598 1.6-5.547 10.658-8.605 45.704-20.593 59.695-20.703zm-165.154.03c13.717.865 29.494 7.548 45.084 14.91 2.297 1.107 4.408 2.785 6.763 3.464 5.847 1.651 6.088 6.113 5.25 11.31-3.76 22.217-23.004 39.484-42.785 38.401-22.433-1.218-39.592-19.269-41.162-43.351-1.083-16.59 6.766-24.952 26.85-24.735zm80.615 56.556c7.44 18.214 14.42 35.235 21.646 52.93h-43.187c7.144-17.588 14.152-34.637 21.54-52.93zm-16.172 141.84c-.146.319-.293.633-.42.976-2.894 7.981-6.197 15.856-9.984 23.543-8.334 16.832-17.293 33.365-25.71 50.09-6.63 13.125-10.336 26.845-7.74 41.783 5.71 32.582 36.67 54.827 69.63 49.844 39.886-6.033 59.48-41.103 48.603-74.902-4.357-13.586-11.283-26.469-17.941-39.159-8.46-16.062-16.528-32.279-23.061-49.11-2.348 4.152-4.698 8.311-7.057 12.491l-8.658 15.328-8.742-15.279c-2.993-5.225-5.962-10.422-8.92-15.605zm.053 40.97c3.709.032 3.735 27.583 1.642 40.026-2.166 12.555.13 24.084 10.495 32.69 15.02 12.475 35.426 9.66 46.654-6.386.514-.68.975-1.355 1.49-2.06.404.083.756.164 1.162.219-.89 4.763-1.217 9.633-2.652 14.261-6.33 20.702-25.515 33.068-47.977 31.174-19.404-1.624-35.833-17.753-39.24-37.996-1.841-10.579 1.218-20.05 5.654-29.17 6.602-13.61 14.018-26.817 20.647-40.375.81-1.655 1.518-2.388 2.125-2.383z"})))}};t.Wizard=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:this.props.width,height:this.props.height},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M339.72 55.875c-61.792 0-111.876 50.08-111.876 111.875 0 61.79 50.08 111.875 111.875 111.875 61.79 0 111.905-50.08 111.905-111.875 0-61.79-50.112-111.875-111.906-111.875zm0 18.875c51.36 0 93 41.642 93 93 0 51.362-41.643 93-93 93-51.363 0-92.97-41.642-92.97-93 0-33.034 17.208-62.033 43.156-78.53-4.767 5.728-7.656 13.088-7.656 21.124 0 18.257 14.806 33.062 33.063 33.062 18.256 0 33.062-14.805 33.062-33.062 0-17.464-13.562-31.73-30.72-32.938 7.073-1.72 14.46-2.656 22.064-2.656zm-62.533 65.03c-8.418 0-15.28 6.825-15.28 15.25 0 8.42 6.854 15.25 15.28 15.25 8.42 0 15.25-6.822 15.25-15.25 0-8.418-6.823-15.25-15.25-15.25zm-76.312 72.97c-.846 7.796-2.342 14.92-4.5 21.406l78.5 78.5c6.444-2.173 13.523-3.733 21.25-4.625l-95.25-95.28zm-13.125 39.22c-4.91 7.335-11.078 13.393-18.5 18.218l69.594 69.625c4.842-7.41 10.92-13.58 18.25-18.5L187.75 251.97zm-36.438 26.718c-6.406 2.136-13.398 3.716-20.968 4.687 32.544 31.712 62.545 62.546 95.187 95.188 1.003-7.534 2.595-14.498 4.75-20.875l-78.968-79zm-15.687 36.406L17.187 433.188v21.937l129.25-129.22-10.812-10.81zm24 24L17.187 481.53v13.595h53.72L193.28 372.75l-33.655-33.656z"})))}};t.NewCharacter=class extends r.Component{render(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:this.props.width,height:this.props.height},r.createElement("path",{d:"M0 0h512v512H0z",fill:this.props.background||"transparent"}),r.createElement("g",{transform:"translate(0,0)"},r.createElement("path",{fill:this.props.fill||"rgba(0,0,0,0.5)",d:"M256 21.52l-4.5 2.597L52.934 138.76v234.48L256 490.48l203.066-117.24V138.76L256 21.52zm0 20.783l185.066 106.85v213.695L256 469.698 70.934 362.847V149.152L256 42.302zm0 30.93l-4.5 2.597-153.78 88.785v182.77L256 438.768l158.28-91.383v-182.77L256 73.232zm0 20.783l140.28 80.992v161.984L256 417.984l-140.28-80.992V175.008L256 94.016zm0 30.93l-4.5 2.597-108.998 62.93v131.054L256 387.055l113.498-65.528V190.473L256 124.945zm0 20.783l95.498 55.135v110.27L256 366.27l-95.498-55.135v-110.27L256 145.73zm0 30.928l-4.5 2.598-64.213 37.072v79.344L256 335.342l68.713-39.67v-79.344L256 176.658zm0 20.783l50.713 29.28v58.56L256 314.56l-50.713-29.28v-58.56L256 197.44zm0 30.93l-4.5 2.6-19.428 11.216v27.628L256 283.63l23.928-13.816v-27.628L256 228.37z"})))}};t.CircledLetter=class extends r.Component{render(){return r.createElement("svg",{id:this.props.id,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:this.props.width,height:this.props.height},r.createElement("defs",null,r.createElement("mask",{id:`letter-mask-${this.props.id}`},r.createElement("circle",{cx:"50",cy:"50",r:"49",fill:"white",style:{fill:"white"}}),r.createElement("text",{x:"50",y:"78",style:{fontSize:"60pt",color:"black",fill:"black",fontFamily:"--apple-system, Helvetica Neue"},fill:"black",textAnchor:"middle"},this.props.letter))),r.createElement("circle",{cx:"50",cy:"50",r:"46",mask:`url(#letter-mask-${this.props.id})`}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),a=n(4),s=n(6),o=n(3),l=n(13),c=n(7),u=n(33),d=n(0);t.CharacterCreator=class extends r.Component{constructor(e){super(e),this.state={character:null,errorMessages:[]},this.allClasses=o.Data.getAllClasses(),this.allBackgrounds=o.Data.getAllBackground()}componentDidMount(){u.Randomizer.randomCharacter().then(e=>{this.setState({character:e})},e=>console.error("failed to get random character",e)).catch(e=>{console.error("failed to get random character",e)})}render(){return this.state.character?r.createElement("div",{className:"character-creator"},r.createElement("div",{className:"character-creator-title"},"Create a new Character",r.createElement("button",{className:"cancel",onClick:()=>this.props.onCancel()},"Cancel"),r.createElement("button",{className:"save",onClick:()=>{this.validate()&&this.props.onSave(this.state.character)}},"Save")),this.state.errorMessages.length>0?r.createElement("div",{className:"box error-messages"},this.state.errorMessages.map((e,t)=>r.createElement("span",{key:`error-${t}`,className:"error-message"},e))):null,r.createElement(h,{raceChanged:e=>this.valueChanged("race",e),race:this.state.character.race}),r.createElement(f,{name:this.state.character.name,eyeColor:this.state.character.eyeColor,race:this.state.character.race,height:this.state.character.height,weight:this.state.character.weight,valueChanged:(e,t)=>this.valueChanged(e,t),alignment:this.state.character.alignment}),r.createElement(m,{classes:this.allClasses,onClassChange:e=>this.valueChanged("characterClass",e),characterClass:this.state.character.characterClass,data:this.props.data}),r.createElement(b,{backgrounds:this.allBackgrounds,onBackgroundChange:e=>this.valueChanged("background",e),characterBackground:this.state.character.background,languages:Object.getOwnPropertyNames(i.NormalLanguage).map(e=>i.NormalLanguage[e])}),r.createElement(w,{scores:this.state.character.abilityScores,remaining:27-this.state.character.abilityScores.totalCost(),primaryScores:this.state.character.characterClass.primaryAbility,racialScores:this.state.character.race.abilityModifiers,valueChanged:e=>this.valueChanged("abilityScores",e)}),r.createElement(k,{classSkills:this.state.character.characterClass.selectedSkills,backgroundSkills:this.state.character.background.skills,skillCount:this.state.character.characterClass.numberOfSkills,skillOptions:this.state.character.characterClass.availableSkills,onChange:e=>this.skillsChanged(e)}),r.createElement("div",{className:"bottom-buttons"})):r.createElement("div",null)}valueChanged(e,t){this.setState((n,r)=>{let a={[e]:t};if("race"===e){let e=t;a.height=u.Randomizer.randomHeight(...e.heightRange),a.weight=u.Randomizer.randomWeight(e.avgWeight)}let s=i.Character.fromJson(Object.assign(n.character,a));return"characterClass"===e&&(s.characterClass.selectedSkills=[]),{character:s}})}skillsChanged(e){this.setState((t,n)=>(t.character.characterClass.selectedSkills=e,{character:t.character}))}validate(){let e=[];return this.state.character.abilityScores.totalCost()<27&&e.push("Incorrect number of ability scores selected"),this.state.character.characterClass.selectedSkills.length!=this.state.character.characterClass.numberOfSkills&&e.push("Incorrect number of skills selected"),this.state.character.background.languages.includes(null)&&e.push("Incorrect number of languages selected"),this.state.character.background.toolProficiencies.includes(null)&&e.push("Incorrect number of proficiencies selected"),this.setState({errorMessages:e}),0===e.length}};class h extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"race-info box"},r.createElement(y,{onRaceChange:e=>this.props.raceChanged(new s.Race(e)),race:this.props.race.name,subRaceChanged:e=>this.props.raceChanged(new s.Race(this.props.race.name,e)),subRace:this.props.race.subRace}),r.createElement(p,{race:this.props.race}))}}t.RaceInfo=h;class p extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"race-details"},r.createElement(l.ListView,{className:"race-details-list",headerText:"Details"},this.getList().map((e,t)=>r.createElement(l.ListViewRow,{key:`race-detail-${t}`},e))))}getList(){const e=this.props.race;let t=e.abilityModifiers.map(e=>`+${e[1]} to ${e[0]}`);if(t.push(`Age Range: ${e.ageRange[0]} - ${e.ageRange[1]}`),t.push(`Typical Alignment ${e.preferredAlignment.toString()}`),t.push(`Height: ${e.heightRange[0].toString()} - ${e.heightRange[1].toString()}`),t.push(`Speed: ${e.speed}`),t.push(`Size: ${e.size}`),t.push(`Avg. Weight: ${e.avgWeight}`),t.push(`Languages: ${e.languages.join(", ")}`),null!=e.darkVision&&t.push(`Darkvision: ${e.darkVision.first}`),null!=e.damageResistance&&t.push(`Damage Resistance: ${e.damageResistance}`),3==e.naturalWeapons.length){let{name:n,damageKind:r,hitDie:i}=e.naturalWeapons[2];t.push(`Bonus Natural Weapon: ${n} ${r} ${i[0]}d${i[1]}`)}return e.weaponProfs.length>0&&t.push(`Weapon Proficiencies: ${e.weaponProfs.join(", ")}`),e.toolProfs.length>0&&t.push(`Tool Proficiencies: ${e.toolProfs.join(", ")}`),e.armorProfs.length>0&&t.push(`Armor Proficiencies: ${e.armorProfs.join(", ")}`),e.bonusLanguages>0&&t.push(`${e.bonusLanguages} Bonus Language${1==e.bonusLanguages?"s":""}`),t.push(...e.miscBenefits),t}}t.RaceDetails=p;t.RaceDetail=class extends r.Component{render(){return r.createElement(l.ListViewRow,{className:"race-detail",style:{borderBottom:"1px solid rgba(0,0,0,0.3)"}},this.props.text)}};class f extends r.Component{constructor(e){super(e),this.state={skillsSelected:0}}render(){return r.createElement("div",{className:"basic-info box"},r.createElement("div",{className:"input-pair"},r.createElement("label",{htmlFor:"character-name"},"Name"),r.createElement("input",{id:"character-name",defaultValue:this.props.name||"",onChange:e=>this.props.valueChanged("name",e.currentTarget.value)})),r.createElement("div",{className:"input-pair"},r.createElement("label",{htmlFor:"character-eye-color"},"Eye Color"),r.createElement("input",{id:"character-eye-color",defaultValue:this.props.eyeColor||"",onChange:e=>this.props.valueChanged("eyeColor",e.currentTarget.value)})),r.createElement("div",{className:"input-pair"},r.createElement("label",{htmlFor:"height"},"Height"),r.createElement("div",{className:"height-inputs"},r.createElement("input",{className:"height-part height-feet",type:"number",value:this.props.height.feet.toString(),onChange:e=>this.props.valueChanged("height",new i.Height(parseInt(e.currentTarget.value),this.props.height.inches))}),r.createElement("input",{className:"height-part height-inches",type:"number",value:this.props.height.inches.toString(),onChange:e=>this.props.valueChanged("height",new i.Height(this.props.height.feet,parseInt(e.currentTarget.value)))}))),r.createElement("div",{className:"input-pair"},r.createElement("label",{htmlFor:"weight"},"Weight"),r.createElement("input",{id:"weight",className:"weight",type:"number",value:this.props.weight.toString(),onChange:e=>this.props.valueChanged("weight",parseInt(e.currentTarget.value))})),r.createElement("div",{className:"input-pair"},r.createElement("label",{htmlFor:"alignment"},"Alignment"),r.createElement("div",{className:"alignment-inputs"},r.createElement("select",{value:this.props.alignment.major,onChange:e=>this.props.valueChanged("alignment",new i.Alignment(e.currentTarget.value,this.props.alignment.minor))},r.createElement("option",{value:"Lawful"},"Lawful"),r.createElement("option",{value:"Neutral"},"Neutral"),r.createElement("option",{value:"Chaotic"},"Chaotic")),r.createElement("select",{value:this.props.alignment.minor,onChange:e=>this.props.valueChanged("alignment",new i.Alignment(this.props.alignment.major,e.currentTarget.value))},r.createElement("option",{value:"Good"},"Good"),r.createElement("option",{value:"Neutral"},"Neutral"),r.createElement("option",{value:"Evil"},"Evil")))))}}t.CharacterInfo=f;class m extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"class-info box"},r.createElement(g,{classes:this.props.classes,onClassChange:e=>this.classChanged(e),selectedClassKind:this.props.characterClass.name}),r.createElement(v,{classKind:this.props.characterClass.name,classDesc:this.props.characterClass.desc,details:this.props.characterClass.classDetails}))}classChanged(e){this.props.data.getClassDetails(e,1).then(t=>{this.props.onClassChange(new a.Class(e,1,t))})}}t.ClassInfo=m;class g extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"class-selector"},r.createElement("label",{htmlFor:"class-selection"},"Class"),r.createElement("select",{value:this.props.selectedClassKind,onChange:e=>this.props.onClassChange(e.currentTarget.value)},this.props.classes.map(e=>r.createElement("option",{value:e,key:e},e))))}}t.ClassSelector=g;class v extends r.Component{constructor(e){super(e),this.state={selectedFeatures:[]}}render(){return r.createElement(l.ListView,{className:`class-details ${this.props.classKind.toLowerCase()}`,headerText:"Class Description"},r.createElement(l.ListViewRow,null,this.props.classDesc),r.createElement(l.ListViewHeader,null,"Benefits at 1st Level"),this.props.details.features.map((e,t)=>{let n=this.state.selectedFeatures.includes(t);return r.createElement(l.ListViewRow,{className:"class-feature-row",key:`class-benefit-${t}`,onClick:()=>this.toggleFeature(t),title:n?"click for fewer details":"click for more details"},r.createElement("span",{className:"class-feature-name"},e.name),r.createElement("span",{className:"class-feature-spacer"},"-"),r.createElement("span",{className:"class-feature-desc"},n?this.renderLongDesc(e.longDesc,e.name):e.shortDesc))}))}toggleFeature(e){this.setState((t,n)=>{let r=t.selectedFeatures.indexOf(e),i=t.selectedFeatures;return r>-1?i.splice(r,1):i.push(e),{selectedFeatures:i}})}renderLongDesc(e,t){return r.createElement("span",null,e.split("\n").map((e,n)=>0===n?e:r.createElement("p",{key:`${t}-line-${n}`},e)))}}t.ClassDetailsComponent=v;class y extends r.Component{constructor(e){super(e),this.allRaces=o.Data.getAllRaces(),this.state={selectedRace:e.race}}render(){let e=o.Data.subRaceFor(this.state.selectedRace);return r.createElement("div",{className:"race-selector"},r.createElement("div",{className:"race-selector-title"},r.createElement("label",{htmlFor:"race-selection"},"Race"),r.createElement("select",{name:"race-selection",id:"race-selection",onChange:e=>this.handleChange(e,!1),value:this.state.selectedRace},this.allRaces.map((e,t)=>r.createElement("option",{value:e,key:`race-option-${t}`},e)))),e&&e.length>0?r.createElement("div",{className:"race-selector-title"},r.createElement("label",{htmlFor:"sub-race-selection"},"Sub Race"),r.createElement("select",{name:"sub-race-selection",id:"sub-race-selection",value:this.props.subRace||"",onChange:e=>this.handleChange(e,!0)},r.createElement("option",null),e.map((e,t)=>r.createElement("option",{value:e,key:`sub-race-option-${t}`},e)))):null)}handleChange(e,t){if(t){let t=e.currentTarget.value;t&&""!=t?this.props.subRaceChanged(t):this.props.subRaceChanged(null)}else{let t=e.currentTarget.value;this.setState({selectedRace:t},()=>this.props.onRaceChange(t))}}}t.RaceSelector=y;class b extends r.Component{constructor(e){super(e),this.state={backgroundIdx:-1,pendingBackground:c.Background.fromJson(e.characterBackground)}}render(){return r.createElement("div",{className:"background-info box"},r.createElement("div",{className:"background-info-title"},r.createElement("label",{htmlFor:"background-selection"},"Background"),r.createElement("select",{id:"background-selection",name:"background-selection",value:this.state.backgroundIdx,onChange:e=>this.backgroundSelected(e)},r.createElement("option",{hidden:!0,value:-1,disabled:!0}),this.props.backgrounds.map((e,t)=>r.createElement("option",{key:`${e.kind}`,value:t},e.kind)))),this.state.backgroundIdx>-1?r.createElement(l.ListView,{className:"background-desc"},r.createElement(l.ListViewHeader,null,"Skills"),this.props.characterBackground.skills.map(e=>r.createElement(l.ListViewRow,{className:"background-desc-row",key:`background-skill-${e}`},e)),this.renderLanguages(this.props.characterBackground.languages),this.renderTools(this.props.characterBackground.toolProficiencies,this.props.characterBackground.toolOptions)):null)}renderLanguages(e){return 0===e.length?null:[r.createElement(l.ListViewHeader,{key:"languages-list-header"},"Languages"),...e.map((e,t)=>r.createElement(l.ListViewRow,{key:`lang-${t}`},r.createElement("span",null,"Choose a Language"),r.createElement("select",{className:"language-select",onChange:e=>this.languageSelected(t,e),value:e||""},r.createElement("option",{value:"",disabled:!0,hidden:!0}),this.props.languages.map(e=>r.createElement("option",{key:`${e}-${t}`,value:e},e)))))]}languageSelected(e,t){let n=this.props.characterBackground.languages.map((n,r)=>r===e?t.currentTarget.value:n);this.props.onBackgroundChange(Object.assign(this.props.characterBackground,{languages:n}))}renderTools(e,t){return 0===e.length?null:[r.createElement(l.ListViewHeader,{key:"tools header"},"Tools"),this.renderTool(e[0],t[0],0),this.renderTool(e[1],t[1],1)]}renderTool(e,t,n){return e||t?t?r.createElement(l.ListViewRow,{key:`${e}-${n}`},r.createElement("span",null,"Choose a Tool"),r.createElement("select",{className:"tool-select",value:e||"",onChange:e=>this.toolSelected(n,e)},r.createElement("option",{value:"",disabled:!0,hidden:!0}),t.map((e,t)=>r.createElement("option",{key:`tool-${n}-${t}`,value:e},e)))):r.createElement(l.ListViewRow,{key:`${e}-${n}`},e):null}toolSelected(e,t){let n=this.props.characterBackground.toolProficiencies.map((n,r)=>r===e?t.currentTarget.value:n);this.props.onBackgroundChange(Object.assign(this.props.characterBackground,{toolProficiencies:n}))}backgroundSelected(e){let t=parseInt(e.currentTarget.value);this.setState({backgroundIdx:t},()=>{let e=c.Background.fromJson(this.props.backgrounds[t]);this.props.onBackgroundChange(e)})}}t.BackgroundInfo=b;class w extends r.Component{constructor(e){super(e)}render(){return r.createElement("div",{className:"ability-score-selector box"},r.createElement("span",{className:"ability-score-selector-title"},"Ability Scores"),r.createElement("span",{className:"ability-score-selector-remaining"},"Remaining Points: ",this.props.remaining),r.createElement("span",{title:"not reflected below",className:"racial-ability-score-bonuses"},"Racial Bonuses: ",this.props.racialScores.filter(e=>e[1]>0).map(e=>`${e[0]}: ${e[1]}`).join(" ")),r.createElement("div",{className:"ability-score-values"},this.props.scores.map(e=>{let t=this.props.primaryScores.includes(e.kind);return r.createElement("div",{key:`ability-score-value-${e.kind}`,className:`ability-score-value box ${t?"primary":""}`,title:t?"Primary Ability":null},r.createElement("span",{className:"ability-score-name"},e.kind),r.createElement("span",{className:"ability-score-value"},e.value),r.createElement("span",{className:"ability-score-mod"},e.modifier),r.createElement("div",{className:"ability-score-adjustor-buttons"},r.createElement("button",{disabled:e.value>14,onClick:()=>{let t=d.AbilityScores.fromJson(this.props.scores);t.set(e.kind,e.value+1),this.props.valueChanged(t)}},r.createElement("i",{style:{fontFamily:"Material Icons",lineHeight:1}},"expand_less")),r.createElement("button",{disabled:e.value<9,onClick:()=>{let t=d.AbilityScores.fromJson(this.props.scores);t.set(e.kind,e.value-1),this.props.valueChanged(t)}},r.createElement("i",{style:{fontFamily:"Material Icons",lineHeight:1}},"expand_more"))))})))}}t.AbilityScoreSelector=w;class k extends r.Component{constructor(e){super(e),this.state={}}render(){let e=this.props.skillCount-this.props.classSkills.length,t=Array.from(this.props.backgroundSkills.concat(this.props.skillOptions).reduce((e,t)=>(e.add(t),e),new Set)).sort((e,t)=>e[0]>t[0]?1:-1);return r.createElement("div",{className:"box skill-selector"},r.createElement("span",{className:"skill-selector-title"},"Skills"),r.createElement("span",{className:"skill-selector-remaining"},"Remaining Skills: ",e),r.createElement("div",{className:"skill-selector-values"},t.map(t=>{let n=this.props.backgroundSkills.includes(t),i=this.props.classSkills.includes(t)||n;return r.createElement("div",{key:t,className:`skill-selector-value ${i?"enabled":""}`,title:n?"free from background":null,onClick:()=>{if(n)return;let r;if(this.props.classSkills.indexOf(t)>-1)r=this.props.classSkills.filter(e=>e!=t);else{if(e<1)return;r=this.props.classSkills.concat([t])}this.props.onChange(r)}},r.createElement("span",null,t),n?r.createElement("i",null,"lock"):null)})))}}t.SkillsSelector=k},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),a=n(6),s=n(4),o=n(0),l=n(3),c=n(7),u=n(5);class d{static randomCharacter(){return r(this,void 0,void 0,function*(){let e=new l.Data,t=d.randomRace(),n=d.randomSubRace(t),r=new a.Race(t,n),c=d.randomClassKind(),h=yield e.getClassDetails(c,1),p=new s.Class(c,1,h),f=d.randomBackground();return new i.Character(i.Character.nextName(),new o.AbilityScores,r,p,f,r.preferredAlignment,0,d.randomHeight(r.heightRange[0],r.heightRange[1]),d.randomWeight(r.avgWeight),"grey",0,d.randomArmor(p.armorProfs[p.armorProfs.length-1]),p.canUseShield&&Math.random()>.5?new i.Armor("Shield",i.ArmorWeight.Heavy,2,null):null,new u.Skills,[],l.Data.startingWealthFor(p.name),r.languages.concat(f.languages),0,0,[],[])})}static randomClassKind(){return d.sampleEnum(s.ClassKind)}static randomRace(){return d.sampleEnum(a.RaceKind)}static randomSubRace(e){let t=l.Data.subRaceFor(e);return null===t?null:this.sample(t)}static randomAlignment(){return new i.Alignment(d.sampleEnum(i.AlignmentMajor),d.sampleEnum(i.AlignmentMinor))}static randomBackground(){return d.sample(c.ALL_BACKGROUNDS)}static randomHeight(e,t){let n=d.rng(e.feet,t.feet),r=d.rng(0,12);return new i.Height(n,r)}static randomWeight(e){let t=new Uint8Array([0,0,0,0,0,0,0,0,0,0]);for(;;){window.crypto.getRandomValues(t);for(var n=0;n<t.length;n++){let r=t[n],i=r/e;if(i>1&&i<1.3)return r;if(i<1&&i>.7)return r}}}static randomArmor(e){switch(e){case i.ArmorWeight.Heavy:return new i.Armor(i.HeavyArmor.RingMail,i.ArmorWeight.Heavy,4,0);case i.ArmorWeight.Light:return new i.Armor(i.LightArmor.Leather,i.ArmorWeight.Light,2,null);case i.ArmorWeight.Medium:return new i.Armor(i.MediumArmor.Hide,i.ArmorWeight.Medium,2,2)}}static rng(e,t){return Math.floor(Math.random()*(t-e))+e}static sample(e){return e[Math.floor(Math.random()*e.length)]}static sampleEnum(e){let t=Object.getOwnPropertyNames(e);return e[d.sample(t)]}}t.Randomizer=d}]);
//# sourceMappingURL=main.js.map